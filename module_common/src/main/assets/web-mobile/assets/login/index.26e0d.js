window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var d=o[a]={exports:{}};e[a][0].call(d.exports,function(t){return i(e[a][1][t]||t)},d,d.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AccountModel:[function(t,e,o){"use strict";cc._RF.push(e,"26aa0mbzgxPlIqIYJa7b/Zj","AccountModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r,a=t("../../comFrame/model/IDataModel");(function(t){t.SoundState="sound_state",t.MusicState="music_state",t.ServerToken="ServerToken",t.OpenID="OpenID",t.Account="Account",t.Password="Password",t.GAME_USER_INFO="GAME_USER_INFO",t.BASE_USER_INFO="BASE_USER_INFO"})(r||(r={}));var c=function(t){function e(){var e=t.call(this,"account")||this;e._baseUserInfo=null,e._gameUserInfo={},e._bHasLocalGameData=!0,e._isPassOneStage=!1;var o=e.Get(r.GAME_USER_INFO);o?cc.log("\u7f13\u5b58\u672c\u5730\u7684\u6e38\u620f\u6570\u636e - \u6709"):(cc.log("\u7f13\u5b58\u672c\u5730\u7684\u6e38\u620f\u6570\u636e - \u65e0"),e._bHasLocalGameData=!1,o={}),e._gameUserInfo=o;var n=e.Get(r.BASE_USER_INFO);return n?cc.log("\u7f13\u5b58\u672c\u5730\u7684\u6e38\u620f\u6570\u636e - \u6709"):(cc.log("\u7f13\u5b58\u672c\u5730\u7684\u6e38\u620f\u6570\u636e - \u65e0"),n={}),e._baseUserInfo=n,e}return i(e,t),e.prototype.getMessageListeners=function(){return{}},e.prototype.setBaseUserInfo=function(t){this._baseUserInfo=t},e.prototype.setBaseUserInfoByKey=function(t,e){this._baseUserInfo&&(this._baseUserInfo[t]=e)},e.prototype.saveBaseUserInfo=function(){this.Set(r.BASE_USER_INFO,this._baseUserInfo),this.Save()},e.prototype.getBaseUserInfo=function(){return this._baseUserInfo},e.prototype.setServerToken=function(t){this.Set(r.ServerToken,t),this.Save()},e.prototype.getServerToken=function(){return this.Get(r.ServerToken,"")},e.prototype.setOpenID=function(t){this.Set(r.OpenID,t),this.Save()},e.prototype.getOpenID=function(){return this.Get(r.OpenID,"")},e.prototype.setAccount=function(t){this.Set(r.Account,t),this.Save()},e.prototype.getAccount=function(){return this.Get(r.Account,"")},e.prototype.setPassword=function(t){this.Set(r.Password,t),this.Save()},e.prototype.getPassword=function(){return this.Get(r.Password,"")},e.prototype.setSoundState=function(t){this.Set(r.SoundState,t?1:0),this.Save()},e.prototype.getSoundState=function(){return 1==this.Get(r.SoundState,1)},e.prototype.setBgMusicState=function(t){this.Set(r.MusicState,t?1:0),this.Save()},e.prototype.getBgMusicState=function(){return 1==this.Get(r.MusicState,1)},e.prototype.isHasLocalGameData=function(){return this._bHasLocalGameData},e.prototype.saveGameUserInfo=function(){this.Set(r.GAME_USER_INFO,this._gameUserInfo),this.Save()},Object.defineProperty(e.prototype,"gameUserInfo",{get:function(){return this._gameUserInfo},set:function(t){this._gameUserInfo=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),e.prototype.setGameUserInfo=function(t,e){this._gameUserInfo[t]=e,this.saveGameUserInfo()},e.prototype.serverDataSaveInLocal=function(t){for(var e in cc.log("\u670d\u52a1\u5668\u6570\u636e\u540c\u6b65\u672c\u5730"),t)t.hasOwnProperty(e)&&(this._gameUserInfo[e]=t[e]);this.saveGameUserInfo()},e.prototype.setWatchVideoTime=function(t){void 0===t&&(t=0),this._gameUserInfo.watchVideoTime=t,this.saveGameUserInfo()},e.prototype.getWatchVideoTime=function(){return this._gameUserInfo.watchVideoTime||0},Object.defineProperty(e.prototype,"lastWxSubscribeTime",{get:function(){return this._gameUserInfo.lastWxSubscribeTime||0},set:function(t){this._gameUserInfo.lastWxSubscribeTime=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diamond",{get:function(){return this._gameUserInfo.diamond||0},set:function(t){this._gameUserInfo.diamond=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gold",{get:function(){return this._gameUserInfo.gold||0},set:function(t){this._gameUserInfo.gold=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlayFirst",{get:function(){return null==this._gameUserInfo.isPlayFirst||this._gameUserInfo.isPlayFirst},set:function(t){this._gameUserInfo.isPlayFirst=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoNum",{get:function(){return this._gameUserInfo.videoNum||0},set:function(t){this._gameUserInfo.videoNum=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dhmIds",{get:function(){return this._gameUserInfo.dhmIds||[]},set:function(t){this._gameUserInfo.dhmIds=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"guideOkIds",{get:function(){return this._gameUserInfo.guideOkIds||[]},set:function(t){this._gameUserInfo.guideOkIds=t,this.saveGameUserInfo()},enumerable:!1,configurable:!0}),e}(a.default);o.default=c,cc._RF.pop()},{"../../comFrame/model/IDataModel":"IDataModel"}],ActivityBtnState:[function(t,e,o){"use strict";cc._RF.push(e,"8df9c/8JSFPiZSCnjYm8aSg","ActivityBtnState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../model/ActivityModel"),c=t("../../../data/ConstantCf"),s=t("../../../comFrame/event/EventMng"),l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activityId=a.EActivityIds.SignIn,e.redNode=null,e.isRedAct=!1,e}return i(e,t),e.prototype.start=function(){s.default.on(c.EGameEvent.ACTIVITY_STATE,this.onUpdateActState.bind(this),this),this.updateState()},e.prototype.onDestroy=function(){s.default.off(c.EGameEvent.ACTIVITY_STATE,this.onUpdateActState.bind(this),this)},e.prototype.onUpdateActState=function(t){this.activityId==t&&this.updateState()},e.prototype.updateState=function(){this.node.active=!1},r([u({type:cc.Enum(a.EActivityIds),tooltip:"\u6d3b\u52a8id"})],e.prototype,"activityId",void 0),r([u({type:cc.Node,tooltip:"\u7ea2\u70b9node"})],e.prototype,"redNode",void 0),r([u({tooltip:"\u662f\u5426\u9700\u8981\u7ea2\u70b9\u65f6\u52a8\u753b"})],e.prototype,"isRedAct",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf","../../model/ActivityModel":"ActivityModel"}],ActivityModel:[function(t,e,o){"use strict";cc._RF.push(e,"2e366mtSG5PaJRpSOY0daX0","ActivityModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.EActivityIds=void 0;var r=t("../../comFrame/model/IDataModel"),a=t("../others/ServerCtr"),c=t("../others/GameCtr"),s=t("../../comFrame/utils/ComFun");(function(t){t[t.SignIn=0]="SignIn",t[t.Exchange=1]="Exchange",t[t.Vip=2]="Vip",t[t.VipGift=3]="VipGift",t[t.AddDesk=4]="AddDesk",t[t.Turntable=5]="Turntable",t[t.ColorEgg=6]="ColorEgg",t[t.SignInRP=7]="SignInRP",t[t.TurntableRP=8]="TurntableRP",t[t.PvPFreeMatch=9]="PvPFreeMatch",t[t.PvPReward=10]="PvPReward",t[t.DayTask=11]="DayTask"})(o.EActivityIds||(o.EActivityIds={}));var l=function(t){function e(){var e=t.call(this,"activity")||this;return e._dhmData={},e._isOpenExcharge=!1,e._topicStr="",e._interAdId="",e._delayTime=0,e._challengeMusicIds=[],e._videoOpenState=!1,e._openTime=0,e._openProb=0,e}return i(e,t),Object.defineProperty(e.prototype,"topicStr",{get:function(){var t=this._topicStr.split(" "),e="";cc.log(t);for(var o=0;o<2;o++)t[o]&&(e+=t[o]+" ");return t.length>2&&(e+=t[s.default.randomNum(2,t.length-1)]),cc.log(e),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interAdId",{get:function(){return this._interAdId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoOpenState",{get:function(){return this._videoOpenState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openTime",{get:function(){return this._openTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openProb",{get:function(){return this._openProb},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeDelayTime",{get:function(){return this._delayTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"challengeMusicIds",{get:function(){return this._challengeMusicIds},enumerable:!1,configurable:!0}),e.prototype.getMessageListeners=function(){return{}},e.prototype.initActivity=function(){return new Promise(function(t,e){a.default.getActivityDeploy(function(t){if(t&&t.sites){var o=t.now_time?Math.floor(t.now_time):s.default.getLocalTime();c.default.setSaveServerTime(o)}else e("\u83b7\u53d6\u8fd0\u8425\u6d3b\u52a8\u6570\u636e\u5931\u8d25!")})})},e}(r.default);o.default=l,cc._RF.pop()},{"../../comFrame/model/IDataModel":"IDataModel","../../comFrame/utils/ComFun":"ComFun","../others/GameCtr":"GameCtr","../others/ServerCtr":"ServerCtr"}],AdCtr:[function(t,e,o){"use strict";cc._RF.push(e,"3d845Ws1DdJ5pF+Lg35COme","AdCtr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/LoadHelper"),c=t("../../../comFrame/utils/ComFun"),s=t("../../others/UIHelp"),l=t("./UIAdPage"),d=t("../../others/TipsMng"),u=t("../../../data/Config"),p=cc._decorator,h=p.ccclass,f=(p.property,{wx:"prefabs/ui/adNode/wxAdNode",qq:"prefabs/ui/adNode/qqAdNode",tt:"prefabs/ui/adNode/ttAdNode",qg:"prefabs/ui/adNode/vivoAdNode",android:"prefabs/ui/adNode/androidAdNode"}),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._config=null,e._adIndex=-1,e._mistouchPosIndex=0,e._mistouchNum=0,e._mistouchInterval=0,e.adData={},e._gameRecorderManager=null,e._isInRecord=!1,e._videoPath="",e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"adConfig",{get:function(){return this._config},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o.instance=this,this._isInRecord=!1,cc.game.addPersistRootNode(this.node)},e.prototype.start=function(){this.loadConfig()},e.prototype.init=function(){var t=this;this.loadAdNode(),u.default.ModelAPI==u.EAPIModel.TT&&(window.tt.onShow(function(e){console.log("wx_onShow:",e),t._gameRecorderManager&&t.onRecord("resume")}),window.tt.onHide(function(e){console.log("tt_onHide:",e),t._gameRecorderManager&&t.onRecord("pause")}))},e.prototype.loadConfig=function(){},e.prototype.loadAdNode=function(){var t=this,e=f[u.default.ModelAPI];console.log("\u52a0\u8f7d\u5e7f\u544anode",e),e&&(console.log("\u52a0\u8f7d\u5e7f\u544anode",e),a.default.loadPrefab(e).then(function(e){cc.instantiate(e).parent=t.node}).catch(function(){t.loadAdNode()}))},e.prototype.getOneAdData=function(){if(this.adData&&this.adData.indexLeft&&0!=this.adData.indexLeft.length)return this._adIndex++,this.adData.indexLeft[this._adIndex]||(this._adIndex=0),this.adData.indexLeft[this._adIndex]},e.prototype.getShuffleAdData=function(){if(this.adData&&this.adData.indexLeft&&0!=this.adData.indexLeft.length){for(var t=[],e=0;e<this.adData.indexLeft.length;e++)t.push(this.adData.indexLeft[e]);return c.default.getShuffleArray(t),t}},e.prototype.beginMisPosTimeTouch=function(t,e,o,n){var i=this;void 0===e&&(e=0),void 0===o&&(o=0);var r=this.adConfig.mistouchPosNum||0,a=r>0&&0==this._mistouchPosIndex;if(this._mistouchPosIndex++,this._mistouchPosIndex>=r&&(this._mistouchPosIndex=0),cc.log(a),a){this.scheduleOnce(function(){i.scheduleOnce(function(){for(var r=0;r<t.length;r++){var a=t[r];a.off(cc.Node.EventType.TOUCH_END,c,null,!0),a.y-=e}o?i.scheduleOnce(function(){n&&n()},o):n&&n()},1.5)},.5);for(var c=function(t){t.stopPropagationImmediate()},s=0;s<t.length;s++){var l=t[s];l.y+=e,l.on(cc.Node.EventType.TOUCH_END,c,null,!0)}}else n&&n()},e.prototype.beginMisPosTouch=function(t,e,o,n){var i=this;void 0===e&&(e=0),void 0===o&&(o=0);var r=this.adConfig.mistouchPosNum||0,a=r>0&&0==this._mistouchPosIndex;if(this._mistouchPosIndex++,this._mistouchPosIndex>=r&&(this._mistouchPosIndex=0),cc.log(a),a)for(var c=3,s=function(r){if(r.stopPropagationImmediate(),c--,cc.log("clickNum",c),0==c){for(var a=0;a<t.length;a++){var l=t[a];l.off(cc.Node.EventType.TOUCH_END,s,null,!0),l.y-=e}o?i.scheduleOnce(function(){n&&n()},o):n&&n()}},l=0;l<t.length;l++){var d=t[l];d.y+=e,d.on(cc.Node.EventType.TOUCH_END,s,null,!0)}else n&&n()},e.prototype.showAdPage=function(t){u.default.ModelAPI==u.EAPIModel.WeChat?s.default.showUI(l.default,null,{closeCallFun:function(){t&&t()}}):t&&t()},e.prototype.isCanMisTouch=function(t){void 0===t&&(t=!0);var e=!1;if(this.adConfig){var o=this.adConfig.mistouchNum||0;e=o>0&&0==this._mistouchNum,t&&this._mistouchNum++,this._mistouchNum>=o&&(this._mistouchNum=0)}return e},e.prototype.onRecord=function(t,e){var o=this,n=window.tt;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)switch(console.log("gameRecorder",t),t){case"start":this._gameRecorderManager||(this._gameRecorderManager=n.getGameRecorderManager(),this._gameRecorderManager.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb\u56de\u8c03")}),this._gameRecorderManager.onPause(function(){console.log("\u5f55\u5c4f\u6682\u505c\u56de\u8c03")}),this._gameRecorderManager.onResume(function(){console.log("\u5f55\u5c4f\u6062\u590d\u56de\u8c03")}),this._gameRecorderManager.onStop(function(t){console.log("\u5f55\u5c4f\u505c\u6b62\u56de\u8c03",t.videoPath),o._videoPath=t.videoPath||""})),this._gameRecorderManager.start({duration:300});break;case"pause":this._gameRecorderManager&&this._gameRecorderManager.pause();break;case"resume":this._gameRecorderManager&&this._gameRecorderManager.resume();break;case"stop":this._gameRecorderManager&&this._gameRecorderManager.stop();break;case"share":this._videoPath&&this._videoPath.length>0?(console.log("gameRecorder","\u5f00\u59cb\u89c6\u9891\u5206\u4eab"),n.shareAppMessage({channel:"video",title:"\u6e38\u620f\u7cbe\u5f69\u89c6\u9891",desc:"\u6e38\u620f\u7cbe\u5f69\u89c6\u9891",imageUrl:"",templateId:"",query:"",extra:{videoPath:this._videoPath,videoTopics:["\u6551\u6551\u5c0f\u9e1f"]},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e&&e(!0)},fail:function(t){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25",t)}})):(console.log("gameRecorder","\u6ca1\u6709\u5f55\u5c4f\u6587\u4ef6"),d.default.showTips("\u5f55\u5c4f\u65f6\u95f4\u8fc7\u77ed\uff01"))}else e&&e(!0)},e.prototype.showVideo=function(t){t&&t()},e.instance=null,o=r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../comFrame/utils/ComFun":"ComFun","../../../data/Config":"Config","../../others/TipsMng":"TipsMng","../../others/UIHelp":"UIHelp","../common/LoadHelper":"LoadHelper","./UIAdPage":"UIAdPage"}],AdMgr:[function(t,e,o){"use strict";cc._RF.push(e,"055b7q9Sc1GP5kLAckmIw1a","AdMgr");var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../data/Config"),s=t("../../data/ConstantCf"),l=t("../../GameController"),d=t("../../GameDataCenter"),u=t("../../logic/adSdk/AdSdkBaidu"),p=t("../../logic/adSdk/AdSdkBase"),h=t("../../logic/adSdk/AdSdkOppo"),f=t("../../logic/adSdk/AdSdkQQ"),y=t("../../logic/adSdk/AdSdkTT"),_=t("../../logic/adSdk/AdSdkVivo"),g=t("../../logic/adSdk/AdSdkWX"),v=t("../../logic/others/UIHelp"),m=t("../../logic/ui/adNode/UIAdFullPage"),w=t("../../logic/ui/common/LoadHelper"),A=t("../event/EventMng"),b=t("../ui/UIMng"),S=t("../utils/ComFun"),I=t("./AdShareMgr"),C=t("./BannerAd"),O=((i={})[c.EAPIModel.WeChat]="prefabs/ui/adNode/wxAdNode",i[c.EAPIModel.TT]="prefabs/ui/adNode/ttAdNode",i[c.EAPIModel.QQ]="prefabs/ui/adNode/qqAdNode",i[c.EAPIModel.BAIDU]="prefabs/ui/adNode/baiduAdNode",i[c.EAPIModel.XM]="prefabs/ui/adNode/xmAdNode",i[c.EAPIModel.Android]="prefabs/ui/adNode/androidAdNode",i[c.EAPIModel.VIVO]="prefabs/ui/adNode/vivoAdNode",i[c.EAPIModel.OPPO]="prefabs/ui/adNode/oppoAdNode",i),P=cc._decorator,E=P.ccclass,N=(P.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bInit=!1,e._adSdk=null,e._canPlayTimes=0,e}var o;return r(e,t),o=e,Object.defineProperty(e.prototype,"adSdk",{get:function(){return this._adSdk},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),o.instance=this},e.prototype.onDestroy=function(){},e.prototype.init=function(t){var e=this;return new Promise(function(o,n){if(e._bInit)o();else{e._bInit=!0;try{switch(c.default.ModelAPI){case c.EAPIModel.WeChat:e._adSdk=new g.default;break;case c.EAPIModel.BAIDU:e._adSdk=new u.default;break;case c.EAPIModel.TT:e._adSdk=new y.default;break;case c.EAPIModel.QQ:e._adSdk=new f.default;break;case c.EAPIModel.OPPO:e._adSdk=new h.default;break;case c.EAPIModel.VIVO:e._adSdk=new _.default;break;default:e._adSdk=new p.default}e._adSdk?e._adSdk.init(d.default.account.getOpenID(),t).then(function(){e._adSdk.isOpen&&e.loadAdMgr(),o()}):o()}catch(i){console.error(i),n()}}})},e.prototype.loadAdMgr=function(){var t=this;console.log("loadAdMgr");var e=O[c.default.ModelAPI];e&&w.default.loadPrefab(e).then(function(e){cc.instantiate(e).parent=t.node}).catch(function(t){console.log(t)})},e.prototype.getShuffleAdData=function(t){var e=this;return void 0===t&&(t=0),new Promise(function(o){e._adSdk?e._adSdk.loadAdData(t).then(function(t){o(t?S.default.getShuffleArray(t):[])}):o([])})},e.prototype.navigateToProgram=function(t){var e=this;return new Promise(function(o,n){var i=b.default.getInstance().getTopUIName();l.default.sendEvent("\u8df3\u8f6c\u5f00\u59cb",{ui:i}),e._adSdk.navigateToProgram(t).then(function(){console.log("\u8df3\u8f6c\u6210\u529f"),l.default.sendEvent("\u8df3\u8f6c\u6210\u529f",{ui:i}),o()}).catch(function(t){console.log("\u8df3\u8f6c\u5931\u8d25",t),l.default.sendEvent("\u8df3\u8f6c\u5931\u8d25",{ui:i}),n()})})},e.prototype.showAdPage=function(t){t&&t()},e.prototype.showAdFullPage=function(t,e){void 0===t&&(t=!0),c.default.ModelAPI==c.EAPIModel.WeChat?v.default.showUI(m.default,null,{isMissTouch:t,closeCallFun:function(){e&&e()}}):e&&e()},e.prototype.beginMisPosTimeTouch=function(t,e,o,n){var i=this;void 0===e&&(e=0),void 0===o&&(o=0);var r=this.adSdk.isOpenMisTouch(s.EMisTouchIds.WYWC);if(cc.log(r),r&&C.default.getInstance().isOpen()){var a=!1,c=function(){a||(a=!0,i.scheduleOnce(function(){o>=0&&i.showBanner(!1);for(var r=0;r<t.length;r++){var a=t[r];a.off(cc.Node.EventType.TOUCH_END,l,null,!0),a.y-=e}n&&n()},o>0?o:0))};this.scheduleOnce(function(){i.showBanner(!0,function(){c()}),i.scheduleOnce(function(){c()},1)},1.5);for(var l=function(t){t.stopPropagationImmediate()},d=0;d<t.length;d++){var u=t[d];u.y+=e,u.on(cc.Node.EventType.TOUCH_END,l,null,!0)}}else n&&n()},e.prototype.beginMisClickTouch=function(t,e,o,n){var i=this;void 0===e&&(e=0),void 0===o&&(o=0);var r=this.adSdk.isOpenMisTouch(s.EMisTouchIds.WYWC);if(cc.log(r),r&&C.default.getInstance().isOpen()){var a,c=!1,l=function(){c||(c=!0,i.scheduleOnce(function(){i.showBanner(!1);for(var e=0;e<t.length;e++)t[e].off(cc.Node.EventType.TOUCH_END,a,null,!0);n&&n()},o))},d=!1;a=function(t){t.stopPropagationImmediate(),d||(d=!0,i.showBanner(!0,function(){l()},e),i.scheduleOnce(function(){l()},1))};for(var u=0;u<t.length;u++)t[u].on(cc.Node.EventType.TOUCH_END,a,null,!0)}else n&&n()},e.prototype.loadBanner=function(){console.log("\u52a0\u8f7dbanner"),A.default.emit(C.EBannerAdEvent.NEW)},e.prototype.showBanner=function(t,e,o){void 0===t&&(t=!1),void 0===o&&(o=0),A.default.emit(t?C.EBannerAdEvent.SHOW:C.EBannerAdEvent.HIDE,{callback:e,delayShow:o})},e.prototype.isVideoMistouch=function(t){var e=this.adSdk.isOpenMisTouch(s.EMisTouchIds.VIDEO);return cc.log(e),e&&this._canPlayTimes==t&&(l.default.sendEvent("\u89c6\u9891\u8bef\u89e6\u70b9\u51fb"),I.default.getInstance().showAdVideo(s.EAdShareIds.Video)),this._canPlayTimes++,e},e.instance=null,o=a([E],e)}(cc.Component));o.default=N,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../../data/Config":"Config","../../data/ConstantCf":"ConstantCf","../../logic/adSdk/AdSdkBaidu":"AdSdkBaidu","../../logic/adSdk/AdSdkBase":"AdSdkBase","../../logic/adSdk/AdSdkOppo":"AdSdkOppo","../../logic/adSdk/AdSdkQQ":"AdSdkQQ","../../logic/adSdk/AdSdkTT":"AdSdkTT","../../logic/adSdk/AdSdkVivo":"AdSdkVivo","../../logic/adSdk/AdSdkWX":"AdSdkWX","../../logic/others/UIHelp":"UIHelp","../../logic/ui/adNode/UIAdFullPage":"UIAdFullPage","../../logic/ui/common/LoadHelper":"LoadHelper","../event/EventMng":"EventMng","../ui/UIMng":"UIMng","../utils/ComFun":"ComFun","./AdShareMgr":"AdShareMgr","./BannerAd":"BannerAd"}],AdSdkBaidu:[function(t,e,o){"use strict";cc._RF.push(e,"155dcPjWstPNIZZ8GMqWNyj","AdSdkBaidu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.loadAdData=function(){return new Promise(function(t){t()})},e.prototype.navigateToProgram=function(){return new Promise(function(t){t()})},e.prototype.isShowEndSceneAd=function(){return!1},e}(t("./AdSdkBase").default);o.default=r,cc._RF.pop()},{"./AdSdkBase":"AdSdkBase"}],AdSdkBase:[function(t,e,o){"use strict";cc._RF.push(e,"f8d36gIKEhJtbLi9UgbBnwc","AdSdkBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../data/ConstantCf"),i=function(){function t(){this._data=null,this._openId="",this._open=!1,this._misTouchStates=[],this._missTouchtimes=[],this._misTouchNums=[]}return Object.defineProperty(t.prototype,"missTouchtimes",{get:function(){return this._missTouchtimes||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._open},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e){var o=this;return new Promise(function(i){o._openId=t,o._open=e.open,o._data=e;var r=e.sites;o.setOpenMisTouch(n.EMisTouchIds.MCWC,r.mcbx&&"1"==r.mcbx),o.setOpenMisTouch(n.EMisTouchIds.WYWC,r.fxwywc&&"1"==r.fxwywc),o.setOpenMisTouch(n.EMisTouchIds.VIDEO,r.fxksyxspwc&&"1"==r.fxksyxspwc),o.setOpenMisTouch(n.EMisTouchIds.CLOSE_BTN,r.closebtnwc&&"1"==r.closebtnwc),o.setOpenMisTouch(n.EMisTouchIds.WX_TOPTIPS,r.wxtoptipswc&&"1"==r.wxtoptipswc),o.setOpenMisTouch(n.EMisTouchIds.WX_FRIENDPLAY,r.wxfriendplaywc&&"1"==r.wxfriendplaywc),o.setOpenMisTouch(n.EMisTouchIds.WX_FRIENDCHALLENGE,r.wxfriendchallengewc&&"1"==r.wxfriendchallengewc),o.setOpenMisTouch(n.EMisTouchIds.WX_RPTJBTN,r.dcwhb&&"1"==r.dcwhb),r.jlcfsp&&"1"==r.jlcfsp&&(o._misTouchNums[n.EMisTouchIds.BACK_VIDEO]=parseInt(r.jlcfsp_gl||"0")),r.tltcwc&&"1"==r.tltcwc&&(o._misTouchNums[n.EMisTouchIds.POWERADD_VIDEO]=parseInt(r.tltcwc_gl||"0")),o._missTouchtimes=[];for(var a=r.mcbx_show||"",c=0;c<a.length;c++)o._missTouchtimes.push(parseInt(a[c]));console.log("missTouchtimes",o._missTouchtimes),o.initSdk().then(function(){i()})})},t.prototype.initSdk=function(){return new Promise(function(t){t()})},t.prototype.loadAdData=function(){return new Promise(function(t){t()})},t.prototype.navigateToProgram=function(){return new Promise(function(t){t()})},t.prototype.isShowEndSceneAd=function(){return!1},t.prototype.isOpenMisTouch=function(t){return this._misTouchStates[t]||!1},t.prototype.setOpenMisTouch=function(t,e){void 0===e&&(e=!1),this._misTouchStates[t]=e},t.prototype.getMisTouchNum=function(t){return this._misTouchNums[t]||0},t.prototype.randomMisTouch=function(t){var e=100*Math.random();return this.getMisTouchNum(t)>=e},t}();o.default=i,cc._RF.pop()},{"../../data/ConstantCf":"ConstantCf"}],AdSdkOV:[function(t,e,o){"use strict";cc._RF.push(e,"e5ceeV1ClROZJnZ4781cGbx","AdSdkOV");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./AdSdkBase"),a=t("../../GameController"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thirdAdData=null,e}return i(e,t),e.prototype.init=function(e,o){var n=this;return void 0===o&&(o=!1),new Promise(function(i,r){try{t.prototype.init.call(n,e,o),a.default.sdkManager.ThridSdkInit().then(function(){var t=qg.ylGetSwitchInfo();t&&null!=t.switchPush?n._open="1"==t.switchPush:n._open=!1,i()})}catch(c){console.log(c),r()}})},e.prototype.loadAdData=function(t,e){var o=this;return new Promise(function(t){e&&(o.thirdAdData=e),console.log("loadAdData  : ",e),t(o.thirdAdData)})},e.prototype.navigateToProgram=function(t){return new Promise(function(e){a.default.sdkManager.navigateToMiniProgram(t.toUrl),e()})},e.prototype.isShowEndSceneAd=function(){return this.isOpen},e.prototype.setOpenMisTouch=function(e,o,n){void 0===o&&(o=!1),void 0===n&&(n=!1),n&&t.prototype.setOpenMisTouch.call(this,e,o)},e}(r.default);o.default=c,cc._RF.pop()},{"../../GameController":"GameController","./AdSdkBase":"AdSdkBase"}],AdSdkOppo:[function(t,e,o){"use strict";cc._RF.push(e,"08ceatQNthFHYaX2yftHe26","AdSdkOppo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./AdSdkBase"),a=t("../../GameController"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thirdAdData=null,e}return i(e,t),e.prototype.loadAdData=function(t,e){var o=this;return new Promise(function(t){e&&(o.thirdAdData=e),console.log("loadAdData  : ",e),t(o.thirdAdData)})},e.prototype.navigateToProgram=function(t){return new Promise(function(e){a.default.sdkManager.navigateToMiniProgram(t.toUrl),e()})},e.prototype.isShowEndSceneAd=function(){return this.isOpen},e.prototype.setOpenMisTouch=function(e,o,n){void 0===o&&(o=!1),void 0===n&&(n=!1),n&&t.prototype.setOpenMisTouch.call(this,e,o)},e}(r.default);o.default=c,cc._RF.pop()},{"../../GameController":"GameController","./AdSdkBase":"AdSdkBase"}],AdSdkQQ:[function(t,e,o){"use strict";cc._RF.push(e,"c30a0Lra7RG1rx24mI3QegL","AdSdkQQ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../comFrame/utils/ComFun"),a=t("../../data/Config"),c=t("../../data/ConstantCf"),s=t("../../GameController"),l=t("../../GameDataCenter"),d=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o._sdk=t("../../yyw/SDKyyw.min"),o._isOpenRp=!1,o}return i(o,e),Object.defineProperty(o.prototype,"isOpenRp",{get:function(){return this._isOpenRp},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"sdk",{get:function(){return this._sdk},enumerable:!1,configurable:!0}),o.prototype.initSdk=function(){var t=this;return new Promise(function(e){t._sdk.initLoginCallback=function(o){if(console.log("\u521d\u59cb\u5316\u56de\u8c03\u83b7\u53d6\u5230\u7684\u53c2\u6570",o),o&&"1"==o.status){var n=o.data.scene+"";console.log("\u5f53\u524dQQ\u573a\u666f\u503c",n);for(var i=t._data.sites,r=[[c.EMisTouchIds.WYWC,"fxwywc"],[c.EMisTouchIds.VIDEO,"fxksyxspwc"],[c.EMisTouchIds.CLOSE_BTN,"closebtnwc"],[c.EMisTouchIds.WX_TOPTIPS,"wxtoptipswc"],[c.EMisTouchIds.WX_FRIENDPLAY,"wxfriendplaywc"],[c.EMisTouchIds.WX_FRIENDCHALLENGE,"wxfriendchallengewc"],[c.EMisTouchIds.MCWC,"mcbx"],[c.EMisTouchIds.WX_RPTJBTN,"dcwhb"]],s=0;s<r.length;s++){var l=r[s],d=i[l[1]+"_pbscene"];i&&d&&""!=d&&d.split(",").indexOf(n)>-1&&(t.setOpenMisTouch(l[0],!1),console.log("\u5728\u5c4f\u853d\u573a\u666f\u4e2d",n))}(a.default.playCf.rpQQSceneIds||[]).indexOf(parseInt(n))>-1&&(t._isOpenRp=!0)}e()},t._sdk.initLogin(1000115,"4fa7eaadbe9e9c9640190169a06d47e1")})},o.prototype.loadAdData=function(){return new Promise(function(t){t()})},o.prototype.navigateToProgram=function(){return new Promise(function(t){t()})},o.prototype.isShowEndSceneAd=function(){return!1},o.prototype.onAddDesktop=function(t){this._sdk.saveAppToDesktopCallback=function(e){console.log("\u53d1\u9001\u5230\u684c\u9762",e),t&&t(e&&"1"==e.status)},this._sdk.saveAppToDesktop()},o.prototype.onShare=function(t){var e=this;return new Promise(function(o){e._sdk.shareAppMessageCallback=function(t){console.log("\u83b7\u53d6\u5206\u4eab\u53c2\u6570",t),o(t&&"1"==t.status)},e._sdk.shareAppMessage(t)})},o.prototype.onSendRedPacket=function(t){var e=this;return new Promise(function(o,n){e._sdk.getRedEnvelopesCallback=function(t){console.log("\u7ea2\u5305\u56de\u8c03\u53c2\u6570",t),t&&"1"==t.status?o():n(t.msg)};var i=l.default.account.getBaseUserInfo(),a=r.default.getLocalTime(1)+"#"+t+"#"+i.charId;r.default.generateUUID();var c={gameorderid:a,wishing:"\u6709\u4e00\u73a9\u7ea2\u5305",act_name:"\u7ea2\u5305\u63d0\u73b0",min_value:1,max_value:2e4,money:t,pext:"\u9644\u52a0\u53c2\u6570",icon_id:"2068",banner_id:"2069",roleId:i.charId,roleName:i.nickName,serverId:"QQ",gamever:"1.0.0"};e._sdk.getRedEnvelopes(c)})},o.prototype.isQQ=function(){return"qq"==s.default.sdkManager.getUserInfo().systemInfo.AppPlatform},o}(t("./AdSdkBase").default);o.default=d,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../../comFrame/utils/ComFun":"ComFun","../../data/Config":"Config","../../data/ConstantCf":"ConstantCf","../../yyw/SDKyyw.min":void 0,"./AdSdkBase":"AdSdkBase"}],AdSdkTT:[function(t,e,o){"use strict";cc._RF.push(e,"a80dehqYAxH2IXXrh4ehk8y","AdSdkTT");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../data/ConstantCf"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initSdk=function(){var t=this;return new Promise(function(e){var o=tt.getLaunchOptionsSync().scene+"";console.log("\u5f53\u524dTT\u573a\u666f\u503c",o);for(var n=t._data.sites,i=[[r.EMisTouchIds.WYWC,"fxwywc"],[r.EMisTouchIds.VIDEO,"fxksyxspwc"],[r.EMisTouchIds.CLOSE_BTN,"closebtnwc"],[r.EMisTouchIds.WX_TOPTIPS,"wxtoptipswc"],[r.EMisTouchIds.WX_FRIENDPLAY,"wxfriendplaywc"],[r.EMisTouchIds.WX_FRIENDCHALLENGE,"wxfriendchallengewc"],[r.EMisTouchIds.MCWC,"mcbx"]],a=0;a<i.length;a++){var c=i[a],s=n[c[1]+"_pbscene"];n&&s&&""!=s&&s.split(",").indexOf(o)>-1&&(t.setOpenMisTouch(c[0],!1),console.log("\u5728\u5c4f\u853d\u573a\u666f\u4e2d",o))}e()})},e.prototype.loadAdData=function(){return new Promise(function(t){t()})},e.prototype.navigateToProgram=function(){return new Promise(function(t){t()})},e.prototype.isShowEndSceneAd=function(){return!1},e}(t("./AdSdkBase").default);o.default=a,cc._RF.pop()},{"../../data/ConstantCf":"ConstantCf","./AdSdkBase":"AdSdkBase"}],AdSdkVivo:[function(t,e,o){"use strict";cc._RF.push(e,"b0353lxvu1CQ44BI8YEvjIu","AdSdkVivo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./AdSdkBase"),a=t("../../GameController"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thirdAdData=null,e}return i(e,t),e.prototype.loadAdData=function(t,e){var o=this;return new Promise(function(t){e&&(o.thirdAdData=e),console.log("loadAdData  : ",e),t(o.thirdAdData)})},e.prototype.navigateToProgram=function(t){return new Promise(function(e){a.default.sdkManager.navigateToMiniProgram(t.toUrl),e()})},e.prototype.isShowEndSceneAd=function(){return this.isOpen},e.prototype.setOpenMisTouch=function(e,o,n){void 0===o&&(o=!1),void 0===n&&(n=!1),n&&t.prototype.setOpenMisTouch.call(this,e,o)},e}(r.default);o.default=c,cc._RF.pop()},{"../../GameController":"GameController","./AdSdkBase":"AdSdkBase"}],AdSdkWX:[function(t,e,o){"use strict";cc._RF.push(e,"b5731Qz/zhIj7eoaQZQ3tfo","AdSdkWX");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../data/ConstantCf"),a=t("../others/GameCtr"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._adDatas={},e._curKey="",e._hasNavigateAppIds=null,e._updateNAITime=0,e}return i(e,t),e.prototype.initSdk=function(){var t=this;return new Promise(function(){if(window.wx){var e=wx.getLaunchOptionsSync().scene+"";console.log("\u5f53\u524d\u5fae\u4fe1\u573a\u666f\u503c",e);for(var o=t._data.sites,n=[[r.EMisTouchIds.WYWC,"fxwywc"],[r.EMisTouchIds.VIDEO,"fxksyxspwc"],[r.EMisTouchIds.CLOSE_BTN,"closebtnwc"],[r.EMisTouchIds.WX_TOPTIPS,"wxtoptipswc"],[r.EMisTouchIds.WX_FRIENDPLAY,"wxfriendplaywc"],[r.EMisTouchIds.WX_FRIENDCHALLENGE,"wxfriendchallengewc"],[r.EMisTouchIds.MCWC,"mcbx"],[r.EMisTouchIds.WX_RPTJBTN,"dcwhb"]],i=0;i<n.length;i++){var a=n[i],c=o[a[1]+"_pbscene"];o&&c&&""!=c&&c.split(",").indexOf(e)>-1&&(t.setOpenMisTouch(a[0],!1),console.log("\u5728\u5c4f\u853d\u573a\u666f\u4e2d",e))}}})},e.prototype.loadAdData=function(){return new Promise(function(){})},e.prototype.navigateToProgram=function(){return new Promise(function(){})},e.prototype.isShowEndSceneAd=function(){return this.isOpen},Object.defineProperty(e.prototype,"hasNavigateAppIds",{get:function(){if(!this._hasNavigateAppIds)if(a.default.isNeedTimeUpdate(this.updateNAITime))this.updateNAITime=a.default.getCurServerTime(),this._hasNavigateAppIds=[];else{var t=cc.sys.localStorage.getItem("NavigateAppIds");if(t&&""!=t){var e=JSON.parse(t);e instanceof Array&&(this._hasNavigateAppIds=e)}}return this._hasNavigateAppIds||[]},set:function(t){this._hasNavigateAppIds=t,cc.sys.localStorage.setItem("NavigateAppIds",JSON.stringify(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateNAITime",{get:function(){return this._updateNAITime||(this._updateNAITime=cc.sys.localStorage.getItem("updateNAITime")||0),this._updateNAITime||0},set:function(t){this._updateNAITime=t,cc.sys.localStorage.setItem("updateNAITime",t)},enumerable:!1,configurable:!0}),e}(t("./AdSdkBase").default);o.default=c,cc._RF.pop()},{"../../data/ConstantCf":"ConstantCf","../others/GameCtr":"GameCtr","./AdSdkBase":"AdSdkBase"}],AdShareMgr:[function(t,e,o){"use strict";cc._RF.push(e,"24322N0De1HgJvMVefodLy2","AdShareMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.ESHARETYPE=o.EAdShareEvent=o.EAdShareUseType=o.EventOff=o.EventOn=o.EventEmit=void 0;var n=t("../../GameController"),i=t("./WxAdVideoMgr"),r=t("../../logic/others/ServerCtr"),a=t("../../logic/others/GameCtr"),c=t("../../GameDataCenter"),s=t("../event/EventMng");o.EventEmit=function(t,e){console.log("EventEmit:",t,e),s.default.emit(t,e)},o.EventOn=function(t,e,o,n){s.default.on(t,e,o,n)},o.EventOff=function(t,e,o){s.default.off(t,e,o)};var l,d,u,p=function(t,e,o,i,r){n.default.sdkManager.shareAppMessage(t,e,o,i,r)};(function(t){t[t.EASUT_USEAD=0]="EASUT_USEAD",t[t.EASUT_USESHARE=1]="EASUT_USESHARE",t[t.EASUT_NOUSE=2]="EASUT_NOUSE"})(l=o.EAdShareUseType||(o.EAdShareUseType={})),function(t){t.EASE_USE_CLICK="use_click",t.EASE_USE_STATE="use_state",t.EASE_USE_OK="use_ok",t.EASE_USE_FAIL="use_fail"}(d=o.EAdShareEvent||(o.EAdShareEvent={})),function(t){t[t.NEWIN=1]="NEWIN",t[t.NORMAL=2]="NORMAL"}(u=o.ESHARETYPE||(o.ESHARETYPE={}));var h=function(){function t(){this._adShareDatas={},this._bOpen=!1,this._adNum=0,this._charId="",this._bannerId="",this._initAdShareNums=[]}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.init=function(t){this._bOpen=1==t.bOpen,this._adNum=t.adNum,this._charId=c.default.account.getBaseUserInfo().charId,this._adShareDatas={};for(var e=0;e<t.adShareDatas.length;e++){var o=t.adShareDatas[e];this._adShareDatas[o.mId]=o,this._initAdShareNums[o.mId-1]=o.totalNum}i.default.getInstance().onLoadVideoAd(t.adVideoId)},Object.defineProperty(t.prototype,"initAdShareNums",{get:function(){return this._initAdShareNums||[]},enumerable:!1,configurable:!0}),t.prototype.getBannerAdId=function(){return this._bannerId},t.prototype.getCharId=function(){return this._charId},t.prototype.getData=function(t){return this._adShareDatas[t]},t.prototype.setOpenState=function(t){void 0===t&&(t=!1),this._bOpen=t,!this._bOpen&&o.EventEmit(d.EASE_USE_STATE)},t.prototype.hasAdNum=function(){return this._adNum-a.default.getTodayWatchVideoTimes()},t.prototype.canVideo=function(t){return void 0===t&&(t=-1),!!this._adShareDatas[t]&&this._adShareDatas[t].showVideo&&this.hasAdNum()},t.prototype.getShareId=function(t){return void 0===t&&(t=-1),this._adShareDatas[t]&&this._adShareDatas[t].shareId||0},t.prototype.useAdShareState=function(t){return void 0===t&&(t=-1),l.EASUT_USEAD},t.prototype.showAdVideo=function(t,e,o,r){var a=this;void 0===t&&(t=-1),void 0===r&&(r=!0),-1!=t?(console.log("\u4f7f\u7528\u5e7f\u544a"),n.default.sendEvent("\u64ad\u653e\u5e7f\u544a",t),i.default.getInstance().onShowVideoAd(function(){console.log("showAdVideo success moduleId =",t),n.default.sendEvent("\u64ad\u653e\u5e7f\u544a\u5b8c\u6210",t),e&&e()},function(e){console.log("showAdVideo fail moduleId =",t),n.default.sendEvent("\u64ad\u653e\u5e7f\u544a\u5931\u8d25",t),o&&o(e)},function(){n.default.sendEvent("\u64ad\u653e\u5e7f\u544a\u9519\u8bef",t),r?a.showShare(t,e,o):o&&o("")})):console.error("showAdVideo error\uff1amId =",t)},t.prototype.showShare=function(t,e,o,n){var i=this;if(void 0===n&&(n=u.NORMAL),-1==t)return console.error("showShare\uff1aerror\uff1amId =",t),void(o&&o());var a=this.getShareId(t);if(0!=a){console.log("\u4f7f\u7528\u5206\u4eab",t,a);var c,s,l,d=function(){e&&e()},p=function(){o&&o()};c=t,s=function(t){t?(console.log(t),i.onShareMsg(t.title,t.imageUrl,d,p,n)):p()},void 0===(l=n)&&(l=u.NORMAL),r.default.getServerShareData(c,function(t){s&&s(t)},l)}else o&&o()},t.prototype.onShareMsg=function(t,e,o,n,i){void 0===i&&(i=u.NORMAL);var r=this.getCharId();p(t||"title",e||"","charId="+r+"&shareType="+i,o,n)},t}();o.default=h,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../../logic/others/GameCtr":"GameCtr","../../logic/others/ServerCtr":"ServerCtr","../event/EventMng":"EventMng","./WxAdVideoMgr":"WxAdVideoMgr"}],AdShareShowState:[function(t,e,o){"use strict";cc._RF.push(e,"7cb41r+lLVPd5SdXWFrmBl6","AdShareShowState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("./AdShareMgr"),s=t("../../logic/others/TipsMng"),l=t("../../data/ConstantCf"),d=t("../../data/Config"),u=t("../../GameController"),p=t("../../logic/others/UIHelp");(function(t){t[t.ACTIVE=0]="ACTIVE",t[t.REPLACE=1]="REPLACE",t[t.ALL=2]="ALL"})(a||(a={}));var h=cc._decorator,f=h.ccclass,y=h.menu,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modelId=l.EAdShareIds.NONE,e.clickNode=null,e.useAdShare=!0,e.isAutoToShare=!0,e.activeModel=!1,e.showNode=null,e.hideNode=null,e.replaceModel=!1,e.replaceSprite=null,e.useSpriteFrames=[],e.stateChangeHandler=new cc.Component.EventHandler,e._useType=c.EAdShareUseType.EASUT_NOUSE,e._bEnable=!0,e}return i(e,t),e.prototype.start=function(){c.EventOn(c.EAdShareEvent.EASE_USE_STATE,this.onChangeShowState.bind(this),this),this.clickNode&&p.default.onRegisterBtnEvent(this.clickNode,this.onClick.bind(this),this),this.onChangeShowState(this.modelId,!0)},e.prototype.onDestroy=function(){c.EventOff(c.EAdShareEvent.EASE_USE_STATE,this.onChangeShowState.bind(this),this)},e.prototype.getUseType=function(){return this._useType},e.prototype.setEnableState=function(t){void 0===t&&(t=!0),t?(this._bEnable=!0,this.onChangeShowState(this.modelId)):(this._useType=c.EAdShareUseType.EASUT_NOUSE,this.onChangeShowState(this.modelId),this._bEnable=!1)},e.prototype.onChangeShowState=function(t,e){if(void 0===t&&(t=-1),void 0===e&&(e=!1),this._bEnable&&(console.log("onChangeShowState:",t,this.modelId),-1==t||t==this.modelId)){var o=c.default.getInstance().useAdShareState(this.modelId);if(e||this._useType!=o){if(this._useType=o,this.activeModel){var n=this._useType==c.EAdShareUseType.EASUT_NOUSE;this.showNode&&(this.showNode.active=!n),this.hideNode&&(this.hideNode.active=n)}this.replaceModel&&(this.useSpriteFrames[this._useType]?(this.replaceSprite.node.active=!0,this.replaceSprite.spriteFrame=this.useSpriteFrames[this._useType]):this.replaceSprite.node.active=!1),this.stateChangeHandler&&this.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_STATE,this])}}},e.prototype.onClick=function(){var t=this;if(this._bEnable&&(this.stateChangeHandler&&this.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_CLICK,this]),this.useAdShare))if(u.default.sendEvent("\u89c6\u9891\u5206\u4eab\u70b9\u51fb",this.modelId),this._useType==c.EAdShareUseType.EASUT_NOUSE){if(console.log("\u65e0\u6cd5\u4f7f\u7528"),d.default.playCf.isNoAd)return void s.default.showTips("\u6682\u65e0\u5e7f\u544a\uff01");c.default.getInstance().hasAdNum()<=0?s.default.showTips("\u5f53\u65e5\u5df2\u65e0\u89c2\u770b\u89c6\u9891\u6b21\u6570\uff0c\u8bf7\u665a\u70b9\u518d\u6765\u5427\uff01"):s.default.showTips("\u6b21\u6570\u4e0d\u8db3\uff01"),this.stateChangeHandler&&this.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_FAIL,this])}else if(this._useType==c.EAdShareUseType.EASUT_USEAD){if(d.default.playCf.isNoAd)return void(this.stateChangeHandler&&this.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_OK,this]));c.default.getInstance().showAdVideo(this.modelId,function(){t.stateChangeHandler&&t.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_OK,t])},function(e){t.stateChangeHandler&&t.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_FAIL,t]),s.default.showTips(e||"\u6682\u65e0\u5e7f\u544a!")},this.isAutoToShare)}else this._useType==c.EAdShareUseType.EASUT_USESHARE&&c.default.getInstance().showShare(this.modelId,function(){t.stateChangeHandler&&t.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_OK,t])},function(){t.stateChangeHandler&&t.stateChangeHandler.emit([c.EAdShareEvent.EASE_USE_FAIL,t]),s.default.showTips("\u8c03\u7528\u5206\u4eab\u5931\u8d25\uff01")})},r([_({type:cc.Enum(l.EAdShareIds),tooltip:"\u4e3b\u6a21\u5757id"})],e.prototype,"modelId",void 0),r([_({type:cc.Node,tooltip:"\u89e6\u6478\u70b9\u51fbnode"})],e.prototype,"clickNode",void 0),r([_({tooltip:"\u662f\u5426\u5e7f\u544a\u5206\u4eab"})],e.prototype,"useAdShare",void 0),r([_({tooltip:"\u662f\u5426\u81ea\u52a8\u8f6c\u5206\u4eab"})],e.prototype,"isAutoToShare",void 0),r([_({tooltip:"\u63a7\u5236\u8282\u70b9\u663e\u793a\u63a9\u85cf\u529f\u80fd"})],e.prototype,"activeModel",void 0),r([_({type:cc.Node,tooltip:"ACTIVE:\u663e\u793a\u7684node",visible:function(){return this.activeModel}})],e.prototype,"showNode",void 0),r([_({type:cc.Node,tooltip:"ACTIVE:\u63a9\u85cf\u7684node",visible:function(){return this.activeModel}})],e.prototype,"hideNode",void 0),r([_({tooltip:"\u56fe\u7247\u66ff\u6362\u6a21\u5f0f"})],e.prototype,"replaceModel",void 0),r([_({type:cc.Sprite,tooltip:"\u56fe\u7247\u66ff\u6362\u6a21\u5f0f:\u76ee\u6807sprite",visible:function(){return this.replaceModel}})],e.prototype,"replaceSprite",void 0),r([_({type:[cc.SpriteFrame],tooltip:"\u56fe\u7247\u66ff\u6362\u6a21\u5f0f:\u72b6\u6001spriteFrames-0\u4f7f\u7528\u5e7f\u544a-1\u4f7f\u7528\u5206\u4eab-2\u65e0\u6cd5\u4f7f\u7528",visible:function(){return this.replaceModel}})],e.prototype,"useSpriteFrames",void 0),r([_({type:cc.Component.EventHandler,tooltip:"\u72b6\u6001\u53d8\u5316\u56de\u8c03"})],e.prototype,"stateChangeHandler",void 0),r([f,y("UI/common/AdShareShowState")],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../GameController":"GameController","../../data/Config":"Config","../../data/ConstantCf":"ConstantCf","../../logic/others/TipsMng":"TipsMng","../../logic/others/UIHelp":"UIHelp","./AdShareMgr":"AdShareMgr"}],AddHandAni:[function(t,e,o){"use strict";cc._RF.push(e,"5afaaXtcXBLAJR9NZlQgGUB","AddHandAni");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HandAni"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aniId=a.EHandAniId.None,e.handPrefab=null,e.movePos=cc.v2(0,0),e}return i(e,t),e.prototype.start=function(){this.node.zIndex=100;var t=cc.instantiate(this.handPrefab);t.parent=this.node,t.getComponent(a.default).playAni(this.aniId,this.movePos)},r([l({type:cc.Enum(a.EHandAniId),tooltip:"EHandAniId"})],e.prototype,"aniId",void 0),r([l({type:cc.Prefab,tooltip:"hand Prefab"})],e.prototype,"handPrefab",void 0),r([l({tooltip:"\u79fb\u52a8\u7684\u4f4d\u7f6e"})],e.prototype,"movePos",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./HandAni":"HandAni"}],AddPrefabNode:[function(t,e,o){"use strict";cc._RF.push(e,"7f8f1SyN+FKLpbkm2jkNT5N","AddPrefabNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.menu,l=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.pos=cc.v3(0,0,0),e.isShowLoad=!1,e._isLoad=!1,e}return i(e,t),e.prototype.start=function(){!this.isShowLoad&&this.onCreateNode()},e.prototype.onEnable=function(){this.isShowLoad&&this.onCreateNode()},e.prototype.onCreateNode=function(){if(!this._isLoad){this._isLoad=!0;var t=cc.instantiate(this.prefab);t.parent=this.node,t.setPosition(this.pos)}},r([l({type:cc.Prefab,tooltip:"\u521b\u5efa\u7684prefab"})],e.prototype,"prefab",void 0),r([l({tooltip:"\u4f4d\u7f6e"})],e.prototype,"pos",void 0),r([l({tooltip:"\u662f\u5426\u663e\u793a\u52a0\u8f7d"})],e.prototype,"isShowLoad",void 0),r([c,s("UI/common/AddPrefabNode")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],AldSdk:[function(t,e,o){"use strict";cc._RF.push(e,"07bc1L/KhJEUahuRjSCKFFb","AldSdk"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../GameDataCenter"),i=(t("../../logic/others/GameCtr"),t("../network/XmlHttp")),r=t("../../data/Config"),a=t("../../GameController"),c=function(){if(!n.default.account)return"";var t=n.default.account.getBaseUserInfo();return t?t.charId:""},s=function(){function t(){}return t.prototype.stageStart=function(){cc.log("\u5173\u5361\u5f00\u59cb",1),this.sendEventData("\u5173\u53611","\u8fdb\u5165")},t.prototype.stageRunning=function(t,e){cc.log("\u5173\u5361\u8fdb\u884c\u4e2d",t,e),this.sendEvent("stagerun",e,1)},t.prototype.stageEnd=function(t,e){cc.log("\u5173\u5361\u7ed3\u675f",t,e),"complete"==t?this.sendEventData("\u5173\u53611","\u6210\u529f"):"fail"==t?this.sendEventData("\u5173\u53611","\u5931\u8d25"):"quit"==t&&this.sendEventData("\u5173\u53611","\u4e2d\u65ad")},t.prototype.sendEvent=function(t,e,o){void 0===o&&(o="");var n=t+o;cc.log("\u963f\u62c9\u4e01\u81ea\u5b9a\u4e49\u4e8b\u4ef6",n,e);var i={};if(e)for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r].toString());this.sendEventData(n,i),a.default.sdkManager.sendEvent(t,o+"")},t.prototype.sendEventData=function(t,e){if(console.log("sendEventData:",t,e),r.default.ModelAPI!=r.EAPIModel.WeChat&&!cc.sys.isNative){var o="dragonqq_";r.default.ModelAPI==r.EAPIModel.TT&&(o="dragondouyin_");var n;n=e instanceof Object?JSON.stringify(e):e;var a={eventId:t,charId:c(),eventVal:n};i.default.request("https://event.sk2game.com/count?game="+o,a)}},t}();o.default=new s,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../../data/Config":"Config","../../logic/others/GameCtr":"GameCtr","../network/XmlHttp":"XmlHttp"}],AndroidAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"005a23pSCZNW5YntaQnuAnK","AndroidAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../comFrame/sdk/AdMgr"),s=t("../../../data/Config"),l=t("../../../data/ConstantCf"),d=t("../../../GameController"),u=t("../../../GameDataCenter"),p=t("../../others/UIHelp"),h=cc._decorator,f=h.ccclass,y=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.appBoxNode=null,e._isFirstMain=!1,e._preSceneName="startScene",e}return i(e,t),e.prototype.start=function(){a.default.on(l.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(l.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.on(l.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this),this.appBoxNode&&(this.appBoxNode.active=!1,p.default.onRegisterBtnEvent(this.appBoxNode,this.showAppBox.bind(this),this))},e.prototype.onDestroy=function(){a.default.off(l.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(l.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.off(l.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this)},e.prototype.onShowUI=function(t){var e=t.ui;if(console.log("ad onShowUI",e),"None"!=e&&!u.default.account.isPlayFirst){this.appBoxNode.active=s.default.gameCf.isVerified&&"UIGame"==e,["UIReady","UIPlay","UISceneUse","UIGame","UIShop","UIRank","UIWorldRank","UIRoleGet","UISceneGet","UIPlayHelp","UIPause","UIAddDesk","UITurntable","UISign","UICenterTips","UISupply","UIMusicPackExtend","UIMusicExtend","UIMusicPackGet","UIMusicGet","UIAllMusic","UIPvP","UIPvPResult","UIPvPMatch","UIPvPStarChange"].indexOf(e)>-1?c.default.instance.showBanner(!0):c.default.instance.showBanner();var o={UIReady:["UIReady/downNode"],UIPlay:["PlayNode/uiNode/downNode"],UIShop:["UIShop/mListNode"],UIAllMusic:["UIAllMusic/mListNode"]};if(o[e])for(var n=cc.director.getScene().getChildByName("Canvas"),i=0;i<o[e].length;i++){var r=o[e][i],a=cc.find(r,n);a&&(a.getComponent(cc.Widget).bottom=200,a.getComponent(cc.Widget).updateAlignment())}["UISceneUse"].indexOf(e)>-1&&this.showInsertAd()}},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui)},e.prototype.showScene=function(t){t.sceneName},e.prototype.showInsertAd=function(){console.log("showInsertAd"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showInsertAd","()V")},e.prototype.showAppBox=function(){d.default.sdkManager.openAppBox()},r([y({type:cc.Node,tooltip:"\u63a8\u8350\u6309\u94aenode"})],e.prototype,"appBoxNode",void 0),r([f],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../../GameController":"GameController","../../../GameDataCenter":"GameDataCenter","../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp"}],AndroidCtr:[function(t,e,o){"use strict";cc._RF.push(e,"ff855AVbVJKabIfsoCSzcfr","AndroidCtr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../comFrame/event/EventMng"),i=t("../../data/Config"),r=t("../../data/ConstantCf"),a=function(){function t(){}return t.prototype.initCf=function(){var t={startActionFunc:function(){console.log("\u8c03\u7528 window \u5f00\u573a\u52a8\u753b\u51fd\u6570 \u6210\u529f")},cutToFunc:function(){console.log("\u8c03\u7528 window \u8f6c\u573a\u51fd\u6570 \u6210\u529f"),i.default.playCf.CutToState=!0,i.default.playCf.PlayCutToAction=!1,n.default.emit(r.EGameEvent.ADD_LINEACTION_SPEED),n.default.emit(r.EGameEvent.ADD_StripACTION_SPEED)},backToFunc:function(){console.log("\u8c03\u7528 \u56de\u573a\u51fd\u6570 \u6210\u529f"),n.default.emit(r.EGameEvent.BACKTO_CALLBACK)},rotateCircle:function(){n.default.emit(r.EGameEvent.ROTATE_CIRCLE_DIR,{isRotate:!0})},aligningCircle:function(){n.default.emit(r.EGameEvent.ROTATE_CIRCLE_DIR,{isRotate:!1})}};window.sgg2077Call=t},t.prototype.loadsuc=function(){window.sgg2077&&window.sgg2077.loadsuc&&window.sgg2077.loadsuc()},t.prototype.animEnd=function(){window.sgg2077&&window.sgg2077.animEnd&&window.sgg2077.animEnd()},t}();o.default=new a,cc._RF.pop()},{"../../comFrame/event/EventMng":"EventMng","../../data/Config":"Config","../../data/ConstantCf":"ConstantCf"}],AudioCtr:[function(t,e,o){"use strict";cc._RF.push(e,"0992fL14YNIxoVFQTbdFhdd","AudioCtr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../GameDataCenter"),i=function(){function t(){this._clips={},this.inPlayAudioIds={},this._curBgMusicUrl=""}return t.prototype.playAudio=function(t,e,o){var i=this;if(void 0===e&&(e=!1),void 0===o&&(o=1),n.default.account.getSoundState()&&""!=t){var r=function(n){if((!e||!i.inPlayAudioIds[t])&&n){var r=cc.audioEngine.play(n,e,o);i.inPlayAudioIds[t]=r}};this._clips[t]?r(this._clips[t]):cc.loader.loadRes("audio/"+t,cc.AudioClip,function(e,o){e?cc.log(e):(i._clips[t]=o,r(o))})}},t.prototype.playBgAudio=function(t){var e=this;if(t&&(this._preBgMusicUrl=t),n.default.account.getBgMusicState()){if(n.default.account.setBgMusicState(!0),""!=this._curBgMusicUrl&&this.stopOneAudioClip(this._curBgMusicUrl),console.log("this._preBgMusicUrl  : ",this._preBgMusicUrl),!t){if(!this._preBgMusicUrl)return;t=this._preBgMusicUrl}this._curBgMusicUrl=t,console.log("this._curBgMusicUrl  : ",this._curBgMusicUrl),cc.loader.loadRes("audio/"+t,cc.AudioClip,function(o,n){if(o)cc.log(o);else if(!e.inPlayAudioIds[t]&&e._curBgMusicUrl==t&&n){var i=cc.audioEngine.play(n,!0,.5);e.inPlayAudioIds[t]=i}})}},t.prototype.pauseBgAudio=function(){n.default.account.getBgMusicState()&&this.pauseOneAudioClip(this._curBgMusicUrl)},t.prototype.resumeBgAudio=function(){n.default.account.getBgMusicState()&&this.resumeOneAudioClip(this._curBgMusicUrl)},t.prototype.stopBgAudio=function(){this.stopAll()},t.prototype.resumeAllEffects=function(){n.default.account.getBgMusicState()&&cc.audioEngine.resumeAllEffects()},t.prototype.pauseAllEffects=function(){n.default.account.getBgMusicState()&&cc.audioEngine.pauseAllEffects()},t.prototype.stopOneAudioClip=function(t){var e=this.inPlayAudioIds[t];console.log("AudioCtr stop",t,e),null!=e&&(e>=0||"object"==typeof e)&&(cc.audioEngine.stop(e),this.inPlayAudioIds[t]=null)},t.prototype.pauseOneAudioClip=function(t){var e=this.inPlayAudioIds[t];null!=e&&e>=0&&cc.audioEngine.pause(e)},t.prototype.resumeOneAudioClip=function(t){var e=this.inPlayAudioIds[t];null!=e&&e>=0&&cc.audioEngine.resume(e)},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t}();o.default=new i,cc._RF.pop()},{"../../GameDataCenter":"GameDataCenter"}],AudioStateNode:[function(t,e,o){"use strict";cc._RF.push(e,"284d7ZH/IlHK4yfHWZlOYCl","AudioStateNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../logic/others/UIHelp"),s=t("../../GameDataCenter"),l=t("../../logic/others/AudioCtr");(function(t){t[t.All=0]="All",t[t.Music=1]="Music",t[t.Effect=2]="Effect"})(a||(a={}));var d=cc._decorator,u=d.ccclass,p=d.menu,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioType=a.All,e.audioBtnNode=null,e.audioCloseNode=null,e}return i(e,t),e.prototype.start=function(){c.default.onRegisterBtnEvent(this.audioBtnNode,this.onChangeState.bind(this,!0)),this.onChangeState()},e.prototype.onChangeState=function(t){void 0===t&&(t=!1),this.audioType==a.All?(this.onMusicState(t),this.onEffectState(t)):this.audioType==a.Music?this.onMusicState(t):this.audioType==a.Effect&&this.onEffectState(t)},e.prototype.onMusicState=function(t){void 0===t&&(t=!1);var e=s.default.account.getBgMusicState();t&&(e=!e,s.default.account.setBgMusicState(e),e?l.default.playBgAudio():l.default.stopBgAudio()),this.audioCloseNode.active=!e},e.prototype.onEffectState=function(t){void 0===t&&(t=!1);var e=s.default.account.getSoundState();t&&(e=!e,s.default.account.setSoundState(e)),this.audioCloseNode.active=!e},r([h({type:cc.Enum(a),tooltip:"\u97f3\u63a7\u5236\u7c7b\u578b"})],e.prototype,"audioType",void 0),r([h({type:cc.Node,tooltip:"\u97f3\u6548\u6309\u94aenode"})],e.prototype,"audioBtnNode",void 0),r([h({type:cc.Node,tooltip:"\u58f0\u97f3\u5173\u95ed\u72b6\u6001node"})],e.prototype,"audioCloseNode",void 0),r([u,p("UI/common/AudioStateNode")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../GameDataCenter":"GameDataCenter","../../logic/others/AudioCtr":"AudioCtr","../../logic/others/UIHelp":"UIHelp"}],BaiduAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"ca5ddQvxG1JY7Cz6h4t+V0O","BaiduAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../comFrame/sdk/AdMgr"),s=t("../../../data/ConstantCf"),l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moreGameBtnNode=null,e._isFirstMain=!1,e._recommendationButton=null,e._bLoad=!1,e}return i(e,t),e.prototype.start=function(){a.default.on(s.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(s.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this)},e.prototype.onDestroy=function(){a.default.off(s.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(s.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this)},e.prototype.onShowUI=function(t){var e=t.ui;if(console.log("ad onShowUI",e),"None"!=e){"UIGame"==e?this.showRecommentBtn():this.hideRecommentBtn(),["UIReady","UIPlay","UISceneUse","UIGame","UIShop","UIRank","UIWorldRank","UIRoleGet","UISceneGet","UIPlayHelp","UIPause","UIAddDesk","UITurntable","UISign","UICenterTips","UISupply","UIMusicPackExtend","UIMusicExtend","UIMusicPackGet","UIMusicGet"].indexOf(e)>-1?c.default.instance.showBanner(!0):c.default.instance.showBanner();var o={UIReady:["UIReady/downNode"],UIPlay:["PlayNode/uiNode/downNode"],UIShop:["UIShop/mListNode"]};if(o[e])for(var n=cc.director.getScene().getChildByName("Canvas"),i=0;i<o[e].length;i++){var r=o[e][i],a=cc.find(r,n);a&&(a.getComponent(cc.Widget).bottom=200,a.getComponent(cc.Widget).updateAlignment())}}},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui)},e.prototype.showRecommentBtn=function(){var t=this;if(console.log("showRecommentBtn recommendationButton"),window.swan)if(this._recommendationButton)this._bLoad&&(console.log("show recommendationButton"),this._recommendationButton.show());else{var e=cc.view.getFrameSize(),o=cc.view.getVisibleSize(),n=cc.v2(e.width/o.width,e.height/o.height),i=this.moreGameBtnNode.position,r=this.moreGameBtnNode.getContentSize(),a=cc.rect(i.x-.5*r.width,i.y-.5*r.height,r.width,r.height),c=a.width*n.x,s=a.height*n.y,l=.5*e.height-(a.y+.5*a.height)*n.y-.5*s,d={type:"carousel",style:{left:(a.x+.5*a.width)*n.x-.5*c+.5*e.width,top:l}};this._recommendationButton=window.swan.createRecommendationButton(d),console.log("create recommendationButton",d),this._recommendationButton.onError(function(t){console.error(t)}),this._recommendationButton.onLoad(function(){t._bLoad=!0,t._recommendationButton.show(),t._recommendationButton.offLoad(function(){})}),this._recommendationButton.load()}},e.prototype.hideRecommentBtn=function(){this._recommendationButton&&this._recommendationButton.hide()},r([u(cc.Node)],e.prototype,"moreGameBtnNode",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../data/ConstantCf":"ConstantCf"}],BaiduRecommendBtn:[function(t,e,o){"use strict";cc._RF.push(e,"fa953bJmfBGO6dt2Yd7Pdrw","BaiduRecommendBtn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._recommendationButton=null,e._bLoad=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){},e.prototype.onEnable=function(){this.showRecommentBtn()},e.prototype.onDisable=function(){console.log("hide recommendationButton"),this._recommendationButton&&this._recommendationButton.hide()},e.prototype.showRecommentBtn=function(){var t=this;if(console.log("showRecommentBtn recommendationButton"),window.swan)if(this._recommendationButton)this._bLoad&&(console.log("show recommendationButton"),this._recommendationButton.show());else{var e=cc.view.getFrameSize(),o=cc.view.getVisibleSize(),n=cc.v2(e.width/o.width,e.height/o.height),i=this.node.position,r=this.node.getContentSize(),a=cc.rect(i.x-.5*r.width,i.y-.5*r.height,r.width,r.height),c=a.width*n.x,s=a.height*n.y,l=.5*e.height-(a.y+.5*a.height)*n.y-.5*s,d={type:"carousel",style:{left:(a.x+.5*a.width)*n.x-.5*c+.5*e.width,top:l}};this._recommendationButton=window.swan.createRecommendationButton(d),console.log("create recommendationButton",d),this._recommendationButton.onError(function(t){console.error(t)}),this._recommendationButton.onLoad(function(){t._bLoad=!0,t._recommendationButton.show(),t._recommendationButton.offLoad(function(){})}),this._recommendationButton.load()}},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BannerAdAndroid:[function(t,e,o){"use strict";cc._RF.push(e,"71eeb4CwiRFDqNdSmEERT6U","BannerAdAndroid");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isShow=!1,e}return i(e,t),e.prototype.showBanner=function(e,o){this._isShow=!0,t.prototype.showBanner.call(this,e),this.bannerShow(),o&&o()},e.prototype.hideBanner=function(){this._isShow=!1,t.prototype.hideBanner.call(this),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","hideBanner","()V"),cc.director.getScene().getChildByName("Canvas").getComponent(cc.Canvas).unscheduleAllCallbacks()},e.prototype.destroyBanner=function(){this.hideBanner()},e.prototype.bannerShow=function(){var t=this;if(this._isShow){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showBanner","()V");var e=cc.director.getScene().getChildByName("Canvas").getComponent(cc.Canvas);e.unscheduleAllCallbacks(),e.scheduleOnce(function(){t.bannerShow()},this._showData.updateTime||30)}},e}(t("./BannerAdBase").default);o.default=r,cc._RF.pop()},{"./BannerAdBase":"BannerAdBase"}],BannerAdBL:[function(t,e,o){"use strict";cc._RF.push(e,"ea4e8+QThlPvp3MBVAatR2H","BannerAdBL");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../../GameController"),c=t("../../utils/ComFun"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._createTime=0,e}return i(e,t),e.prototype.showBanner=function(t){console.log(c.default.getLocalTime(1)-this._createTime,t.updateTime),this._bannerAd&&(!t.isNew||c.default.getLocalTime(1)-this._createTime<1e3*t.updateTime)?this.bannerShow():(this.newBanner(t),this.bannerShow())},e.prototype.newBanner=function(e){t.prototype.showBanner.call(this,e),this._bannerAd&&this.destroyBanner(),e.isGridAd?this.createGridAd(e.adUnitId):this.createBannerAd(e.adUnitId),this._createTime=c.default.getLocalTime(1)},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&this._bannerAd.hide()},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=this._showData.rect.width*this.whScale.x,r=this._showData.rect.height*this.whScale.y;if(i<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{i=300;var c=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),s=.5*n.height-c.y*this.whScale.y-.5*r,l={style:{left:c.x*this.whScale.x-.5*i+.5*n.width,top:s,width:i,height:r}};console.log("bannerAd createBannerAd",l);var d=bl.createBannerAd(l);this._bannerAd=d,d.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+c.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),d.onError(function(t){console.error("bannerAd",t)})}},e.prototype.bannerShow=function(){var t=this;this._bannerAd&&(console.time("BannerShowTime"),this._bannerAd.show().then(function(){console.timeEnd("BannerShowTime"),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width])}))},e.prototype.createGridAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=this._showData.rect.width*this.whScale.x,r=this._showData.rect.height*this.whScale.y;if(i<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{i=300;var c=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),s=.5*n.height-c.y*this.whScale.y-.5*r,l={adUnitId:t,adIntervals:e,style:{left:c.x*this.whScale.x-.5*i+.5*n.width,top:s,width:i,height:r},adTheme:"white",gridCount:5};console.log("bannerAd createGridAd",l);var d=bl.createGridAd(l);this._bannerAd=d,d.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+c.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),d.onError(function(t){console.error("bannerAd",t)}),this.bannerShow()}},e}(r.default);o.default=s,cc._RF.pop()},{"../../../GameController":"GameController","../../utils/ComFun":"ComFun","./BannerAdBase":"BannerAdBase"}],BannerAdBaidu:[function(t,e,o){"use strict";cc._RF.push(e,"34ccflPmudJe5/1jz/FAvZ9","BannerAdBaidu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../../data/Config"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTimeOut=-1,e}return i(e,t),e.prototype.showBanner=function(e,o){cc.sys.platform==cc.sys.BAIDU_GAME&&(this._showData&&e.rect.containsRect(this._showData.rect)&&this._bannerAd?this.bannerShow().then(function(){o&&o()}):(t.prototype.showBanner.call(this,e),-1===this.createTimeOut&&this.createBannerAd(o)))},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&this._bannerAd.hide()},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t){var e=this;this._bannerAd&&this.destroyBanner();var o=cc.view.getFrameSize(),n=this._showData.rect.width*this.whScale.x,i=this._showData.rect.height*this.whScale.y;if(console.log("showData",this._showData),console.log("whScale",this.whScale),n<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{n=300;var r=o.height-this._showData.rect.y*this.whScale.y-i,c=(this._showData.rect.x+.5*this._showData.rect.width)*this.whScale.x-.5*n+.5*o.width,s={adUnitId:this._showData.adUnitId,appSid:a.default.sdkCf.appSid||"",style:{left:c,top:r,width:n,height:i}};console.log("bannerAd createBannerAd",s);var l=window.swan.createBannerAd(s);this._bannerAd=l,this._bannerAd.onLoad(function(){console.log("bannerAd onLoad"),e._showData&&e.bannerShow().then(function(){t&&t()})}),this._bannerAd.onError(function(o){console.error(o),"3010012"==o.errCode?(e.destroyBanner(),setTimeout(function(){e._showData&&e.showBanner(e._showData,t)},5e3)):"3010013"==o.errCode&&e._showData&&e.schCreateBanner(t)}),this.schCreateBanner(t)}},e.prototype.schCreateBanner=function(t){var e=this;this.createTimeOut>-1&&(clearTimeout(this.createTimeOut),this.createTimeOut=-1),this.createTimeOut=setTimeout(function(){e.createTimeOut=-1,e._showData&&(e.destroyBanner(),e.showBanner(e._showData,t))},1e3*(this._showData.updateTime+5))},e.prototype.bannerShow=function(){var t=this;return new Promise(function(e,o){if(t._bannerAd){var n=t._bannerAd.show();n?(console.time("BannerShowTime"),n.then(function(){console.timeEnd("BannerShowTime"),e(),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width])})):o()}else o()})},e}(r.default);o.default=c,cc._RF.pop()},{"../../../data/Config":"Config","./BannerAdBase":"BannerAdBase"}],BannerAdBase:[function(t,e,o){"use strict";cc._RF.push(e,"767e4YBmy5PG5wGKonXohmU","BannerAdBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._bannerAd=null,this._whScale=null,this._showData=null}return Object.defineProperty(t.prototype,"whScale",{get:function(){if(!this._whScale){var t=cc.view.getVisibleSize(),e=cc.view.getFrameSize();this._whScale=cc.v2(e.width/t.width,e.height/t.height)}return this._whScale},enumerable:!1,configurable:!0}),t.prototype.newBanner=function(){},t.prototype.showBanner=function(t){this._showData=t},t.prototype.hideBanner=function(){this._showData=null},t.prototype.getBannerAd=function(){return this._bannerAd},t.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd=null)},t}();o.default=n,cc._RF.pop()},{}],BannerAdOppo:[function(t,e,o){"use strict";cc._RF.push(e,"0f383iNWqBIv6O/8LiwKMWx","BannerAdOppo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../../data/Config"),c=t("../../utils/ComFun"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHide=!1,e.adUnitId="",e._isShowBanner=!1,e}return i(e,t),e.prototype.showBanner=function(e,o){if(console.log("Oppo \u663e\u793abanner",e),cc.sys.platform==cc.sys.OPPO_GAME&&"function"==typeof qg.createBannerAd&&!(c.default.getLocalTime(0)-a.default.playCf.popUpOnlineTime<=60)){this._isShowBanner=!0,o&&o();try{this._bannerAd?(this.destroyBanner(),t.prototype.showBanner.call(this,e),this.createBannerAd(e.adUnitId)):(t.prototype.showBanner.call(this,e),this.createBannerAd(e.adUnitId))}catch(n){console.log("err",n)}}},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&(this._isShowBanner=!1,this._bannerAd.hide())},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.onReSize=function(t){var e=t.width,o=t.height;this._bannerAd.style.width=e,this._bannerAd.style.height=o},e.prototype.onError=function(t){var e=this;console.error("banner error= ",t),cc.sys.platform==cc.sys.BAIDU_GAME&&3010012==t.errCode&&(this.destroyBanner(),setTimeout(function(){e.onUpdateBannerAd()},5))},e.prototype.onUpdateBannerAd=function(){this.createBannerAd(this._showData.adUnitId)},e.prototype.createBannerAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize();this._showData.rect.width,this.whScale.x,n.height;try{if(this._bannerAd)this.isHide&&this._bannerAd.show();else{if("function"!=typeof qg.createBannerAd)return;var i={adUnitId:t,style:{}};console.log("bannerAd createBannerAd",i);var r=qg.createBannerAd(i);this._bannerAd=r,this._bannerAd.onResize(this.onReSize.bind(this)),this._bannerAd.onError(this.onError.bind(this)),this._bannerAd.onHide(function(){console.log("banner \u9690\u85cf"),o.isHide=!0}),this.bannerShow()}}catch(a){console.log("err",a)}},e.prototype.bannerShow=function(){var t=this;this._bannerAd&&(this._bannerAd.show(),this._bannerAd.onShow(function(){console.log("banner \u5e7f\u544a\u663e\u793a   ---:");try{t._bannerAd&&t._bannerAd.style.width>0&&(console.log("EThridAdEvent.THRIDAD_BANNER"),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width]))}catch(e){console.log(e)}}))},e}(r.default);o.default=s,cc._RF.pop()},{"../../../data/Config":"Config","../../utils/ComFun":"ComFun","./BannerAdBase":"BannerAdBase"}],BannerAdQQYYW:[function(t,e,o){"use strict";cc._RF.push(e,"661d7jz659OHJbNglz0FDts","BannerAdQQYYW");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../../GameController"),c=t("../../utils/ComFun"),s=t("../AdMgr"),l=t("../../../GameDataCenter"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._createTime=0,e}return i(e,t),e.prototype.showBanner=function(t){console.log(c.default.getLocalTime(1)-this._createTime,t.updateTime),this._bannerAd&&(!t.isNew||c.default.getLocalTime(1)-this._createTime<1e3*t.updateTime)?this.bannerShow():(this.newBanner(t),this.bannerShow())},e.prototype.newBanner=function(e){t.prototype.showBanner.call(this,e),this._bannerAd&&this.destroyBanner(),e.isGridAd?this.createGridAd(e.adUnitId):this.createBannerAd(e.adUnitId),this._createTime=c.default.getLocalTime(1)},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&this._bannerAd.hide()},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t,e){void 0===e&&(e=30);var o=cc.view.getFrameSize(),n=this._showData.rect.width*this.whScale.x,i=this._showData.rect.height*this.whScale.y;if(n<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{n=300;var r=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),a=.5*o.height-r.y*this.whScale.y-.5*i,c=r.x*this.whScale.x-.5*n+.5*o.width,d=l.default.account.getBaseUserInfo(),u=s.default.instance.adSdk,p={type:"createBannerAd",adUnitId:t,top:a,left:c,width:n,height:i,roleId:d.charId,roleName:d.nickName,serverId:"QQ"};u.sdk.advertisement(p),u.sdk.state.bannerAd.onResize(function(t){console.log("Resize \u540e\u6b63\u5f0f\u5bbd\u9ad8:",t.width,t.height),u.sdk.state.bannerAd.show().then(function(){console.log("bannerAd show ok")}).catch(function(t){console.log("bannerAd show error",t)})}),u.sdk.state.bannerAd.onError(function(t){console.log("bannerAd onError",t)}),u.sdk.state.bannerAd.onLoad(function(t){console.log("bannerAd onLoad",t)}),this._bannerAd=u.sdk.state.bannerAd}},e.prototype.bannerShow=function(){var t=this;if(this._bannerAd){var e=this._bannerAd.show();e&&(console.time("BannerShowTime"),e.then(function(){console.timeEnd("BannerShowTime"),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width])}))}},e.prototype.createGridAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=this._showData.rect.width*this.whScale.x,r=this._showData.rect.height*this.whScale.y;if(i<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{i=300;var c=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),s=.5*n.height-c.y*this.whScale.y-.5*r,l={adUnitId:t,adIntervals:e,style:{left:c.x*this.whScale.x-.5*i+.5*n.width,top:s,width:i,height:r},adTheme:"white",gridCount:5};console.log("bannerAd createGridAd",l);var d=qq.createGridAd(l);this._bannerAd=d,d.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+c.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),d.onError(function(t){console.error("bannerAd",t)}),this.bannerShow()}},e}(r.default);o.default=d,cc._RF.pop()},{"../../../GameController":"GameController","../../../GameDataCenter":"GameDataCenter","../../utils/ComFun":"ComFun","../AdMgr":"AdMgr","./BannerAdBase":"BannerAdBase"}],BannerAdQQ:[function(t,e,o){"use strict";cc._RF.push(e,"9ee37FyavpHVZyS6Mn7qa8J","BannerAdQQ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../../GameController"),c=t("../../utils/ComFun"),s=t("../AdMgr"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._createTime=0,e._isLoadOk=!1,e._isShowBanner=!1,e._updateTimeOut=-1,e}return i(e,t),e.prototype.showBanner=function(t,e){console.log(c.default.getLocalTime(1)-this._createTime,t.updateTime),this._isShowBanner=!0,this._bannerAd&&(!t.isNew||c.default.getLocalTime(1)-this._createTime<1e3*t.updateTime)?this.bannerShow().then(function(){e&&e()}):this.newBanner(t,e)},e.prototype.newBanner=function(e,o){t.prototype.showBanner.call(this,e),this._bannerAd&&this.destroyBanner(),this._updateTimeOut>-1&&(clearTimeout(this._updateTimeOut),this._updateTimeOut=-1),e.isGridAd?this.createGridAd(e.adUnitId):this.createBannerAd(e.adUnitId,o)},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&(cc.sys.os==cc.sys.OS_IOS?this.destroyBanner():this._bannerAd.hide(),this._isShowBanner=!1)},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t,e){var o=this,n=cc.view.getFrameSize(),i=(this._showData.rect.width,this.whScale.x,this._showData.rect.height*this.whScale.y),r=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),c=.5*n.height-r.y*this.whScale.y-.5*i,s={adUnitId:t,style:{left:r.x*this.whScale.x-180+.5*n.width,top:c,width:360,height:i}};console.log("bannerAd createBannerAd",s);var l=qq.createBannerAd(s);this._bannerAd=l,this._isLoadOk=!1,l.onLoad(function(){console.log("bannerAd onLoad ok",o._isShowBanner),cc.sys.os!=cc.sys.OS_IOS&&(o._isLoadOk=!0,o._isShowBanner&&o.bannerShow().then(function(){e&&e()}))}),l.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+r.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),l.onError(function(t){console.error("bannerAd",t)}),cc.sys.os==cc.sys.OS_IOS&&(this._isLoadOk=!0,setTimeout(function(){console.log("banner OS_IOS go",o._isShowBanner),o._isShowBanner&&o.bannerShow().then(function(){e&&e()})},1e3)),this.schUpdateBanner()},e.prototype.bannerShow=function(){var t=this;return new Promise(function(e,o){if(t._bannerAd){if(console.log("bannerAd bannerShow",t._isLoadOk),t._isLoadOk){var n=function(){t._createTime=c.default.getLocalTime(1),console.log("bannerAd bannerShow ok",t._createTime),e(),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width]),t._isShowBanner?t.schUpdateBanner():t.hideBanner()},i=t._bannerAd.show();i?i.then(function(){n&&n()}):o(),cc.sys.os==cc.sys.OS_IOS&&(n(),n=null)}}else o()})},e.prototype.schUpdateBanner=function(){var t=this;this._updateTimeOut>-1&&(clearTimeout(this._updateTimeOut),this._updateTimeOut=-1);var e=this._showData&&this._showData.updateTime?this._showData.updateTime:10;this._updateTimeOut=setTimeout(function(){console.log("banner setTimeout go",t._isShowBanner),t._isShowBanner&&(s.default.instance.showBanner(!1),s.default.instance.showBanner(!0))},1e3*(e+1))},e.prototype.createGridAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=this._showData.rect.width*this.whScale.x,r=this._showData.rect.height*this.whScale.y;if(i<360)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{i=360;var c=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),s=.5*n.height-c.y*this.whScale.y-.5*r,l={adUnitId:t,adIntervals:e,style:{left:c.x*this.whScale.x-.5*i+.5*n.width,top:s,width:i,height:r},adTheme:"white",gridCount:5};console.log("bannerAd createGridAd",l);var d=qq.createGridAd(l);this._bannerAd=d,d.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+c.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),d.onError(function(t){console.error("bannerAd",t)}),this.bannerShow()}},e}(r.default);o.default=l,cc._RF.pop()},{"../../../GameController":"GameController","../../utils/ComFun":"ComFun","../AdMgr":"AdMgr","./BannerAdBase":"BannerAdBase"}],BannerAdQTT:[function(t,e,o){"use strict";cc._RF.push(e,"94173iU+DBIL4gepu9mbZfU","BannerAdQTT");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTimeOut=-1,e}return i(e,t),e.prototype.showBanner=function(e){t.prototype.showBanner.call(this,e),this.createBannerAd()},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),window.qttGame.hideBanner()},e.prototype.destroyBanner=function(){window.qttGame.hideBanner()},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(){this._bannerAd&&this.destroyBanner();var t=cc.view.getFrameSize(),e={index:1,x:.25*t.width,w:.5*t.width,stage_width:t.width,stage_height:t.height};console.log("bannerAd createBannerAd",e);var o=window.qttGame.showBanner(e);this._bannerAd=o,this.schCreateBanner()},e.prototype.schCreateBanner=function(){var t=this;this.createTimeOut>-1&&(clearTimeout(this.createTimeOut),this.createTimeOut=-1),this.createTimeOut=setTimeout(function(){t.createTimeOut=-1,t._showData&&(t.destroyBanner(),t.showBanner(t._showData))},1e3*(this._showData.updateTime+5))},e.prototype.bannerShow=function(){this._bannerAd&&console.log("bannerAd show")},e}(t("./BannerAdBase").default);o.default=r,cc._RF.pop()},{"./BannerAdBase":"BannerAdBase"}],BannerAdTT:[function(t,e,o){"use strict";cc._RF.push(e,"a0eb0CwSslBZbamSVxTzSZG","BannerAdTT");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../../GameController"),c=t("../../utils/ComFun"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._createTime=0,e._isLoad=!1,e}return i(e,t),e.prototype.showBanner=function(t){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.createBannerAd&&(console.log(c.default.getLocalTime(1)-this._createTime,t.updateTime),this._bannerAd&&(!t.isNew||c.default.getLocalTime(1)-this._createTime<1e3*t.updateTime)&&this._isLoad?this.bannerShow():this.newBanner(t))},e.prototype.newBanner=function(e){t.prototype.showBanner.call(this,e),this._bannerAd&&this.destroyBanner(),this.createBannerAd(e.adUnitId),this._createTime=c.default.getLocalTime(1)},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&this._bannerAd.hide()},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=this._showData.rect.width*this.whScale.x,r=this._showData.rect.height*this.whScale.y;if(i<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{i=300;var c=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),s=.5*n.height-c.y*this.whScale.y-.5*r,l={adUnitId:t,adIntervals:e,style:{left:c.x*this.whScale.x-.5*i+.5*n.width,top:s,width:i,height:r}};console.log("bannerAd createBannerAd",l);var d=tt.createBannerAd(l);this._bannerAd=d,d.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+c.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),d.onError(function(t){console.error("bannerAd",t)}),this._isLoad=!1,d.onLoad(function(){o._isLoad=!0,o.bannerShow()})}},e.prototype.bannerShow=function(){var t=this;this._bannerAd&&this._isLoad&&(console.time("BannerShowTime"),this._bannerAd.show().then(function(){console.timeEnd("BannerShowTime"),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width])}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)}))},e}(r.default);o.default=s,cc._RF.pop()},{"../../../GameController":"GameController","../../utils/ComFun":"ComFun","./BannerAdBase":"BannerAdBase"}],BannerAdTest:[function(t,e,o){"use strict";cc._RF.push(e,"0f833urLUdKNqOjPlo5ckGo","BannerAdTest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bannerLab=null,e}return i(e,t),e.prototype.showBanner=function(e){if(!this._bannerLab){var o=new cc.Node;this._bannerLab=o.addComponent(cc.Label),cc.game.addPersistRootNode(o),this._bannerLab.string="Banner",this._bannerLab.fontSize=40}if(this._bannerLab.node.active=!0,!(this._showData&&e.rect.containsRect(this._showData.rect)&&this._bannerLab)){t.prototype.showBanner.call(this,e);var n=cc.view.getVisibleSize();this._bannerLab.node.x=e.rect.x+.5*e.rect.width+.5*n.width,this._bannerLab.node.y=e.rect.y+.5*e.rect.height+.5*n.height}},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerLab&&(cc.log("\u63a9\u85cfbanner"),this._bannerLab.node.active=!1)},e.prototype.destroyBanner=function(){this._bannerLab&&(this._bannerLab.node.active=!1)},e.prototype.getBannerAd=function(){return this._bannerLab},e}(t("./BannerAdBase").default);o.default=r,cc._RF.pop()},{"./BannerAdBase":"BannerAdBase"}],BannerAdUC:[function(t,e,o){"use strict";cc._RF.push(e,"e3ba95XQKZHO5APHMDIWMhr","BannerAdUC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../utils/ComFun"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._createTime=0,e}return i(e,t),e.prototype.showBanner=function(t){console.log(a.default.getLocalTime(1)-this._createTime,t.updateTime),this._bannerAd&&(!t.isNew||a.default.getLocalTime(1)-this._createTime<1e3*t.updateTime)?this.bannerShow():(this.newBanner(t),this.bannerShow())},e.prototype.newBanner=function(e){t.prototype.showBanner.call(this,e),this._bannerAd&&this.destroyBanner(),this.createBannerAd(e.adUnitId),this._createTime=a.default.getLocalTime(1)},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&this._bannerAd.hide()},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t,e){void 0===e&&(e=30);var o=cc.view.getFrameSize(),n=this._showData.rect.width*this.whScale.x,i=this._showData.rect.height*this.whScale.y;if(n<250)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{n=300;var r=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),a=.5*o.height-r.y*this.whScale.y-.5*i,c={style:{gravity:7,left:r.x*this.whScale.x-.5*n+.5*o.width,top:a,width:n,height:i}};console.log("bannerAd createBannerAd",c);var s=uc.createBannerAd(c);this._bannerAd=s,s.onError(function(t){console.error("bannerAd",t)})}},e.prototype.bannerShow=function(){this._bannerAd&&(this._bannerAd.show(),this._showData&&this._showData.callback&&this._showData.callback([this._showData.rect.width]))},e}(r.default);o.default=c,cc._RF.pop()},{"../../utils/ComFun":"ComFun","./BannerAdBase":"BannerAdBase"}],BannerAdVivo:[function(t,e,o){"use strict";cc._RF.push(e,"fe2b0r0eZhKZaTjKUGKHTla","BannerAdVivo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adUnitId="",e.mincreatTime=12e3,e.curTime=0,e.isLoad=!1,e._isShowBanner=!1,e}return i(e,t),e.prototype.showBanner=function(e,o){if(console.log("Vivo \u663e\u793abanner",e),cc.sys.platform==cc.sys.VIVO_GAME&&"function"==typeof qg.createBannerAd){this._isShowBanner=!0,o&&o();try{this._bannerAd?(this.destroyBanner(function(){}),t.prototype.showBanner.call(this,e),this.createBannerAd(e.adUnitId)):(t.prototype.showBanner.call(this,e),this.createBannerAd(e.adUnitId))}catch(n){console.log("err",n)}}},e.prototype.hideBanner=function(){this._bannerAd&&(console.log("hideBanner"),this._isShowBanner=!1,this._bannerAd.hide(),this.destroyBanner())},e.prototype.destroyBanner=function(t){if(this._bannerAd){var e=this._bannerAd.destroy();e&&e.then(function(){console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f"),t&&t()}).catch(function(t){console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25",t)}),this._bannerAd=null}else t&&t()},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=n.height;if(Math.floor(this._showData.rect.height*this.whScale.y),Math.floor((this._showData.rect.x+.5*this._showData.rect.width)*this.whScale.x-.5*i+.5*n.width),t)this.adUnitId=t;else if(!this.adUnitId)return void console.log("banner \u5e7f\u544aid\u4e3a\u7a7a");var r={posId:this.adUnitId,style:{}};console.log("bannerAd createBannerAd",r),this._bannerAd=qg.createBannerAd(r),this._bannerAd.onClose(function(){o.destroyBanner()}),this.bannerShow()},e.prototype.bannerShow=function(){var t=this;if(this._bannerAd){console.log("bannerShow------");var e=this._bannerAd.show();e&&e.then(function(){console.log("banner\u5e7f\u544a\u5c55\u793a\u6210\u529f"),t._isShowBanner?t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width]):t.destroyBanner()}).catch(function(e){switch(e.code){case 30003:console.log("\u65b0\u7528\u62371\u5929\u5185\u4e0d\u80fd\u66dd\u5149Banner\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a1\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:console.log("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(e)),e&&e.data&&3e4==e.data.errCode&&t.destroyBanner(function(){t.createBannerAd()})}})}},e}(t("./BannerAdBase").default);o.default=r,cc._RF.pop()},{"./BannerAdBase":"BannerAdBase"}],BannerAdWx:[function(t,e,o){"use strict";cc._RF.push(e,"f9806IUoCxHdoAaOY6wxOa/","BannerAdWx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../../GameController"),c=t("../../utils/ComFun"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._createTime=0,e._isShowBanner=!1,e}return i(e,t),e.prototype.showBanner=function(t,e){var o=this;if(cc.sys.platform==cc.sys.WECHAT_GAME){var n=t.isGridAd||!1,i=a.default.sdkManager.getUserInfo().systemInfo;c.default.compareVersion(i.SDKVersion,n?"2.9.2":"2.0.4")<0?console.log("\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301bannerAd",i.SDKVersion):(console.log(c.default.getLocalTime(1)-this._createTime,t.updateTime),this._bannerAd&&(!t.isNew||c.default.getLocalTime(1)-this._createTime<1e3*t.updateTime)?this.bannerShow().then(function(){e&&e()}):(this.newBanner(t),t.showDelay?setTimeout(function(){o.bannerShow().then(function(){e&&e()})},1e3*t.showDelay):this.bannerShow().then(function(){e&&e()})))}},e.prototype.newBanner=function(e){t.prototype.showBanner.call(this,e),this._bannerAd&&this.destroyBanner(),e.isGridAd?this.createGridAd(e.adUnitId):this.createBannerAd(e.adUnitId),this._createTime=c.default.getLocalTime(1)},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&(this._isShowBanner=!1,this._bannerAd.hide())},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.createBannerAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=this._showData.rect.width*this.whScale.x,r=this._showData.rect.height*this.whScale.y;if(i<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{i=300;var c=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),s=.5*n.height-c.y*this.whScale.y-.5*r,l={adUnitId:t,adIntervals:e,style:{left:c.x*this.whScale.x-.5*i+.5*n.width,top:s,width:i,height:r}};console.log("bannerAd createBannerAd",l);var d=wx.createBannerAd(l);this._bannerAd=d,d.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+c.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),d.onError(function(t){console.error("bannerAd",t)})}},e.prototype.bannerShow=function(){var t=this;return new Promise(function(e,o){t._bannerAd?(t._isShowBanner=!0,t._bannerAd.show().then(function(){!t._isShowBanner&&t.hideBanner(),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width]),e()})):o()})},e.prototype.createGridAd=function(t,e){var o=this;void 0===e&&(e=30);var n=cc.view.getFrameSize(),i=this._showData.rect.width*this.whScale.x,r=this._showData.rect.height*this.whScale.y;if(i<300)console.log("\u5bbd\u5ea6\u4e0d\u591f\uff0c\u4e0d\u663e\u793abannerAd\uff01");else{i=300;var c=cc.v2(this._showData.rect.x+.5*this._showData.rect.width,this._showData.rect.y+.5*this._showData.rect.height),s=.5*n.height-c.y*this.whScale.y-.5*r,l={adUnitId:t,adIntervals:e,style:{left:c.x*this.whScale.x-.5*i+.5*n.width,top:s,width:i,height:r},adTheme:"white",gridCount:5};console.log("bannerAd createGridAd",l);var d=wx.createGridAd(l);this._bannerAd=d,d.onResize(function(t){var e=a.default.sdkManager.getUserInfo().systemInfo;e&&(o._bannerAd.style.left=e.screenWidth/2-t.width/2+c.x*o.whScale.x,o._bannerAd.style.top=e.screenHeight-t.height)}),d.onError(function(t){console.error("bannerAd",t)}),this.bannerShow()}},e}(r.default);o.default=s,cc._RF.pop()},{"../../../GameController":"GameController","../../utils/ComFun":"ComFun","./BannerAdBase":"BannerAdBase"}],BannerAdXM:[function(t,e,o){"use strict";cc._RF.push(e,"732c9aBoDVBgYsaFt5KpKe9","BannerAdXM");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BannerAdBase"),a=t("../../utils/ComFun"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHide=!1,e._createTime=0,e}return i(e,t),e.prototype.showBanner=function(e,o){if(cc.sys.platform==cc.sys.XIAOMI_GAME&&"function"==typeof qg.createBannerAd){o&&o();try{if(this._bannerAd&&(!e.isNew||a.default.getLocalTime(1)-this._createTime<1e3*e.updateTime))return void this.bannerShow();t.prototype.showBanner.call(this,e),this.createBannerAd(this._showData.adUnitId)}catch(n){console.log("err",n)}}},e.prototype.hideBanner=function(){t.prototype.hideBanner.call(this),this._bannerAd&&(this._bannerAd.hide(),this.isHide=!1)},e.prototype.destroyBanner=function(){this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},e.prototype.getBannerAd=function(){return this._bannerAd},e.prototype.onReSize=function(t){t.width,t.height},e.prototype.onError=function(t){var e=this;console.log("error: errorMsg: "+t.msg+", erroCode: "+t.code),cc.sys.platform==cc.sys.BAIDU_GAME&&3010012==t.errCode&&(this.destroyBanner(),setTimeout(function(){e.onUpdateBannerAd()},5))},e.prototype.onUpdateBannerAd=function(){this.createBannerAd(this._showData.adUnitId)},e.prototype.createBannerAd=function(t,e){void 0===e&&(e=30);var o=cc.view.getFrameSize();this._showData.rect.width,this.whScale.x,o.height;try{if(this._bannerAd)this.isHide&&this._bannerAd.show();else{if("function"!=typeof qg.createBannerAd)return;var n={adUnitId:"12345"};console.log("bannerAd createBannerAd",n);var i=qg.createBannerAd(n);this._bannerAd=i,this._bannerAd.onResize(this.onReSize.bind(this)),this._bannerAd.onError(this.onError.bind(this)),this.bannerShow()}}catch(r){console.log("err",r)}},e.prototype.bannerShow=function(){var t=this;this._bannerAd&&this._bannerAd.show().then(function(){t._createTime=a.default.getLocalTime(1),console.log("banner \u5e7f\u544a\u663e\u793a   ---:");try{t._bannerAd&&t._bannerAd.style.width>0&&(console.log("EThridAdEvent.THRIDAD_BANNER"),t._showData&&t._showData.callback&&t._showData.callback([t._showData.rect.width]))}catch(e){console.log(e)}}).catch(function(t){console.log("bannerShow ERROR:",t)})},e}(r.default);o.default=c,cc._RF.pop()},{"../../utils/ComFun":"ComFun","./BannerAdBase":"BannerAdBase"}],BannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"c1a9fLVVENGS5HziNEQizo+","BannerAd"),Object.defineProperty(o,"__esModule",{value:!0}),o.EBannerAdEvent=void 0;var n,i=t("../event/EventMng"),r=t("../utils/ComFun"),a=t("./banner/BannerAdBase"),c=t("./banner/BannerAdWx"),s=t("./banner/BannerAdOppo"),l=t("./banner/BannerAdBaidu"),d=t("./banner/BannerAdTest"),u=t("../../data/Config"),p=t("./banner/BannerAdQQ"),h=t("./banner/BannerAdVivo"),f=t("./banner/BannerAdTT"),y=t("./banner/BannerAdXM"),_=t("./banner/BannerAdAndroid");(function(t){t.NEW="banner_new",t.SHOW="banner_show",t.UPDATE="banner_update",t.HIDE="banner_hide",t.DESTROY="banner_destroy"})(n=o.EBannerAdEvent||(o.EBannerAdEvent={}));var g=30,v=function(){function t(){this._adUnitIds=[],this._gridUnitIds=[],this._bannerAd_Interval=g,this._banner=null,this._isShowBanner=!1,this._isOpen=!1,this._curIndex=0}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.init=function(t,e,o){t&&""!=t&&(this._adUnitIds=t.split(",")),e&&""!=e&&(this._gridUnitIds=e.split(",")),console.log("banner adUnitIds",this._adUnitIds),console.log("grid adUnitIds",this._gridUnitIds),this._bannerAd_Interval=o&&""!=o?Number(o):g,(this._adUnitIds.length>0||this._gridUnitIds.length>0)&&(i.default.on(n.NEW,this.onNewBannerAd.bind(this),this),i.default.on(n.SHOW,this.onShowBannerAd.bind(this),this),i.default.on(n.HIDE,this.onHideBannerAd.bind(this),this),this._isOpen=!0)},t.prototype.isOpen=function(){return this._isOpen},t.prototype.onDestroy=function(){(this._adUnitIds.length>0||this._gridUnitIds.length>0)&&(i.default.off(n.NEW,this.onNewBannerAd.bind(this),this),i.default.off(n.SHOW,this.onShowBannerAd.bind(this),this),i.default.off(n.HIDE,this.onHideBannerAd.bind(this),this))},t.prototype.onNewBannerAd=function(t){var e=this.getBanner();e&&e.newBanner(this.getArgsData(t))},t.prototype.onShowBannerAd=function(t){var e=this;if(!this._isShowBanner){console.log("\u663e\u793abannerAd",t);var o=this.getBanner();o&&o.showBanner(this.getArgsData(t),function(){console.log("\u663e\u793abanner\u56de\u8c03 _isShowBanner = "+e._isShowBanner),e._isShowBanner=!0})}},t.prototype.getArgsData=function(t){var e=t||{};return e.pos||(e.pos=cc.v2(0,75-cc.winSize.height)),e.size||(e.size=new cc.Size(cc.winSize.width,150)),{adUnitId:e.isGridAd?this._gridUnitIds[r.default.randomNum(0,this._gridUnitIds.length-1)]:this.getAdUnitId(),rect:cc.rect(e.pos.x-.5*e.size.width,e.pos.y-.5*e.size.height,e.size.width,e.size.height),updateTime:this._bannerAd_Interval,callback:e.callback,isGridAd:e.isGridAd||!1,isNew:e.isNew||!0,showDelay:e.delayShow||0}},t.prototype.getAdUnitId=function(){var t=this._curIndex;return this._adUnitIds[t]||(this._curIndex=0,t=0),this._curIndex++,this._adUnitIds[t]},t.prototype.getBanner=function(){if(!this._banner)switch(u.default.ModelAPI){case u.EAPIModel.WeChat:this._banner=new c.default;break;case u.EAPIModel.QQ:this._banner=new p.default;break;case u.EAPIModel.OPPO:this._banner=new s.default;break;case u.EAPIModel.BAIDU:this._banner=new l.default;break;case u.EAPIModel.VIVO:this._banner=new h.default;break;case u.EAPIModel.TT:this._banner=new f.default;break;case u.EAPIModel.XM:this._banner=new y.default;break;case u.EAPIModel.Android:this._banner=new _.default;break;default:cc.sys.isBrowser?this._banner=new d.default:this._banner=new a.default}return this._banner},t.prototype.onHideBannerAd=function(){if(console.log("\u63a9\u85cfbannerAd",this._isShowBanner),this._isShowBanner){var t=this.getBanner();t&&t.hideBanner(),this._isShowBanner=!1}},t}();o.default=v,cc._RF.pop()},{"../../data/Config":"Config","../event/EventMng":"EventMng","../utils/ComFun":"ComFun","./banner/BannerAdAndroid":"BannerAdAndroid","./banner/BannerAdBaidu":"BannerAdBaidu","./banner/BannerAdBase":"BannerAdBase","./banner/BannerAdOppo":"BannerAdOppo","./banner/BannerAdQQ":"BannerAdQQ","./banner/BannerAdTT":"BannerAdTT","./banner/BannerAdTest":"BannerAdTest","./banner/BannerAdVivo":"BannerAdVivo","./banner/BannerAdWx":"BannerAdWx","./banner/BannerAdXM":"BannerAdXM"}],BarrageMng:[function(t,e,o){"use strict";cc._RF.push(e,"a9c7dpJiiJNOqwjdHdQGGiO","BarrageMng"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../data/Config"),i=t("../ui/common/barrageCtr"),r=function(){function t(){this._barragePrefab=null,this._barragePool=new cc.NodePool("barrageItems"),this._tipsStrQueue=[],this._bShowAct=!1,this._tipsRootNode=null}return t.prototype.loadTipsPrefab=function(t){var e=this;cc.loader.loadRes("prefabs/common/barrageItem",cc.Prefab,function(o,n){o||(e._barragePrefab=n,t&&t())})},t.prototype.showTipsAct=function(t,e,o){var r=this,a=0;this._bShowAct=!0;var c=function(){for(var c=[],s=0;s<n.default.playCf.BarragePosY.length;++s)c.push(s);for(s=0;s<o;++s)setTimeout(function(){var e=r._barragePool.get();e||(e=cc.instantiate(r._barragePrefab)),e.parent=r._tipsRootNode,cc.Tween.stopAllByTarget(e);var s=Math.floor(Math.random()*c.length),l=n.default.playCf.BarragePosY[c.splice(s,1)[0]];e.position=cc.v3(cc.winSize.width/2,l,0);var d=e.getComponent(i.default),u=t[Math.floor(Math.random()*t.length)];d.showAct(u,function(){r._barragePool.put(e),(a+=1)==o&&(r._bShowAct=!1)})},e*s*1e3)};this._tipsRootNode||(this._tipsRootNode=new cc.Node("tipsRootNode"),cc.game.addPersistRootNode(this._tipsRootNode),this._tipsRootNode.position=new cc.Vec3(.5*cc.winSize.width,.5*cc.winSize.height,0)),this._barragePrefab?c():this.loadTipsPrefab(function(){c()})},t.prototype.onBarrageEventId=function(){if(1!=this._bShowAct){this.showTipsAct(["\u5f39\u5e55\u5f39\u5e55\u5f39\u5e55"],3,3)}},t}();o.default=new r,cc._RF.pop()},{"../../data/Config":"Config","../ui/common/barrageCtr":"barrageCtr"}],BaseCellComponent:[function(t,e,o){"use strict";cc._RF.push(e,"1b6d6zilUVMqJWTn6Sim//y","BaseCellComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=-1,e}return i(e,t),e.prototype.updateView=function(t,e){this.index=e},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BaseScrollViewComponent:[function(t,e,o){"use strict";cc._RF.push(e,"db48cJwRLFHnq3I3Ox98MJW","BaseScrollViewComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BaseCellComponent"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellItemPrefab=null,e.scrollView=null,e.view=null,e._horizontal=!1,e._vertical=!0,e.spacing=10,e.reverse=!1,e.cellItemList=[],e.cellItemTempSize=null,e.lastContentPosition=cc.v2(0,0),e.cellDataList=[],e.isUpdateFrame=!0,e.isDisableDeleteItem=!1,e.item_pool=null,e.isCreatePool=!1,e._updateContentView=function(){e._vertical?e.isUpdateFrame&&(e.isUpdateFrame=!1,e.scheduleOnce(e._updateVerticalContentView.bind(e),0)):e.isUpdateFrame&&(e.isUpdateFrame=!1,e.scheduleOnce(e._updateHorizontalContentView.bind(e),0))},e}return i(e,t),Object.defineProperty(e.prototype,"horizontal",{get:function(){return this._horizontal},set:function(t){this._horizontal=t,this._vertical=!t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._horizontal=!t,this._vertical=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxIndex",{get:function(){return this.cellDataList.length},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.onDisable=function(){this.isDisableDeleteItem&&this.onClearCellList()},e.prototype.onInitUI=function(){},e.prototype.onInitCellDataList=function(t,e){void 0===e&&(e=!1),this.onClearCellList(),this.createPrefabPool(),this.isDisableDeleteItem=e,this.scrollView.content.on("position-changed",this._updateContentView),this.cellDataList=t,this.onCreateCellList()},e.prototype.onSetInitPos=function(t){this.scrollView.stopAutoScroll(),this._vertical?this.scrollView.content.setPosition(0,(this.reverse?-1:1)*(this.cellItemTempSize.height+this.spacing)*(t-1)):this.scrollView.content.setPosition((this.reverse?1:-1)*(this.cellItemTempSize.width+this.spacing)*(t-1),0);for(var e=0;e<this.cellItemList.length;e++){var o=t+e-1,n=this.cellItemList[e];if(this.cellDataList[o]){var i=n.getComponent(a.default);i&&i.updateView&&i.updateView(this.cellDataList[o],o),this._vertical?n.y=(this.reverse?o:-o)*(this.cellItemTempSize.height+this.spacing):n.x=(this.reverse?-o:o)*(this.cellItemTempSize.width+this.spacing)}}},e.prototype.getCurIndex=function(){var t=this.scrollView.content.position;return this._vertical?Math.floor(t.y/((this.reverse?-1:1)*(this.cellItemTempSize.height+this.spacing))+1):Math.floor(t.x/((this.reverse?1:-1)*(this.cellItemTempSize.width+this.spacing))+1)},e.prototype.onDeleteOneCellData=function(t){this.cellDataList.splice(t,1),this.onInitCellDataList(this.cellDataList)},e.prototype.onClearCellList=function(){if(null!=this.scrollView&&null!=this.scrollView.content&&null!=this.scrollView.content.children){this.stopAutoScroll(),this.scrollView.content.off("position-changed",this._updateContentView),this._vertical?this.unschedule(this._updateVerticalContentView):this.unschedule(this._updateHorizontalContentView),this.isUpdateFrame=!0,this.cellItemTempSize=null;for(var t=this.scrollView.content.children.length,e=0;e<t;++e){var o=this.scrollView.content.children[e];o&&(this.item_pool.put(o),e--)}this.cellDataList=[],this.cellItemList=[],this._vertical?(this.scrollView.content.height=0,this.scrollView.content.y=0):(this.scrollView.content.width=0,this.scrollView.content.x=0)}},e.prototype.onCreateCellList=function(){this._vertical?this._createVerticalCellList():this._createHorizontalCellList()},e.prototype.getCellPrefab=function(){var t=null;return(t=this.item_pool.size()>0?this.item_pool.get():cc.instantiate(this.cellItemPrefab)).parent=this.scrollView.content,t.active=!0,t},e.prototype.createPrefabPool=function(){if(!this.isCreatePool){this.isCreatePool=!0,null==this.scrollView&&(this.scrollView=this),null==this.scrollView.content&&(this.scrollView.content=cc.find("view/content",this.node)),null==this.view&&(this.view=cc.find("view",this.node)),this._setNodeAnchor(),this.item_pool=new cc.NodePool;for(var t=cc.instantiate(this.cellItemPrefab),e=0;e<0;++e)this.item_pool.put(t)}},e.prototype._setNodeAnchor=function(){this._vertical?(this.node.anchorX=.5,this.view.anchorX=.5,this.scrollView.content.anchorX=.5,this.cellItemPrefab.data.anchorX=.5,this.node.anchorY=this.reverse?0:1,this.view.anchorY=this.reverse?0:1,this.scrollView.content.anchorY=this.reverse?0:1,this.cellItemPrefab.data.anchorY=this.reverse?0:1):(this.node.anchorX=this.reverse?1:0,this.view.anchorX=this.reverse?1:0,this.scrollView.content.anchorX=this.reverse?1:0,this.cellItemPrefab.data.anchorX=this.reverse?1:0,this.scrollView.content.anchorY=.5,this.cellItemPrefab.data.anchorY=.5,this.node.anchorY=.5,this.view.anchorY=.5)},e.prototype._createVerticalCellList=function(){for(var t=10,e=0;e<this.cellDataList.length&&!(e>t-1);e++){var o=this.getCellPrefab();if(0==e){this.cellItemTempSize=o.getContentSize(),t=2*Math.ceil(this.node.height/o.height);var n=this.cellDataList.length*(this.cellItemTempSize.height+this.spacing);this.scrollView.content.setContentSize(cc.size(this.scrollView.content.width,n))}this.cellItemList.push(o);var i=this.cellItemList[e].getComponent(a.default);i&&i.updateView&&i.updateView(this.cellDataList[e],e),o.y=(this.reverse?e:-e)*(this.cellItemTempSize.height+this.spacing)}this.scrollView.content.y=0},e.prototype._createHorizontalCellList=function(){for(var t=10,e=0;e<this.cellDataList.length;e++){if(e>t-1)return;var o=this.getCellPrefab();if(0==e){this.cellItemTempSize=o.getContentSize(),t=2*Math.ceil(this.node.width/o.width);var n=this.cellDataList.length*(this.cellItemTempSize.width+this.spacing);this.scrollView.content.setContentSize(cc.size(n,this.scrollView.content.height))}this.cellItemList.push(o);var i=this.cellItemList[e].getComponent(a.default);i&&i.updateView&&i.updateView(this.cellDataList[e],e),o.x=(this.reverse?-e:e)*(this.cellItemTempSize.width+this.spacing)}},e.prototype._getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.node.convertToNodeSpaceAR(e)},e.prototype._updateVerticalContentView=function(){if(this.isUpdateFrame=!0,this&&cc.isValid(this)&&this.cellItemTempSize){var t=this.scrollView.content.y<this.lastContentPosition.y,e=this.cellItemList.length,o=(this.cellItemTempSize.height+this.spacing)*e,n=this.cellItemTempSize.height+this.spacing;if(t){var i=-1;if(this.reverse){var r=(l=this.cellItemList[0]).getComponent(a.default),c=l.y+this.scrollView.content.y,s=l.y+o;c+this.cellItemTempSize.height<0&&s+this.scrollView.content.y<=this.scrollView.node.height+n&&(i=r.index+e),i>-1&&i<this.cellDataList.length&&(l.y=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.shift(),this.cellItemList.push(l))}else r=(l=this.cellItemList[e-1]).getComponent(a.default),c=l.y+this.scrollView.content.y,s=l.y+o,c<-this.scrollView.node.height&&s+this.scrollView.content.y-this.cellItemTempSize.height<=n&&(i=r.index-e),i>-1&&i>=0&&(l.y=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.pop(),this.cellItemList.unshift(l))}else{var l;if(i=-1,this.reverse)r=(l=this.cellItemList[e-1]).getComponent(a.default),c=l.y+this.scrollView.content.y,s=l.y-o,c>this.scrollView.node.height&&s+this.cellItemTempSize.height+this.scrollView.content.y>=-n&&(i=r.index-e),i>-1&&i>=0&&(l.y=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.pop(),this.cellItemList.unshift(l));else r=(l=this.cellItemList[0]).getComponent(a.default),c=l.y+this.scrollView.content.y,s=l.y-o,c-this.cellItemTempSize.height>0&&s+this.scrollView.content.y>=-this.scrollView.node.height-n&&(i=r.index+e),i>-1&&i<this.cellDataList.length&&(l.y=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.shift(),this.cellItemList.push(l))}this.lastContentPosition=this.scrollView.content.position}},e.prototype._updateHorizontalContentView=function(){if(this.isUpdateFrame=!0,this&&cc.isValid(this)&&this.cellItemTempSize){var t=this.scrollView.content.x<this.lastContentPosition.x,e=this.cellItemList.length,o=(this.cellItemTempSize.width+this.spacing)*this.cellItemList.length,n=this.cellItemTempSize.width+this.spacing;if(t){var i=-1;if(this.reverse){var r=(l=this.cellItemList[e-1]).getComponent(a.default),c=l.x+this.scrollView.content.x,s=l.x+o;c<-this.scrollView.node.width&&s+this.scrollView.content.x-this.cellItemTempSize.width<=n&&(i=r.index-e),i>-1&&i>=0&&(l.x=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.pop(),this.cellItemList.unshift(l))}else r=(l=this.cellItemList[0]).getComponent(a.default),c=l.x+this.scrollView.content.x,s=l.x+o,c+this.cellItemTempSize.width<0&&s+this.scrollView.content.x<=this.scrollView.node.width+n&&(i=r.index+e),i>-1&&i<this.cellDataList.length&&(l.x=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.shift(),this.cellItemList.push(l))}else{var l;if(i=-1,this.reverse)r=(l=this.cellItemList[0]).getComponent(a.default),c=l.x+this.scrollView.content.x,s=l.x-o,c-this.cellItemTempSize.width>0&&s+this.scrollView.content.x>=-this.scrollView.node.width-n&&(i=r.index+e),i>-1&&i<this.cellDataList.length&&(l.x=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.shift(),this.cellItemList.push(l));else r=(l=this.cellItemList[e-1]).getComponent(a.default),c=l.x+this.scrollView.content.x,s=l.x-o,c>this.scrollView.node.width&&s+this.scrollView.content.x+this.cellItemTempSize.width>=-n&&(i=r.index-e),i>-1&&i>=0&&(l.x=s,r&&r.updateView&&r.updateView(this.cellDataList[i],i),l=this.cellItemList.pop(),this.cellItemList.unshift(l))}this.lastContentPosition=this.scrollView.content.position}},r([l(cc.Prefab)],e.prototype,"cellItemPrefab",void 0),r([l(cc.ScrollView)],e.prototype,"scrollView",void 0),r([l(cc.Node)],e.prototype,"view",void 0),r([l({tooltip:"\u662f\u5426\u662f\u6c34\u5e73\u6eda\u52a8"}||cc.Boolean)],e.prototype,"_horizontal",void 0),r([l({tooltip:"\u662f\u5426\u662f\u6c34\u5e73\u6eda\u52a8",override:!0})],e.prototype,"horizontal",null),r([l({tooltip:"\u662f\u5426\u662f\u7ad6\u76f4\u6eda\u52a8"}||cc.Boolean)],e.prototype,"_vertical",void 0),r([l({tooltip:"\u662f\u5426\u662f\u7ad6\u76f4\u6eda\u52a8",override:!0})],e.prototype,"vertical",null),r([l(cc.Float)],e.prototype,"spacing",void 0),r([l({tooltip:"\u662f\u5426\u53cd\u5411\u6ed1\u52a8"})],e.prototype,"reverse",void 0),r([s],e)}(cc.ScrollView);o.default=d,cc._RF.pop()},{"./BaseCellComponent":"BaseCellComponent"}],BlurMask:[function(t,e,o){"use strict";cc._RF.push(e,"0950fGr1i5PSIsMd58sN+uj","BlurMask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraNode=null,e.spriteNode=null,e.material=null,e.texture=null,e._lastSize=new cc.Size(0,0),e.spriteFrame=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.active=!1,this.scheduleOnce(function(){t.node.active=!0},.3),this.cameraNode.enabled=!1,this.texture=new cc.RenderTexture,this.texture._premultiplyAlpha=!0,this.texture.initWithSize(cc.winSize.width,cc.winSize.height,cc.RenderTexture.DepthStencilFormat.RB_FMT_D24S8),this.cameraNode.targetTexture=this.texture,this.spriteNode._materials[0]=this.material,this.spriteFrame=new cc.SpriteFrame,this.spriteNode.spriteFrame=this.spriteFrame,this.spriteNode._srcBlendFactor=cc.macro.BlendFactor.ONE},e.prototype.start=function(){},e.prototype.update=function(){this.snapshot()},e.prototype.onDestroy=function(){},e.prototype.snapshot=function(){var t=this.node.getContentSize();t.width===this._lastSize.width&&t.height===this._lastSize.height||(this.texture.initWithSize(cc.winSize.width,cc.winSize.height,cc.RenderTexture.DepthStencilFormat.RB_FMT_D24S8),this.cameraNode.targetTexture=this.texture),this._lastSize.width=t.width,this._lastSize.height=t.height,this.cameraNode.render(cc.Canvas.instance.node),this.spriteFrame.setTexture(this.texture)},r([s({type:cc.Camera,tooltip:"3D\u6444\u50cf\u673a"})],e.prototype,"cameraNode",void 0),r([s({type:cc.Sprite,tooltip:"\u7cbe\u7075"})],e.prototype,"spriteNode",void 0),r([s(cc.Material)],e.prototype,"material",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],CenterPage:[function(t,e,o){"use strict";cc._RF.push(e,"2db0eH+YHZIMZ4fqyDOMIM0","CenterPage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/sdk/AdMgr"),c=t("./PosAdItem"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adPosPrefab=null,e.scrollView=null,e._moveDic=1,e}return i(e,t),e.prototype.start=function(){var t=this;this.node.on(c.NavigateFail,function(){t.autoScrollTo()},this)},e.prototype.onShow=function(){this.node.active=!0,this.initList()},e.prototype.onHide=function(){this.unscheduleAllCallbacks(),this.node.active=!1},e.prototype.initList=function(){var t=this;a.default.instance.getShuffleAdData(3).then(function(e){if(e){t.scrollView.content.removeAllChildren();for(var o=0;o<e.length;o++){var n=e[o],i=cc.instantiate(t.adPosPrefab);i.parent=t.scrollView.content,i.getComponent(c.default).setData(n,!0)}t.scrollView.node.on("scroll-ended",function(){cc.log("scroll-ended"),t.autoScrollTo()},t),t.autoScrollTo()}else t.scheduleOnce(function(){t.initList()},1)})},e.prototype.autoScrollTo=function(){var t=this;this.unscheduleAllCallbacks(),this.schedule(function(){var e,o;(e=t.scrollView.content.y)>=(o=t.scrollView.content.height-t.scrollView.node.height)-5?t._moveDic=-1:e<=5&&(t._moveDic=1),cc.log(e,o,t._moveDic),e+=t._moveDic*(t.adPosPrefab.data.height+10),cc.tween(t.scrollView.content).to(.5,{y:e}).start()},2)},r([d({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([d({type:cc.ScrollView,tooltip:"ScrollView"})],e.prototype,"scrollView",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","./PosAdItem":"PosAdItem"}],CfgMng:[function(t,e,o){"use strict";cc._RF.push(e,"f5635EQKEdPcZ7l6oVAIFsG","CfgMng"),Object.defineProperty(o,"__esModule",{value:!0});var n=["CfgTest"],i=function(){function t(){this._Cfgs={}}return t.prototype.initConfig=function(t){for(var e=0;e<n.length;e++){var o=n[e];if(this._Cfgs[o]={},t[o]){var i=t[o].keys;if(i)for(var r=0,a=Object.keys(t[o]);r<a.length;r++){var c=a[r];if("keys"==c)break;if(t[o].hasOwnProperty(c)){for(var s=t[o][c],l={},d=0;d<i.length;d++)l[i[d]]=s[d];this._Cfgs[o][c]=l}}else console.error("\u8fd9\u4e2a\u8868\u6ca1\u6709\u7c7b\u578b\u5b9a\u4e49\u62ff\u6570\u636e:",o)}else console.error("\u6ca1\u6709\u8fd9\u4e2a\u8868:",o)}},t.prototype.getCfgTest=function(t){return this._Cfgs.CfgTest[t.toString()]},t.prototype.getCfgTestList=function(){return this._Cfgs.CfgTest},t}();o.default=new i,cc._RF.pop()},{}],CircleItem:[function(t,e,o){"use strict";cc._RF.push(e,"53832G4LH5MpLukm2t9sNqw","CircleItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UINode=null,e.nameTxt=null,e.lockNode=null,e.unlockNode=null,e._circleScale=[1,.8,.6],e._circleName=["2077\u5de5\u4f5c\u7fa4","\u732a\u732a\u4ee3\u8d2d\u7fa4","\u67d2\u67d2\u4ff1\u4e50\u90e8"],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onDestroy=function(){},e.prototype.refreshData=function(t,e){this.UINode.y=0;var o=this._circleName[this._circleScale.indexOf(e)];this.nameTxt.string=o,this.UINode.scale=e,this.lockNode.active=t,this.unlockNode.active=!t},e.prototype.getCirclePos=function(t){this.UINode.angle=-this.UINode.parent.angle,this.UINode.y=t},e.prototype.getUiNodePos=function(){return this.UINode.convertToWorldSpaceAR(cc.v3(0,0,0))},r([s({type:cc.Node,tooltip:"UINode"})],e.prototype,"UINode",void 0),r([s({type:cc.Label,tooltip:"\u540d\u79f0"})],e.prototype,"nameTxt",void 0),r([s({type:cc.Node,tooltip:"lock"})],e.prototype,"lockNode",void 0),r([s({type:cc.Node,tooltip:"unlock"})],e.prototype,"unlockNode",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],CircleLine:[function(t,e,o){"use strict";cc._RF.push(e,"f81aa1g/klOl4+KTnA476j7","CircleLine");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../others/GameCtr"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lockNode=null,e.lockLine=null,e.unlockNode=null,e.unlockLine=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onDestroy=function(){},e.prototype.initNode=function(t,e,o){var n=e,i=o,r=a.default.getThreeDist(n,i),c=a.default.getThreeCenter(n,i);this.lockLine.width=r,this.lockLine.position=c,this.unlockLine.width=r,this.unlockLine.position=c,this.lockNode.active=t,this.unlockNode.active=!t;var s=0;if(e.x==o.x)s=90;else if(e.y==o.y)s=0;else{var l=cc.v2(o.x,o.y),d=cc.v2(e.x,o.y),u=cc.v2(e.x,e.y);s=a.default.getTriangularAngle(l,d,u),(o.x>=e.x&&o.y<=e.y||o.x<=e.x&&o.y>=e.y)&&(s*=-1)}this.lockLine.angle=s,this.unlockLine.angle=s},r([l({type:cc.Node,tooltip:"lock"})],e.prototype,"lockNode",void 0),r([l({type:cc.Node,tooltip:"lockLine"})],e.prototype,"lockLine",void 0),r([l({type:cc.Node,tooltip:"unlock"})],e.prototype,"unlockNode",void 0),r([l({type:cc.Node,tooltip:"unlockLine"})],e.prototype,"unlockLine",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../others/GameCtr":"GameCtr"}],ClubItem:[function(t,e,o){"use strict";cc._RF.push(e,"05f5eQZiT5EkpGYxDTz11gl","ClubItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SocialBase"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([s],e)}(a.default));o.default=l,cc._RF.pop()},{"./SocialBase":"SocialBase"}],ColAdList:[function(t,e,o){"use strict";cc._RF.push(e,"9aae5Euuw1PpbWdTjeN2Cm5","ColAdList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AdCtr"),c=t("./PosAdItem"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adPosPrefab=null,e.scrollView=null,e._moveDic=1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(c.NavigateFail,function(){t.autoScrollTo()},this)},e.prototype.start=function(){var t=this;cc.log("ColAdList start"),this.node.setContentSize(this.node.parent.getContentSize()),this.scrollView.getComponent(cc.Widget).updateAlignment(),this.scrollView.content.width=this.scrollView.node.width,this.scrollView.content.getComponent(cc.Layout).updateLayout();var e=a.default.instance.getShuffleAdData();if(e){for(var o=0;o<e.length;o++){var n=e[o],i=cc.instantiate(this.adPosPrefab);i.parent=this.scrollView.content,i.scale=this.scrollView.content.width/i.width,i.getComponent(c.default).setData(n,!0)}this.scrollView.node.on("scroll-ended",function(){cc.log("scroll-ended"),t.autoScrollTo()},this),this.scheduleOnce(function(){t.autoScrollTo()},1)}},e.prototype.onEnable=function(){this.autoScrollTo()},e.prototype.autoScrollTo=function(){var t=this.scrollView.content.y,e=this.scrollView.content.height-this.scrollView.node.height;t>=e-5?this._moveDic=-1:t<=5&&(this._moveDic=1),cc.log(t,e,this._moveDic),1==this._moveDic?this.scrollView.scrollToBottom(.01*(e-t),!1):-1==this._moveDic&&this.scrollView.scrollToTop(.01*t,!1)},r([d({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([d({type:cc.ScrollView,tooltip:"ScrollView"})],e.prototype,"scrollView",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./AdCtr":"AdCtr","./PosAdItem":"PosAdItem"}],ComFun:[function(t,e,o){"use strict";cc._RF.push(e,"8193bBKIm5M7rp5g9G49Rn3","ComFun");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.gen_handler=o.handler=void 0,String.prototype.format=function(){if(0==arguments.length)return this;var t=arguments[0],e=this;if("object"==typeof t){for(var o in t)e=e.replace(new RegExp("\\{"+o+"\\}","g"),t[o]);return e}for(var n=0;n<arguments.length;n++)e=e.replace(new RegExp("\\{"+n+"\\}","g"),arguments[n]);return e};var i=[],r=function(){function t(){}return t.prototype.init=function(t,e){void 0===e&&(e=null);for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];this.cb=t,this.host=e,this.args=o},t.prototype.exec=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.cb.apply(this.host,this.args.concat(t))},t}();o.handler=r,o.gen_handler=function(t,e){void 0===e&&(e=null);for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var c=i.length<0?i.pop():new r;return c.init.apply(c,n([t,e],o)),c};var a=function(){function t(){}return t.randomNum=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.getRandNum=function(t,e){void 0===e&&(e=0);var o=0;return 0==e?o=Math.random()*t>>0:-1==e?o=(Math.random()*t>>0)-(Math.random()*t>>0):-2==e&&(o=t*(1*Math.random()>.5?1:-1)),o},t.getRandList=function(e,o){if(void 0===o&&(o=1),e.length<o)return e;for(var n=e.concat(),i=[],r=0;r<o;r++)i.push(n.splice(t.getRandNum(n.length),1)[0]);return i},t.getShuffleArray=function(t){for(var e=t.length;e--;){var o=~~(Math.random()*e),n=t[e];t[e]=t[o],t[o]=n}return t},t.getNumToStr=function(e,o,n){function i(t){return parseInt(t.toString())}return void 0===o&&(o=2),void 0===n&&(n=0),e<1e3?0==n?function(t){return t.toFixed(o)}(e):i(e).toString():(e<1e6&&(e=i(e)),t.getNumEnStr(e,o))},t.getHHMMSSBySecond=function(t){if(t<0)return"0";var e=Math.floor(t/3600),o=e<10?"0"+e:""+e,n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n;return o+":"+(n<10?"0"+n:""+n)+":"+(i<10?"0"+i:""+i)},t.getMMSSBySecond=function(t){if(t<0)return"0";var e=Math.floor(t/60),o=t-60*e;return(e<10?"0"+e:""+e)+":"+(o<10?"0"+o:""+o)},t.changeTimeStr=function(t,e){if(void 0===e&&(e=0),t<=0){if(0==e)return"00:00:00";if(1==e)return"0";if(2==e){if(0==t)return"\u6c38\u4e45";if(-1==t)return"\u5df2\u8fc7\u671f"}else{if(3==e)return"00:00";if(4==e)return"\u65e0"}}var o=Math.floor(t/86400),n=1==e||2==e?t%86400:t,i=Math.floor(n/3600),r=Math.floor(n%3600/60),a=Math.floor(n%3600%60),c="";return 0==e?(c+=i<10?"0"+i+":":i+":",c+=r<10?"0"+r+":":r+":",c+=a<10?"0"+a:""+a):1==e?(o>0&&(c=o+"\u5929"),i>0&&(c+=i+"\u5c0f\u65f6"),r>0?c+=r+"\u5206\u949f":i>0&&a>0&&(c+="\u96f6"),a>0?c+=a+"\u79d2":r>0&&(c+=a+"\u79d2")):2==e?(o>0&&(c=o+"\u5929"),0==i&&r>0&&(i=1),i>=0&&(c+=i+"\u5c0f\u65f6")):3==e?(c+=(r=Math.floor(t/60))<10?"0"+r+":":r+":",c+=a<10?"0"+a:""+a):4==e&&(i>0&&(c+=i+"\u5c0f\u65f6"),0==r&&a>0&&(r=1),r>0&&(c+=r+"\u5206\u949f")),c},t.getDatabyArr=function(t,e,o){for(var n=0;n<t.length;n++){var i=t[n];if(i[e]&&i[e]==o)return i}return null},t.getGoldnumStringby=function(t){var e="",o=t,n=0,i=["K","M","B","T","P","E","G","Q","A","C","D","E","F","H","I","KK","MM","BB","TT","PP","EE","GG","QQ","AA","BB","CC","DD","EE"];if(t<Math.pow(10,4))e=t+"";else for(var r=0;r<i.length;r++)if(t<Math.pow(10,7+3*r)){n=Math.pow(10,3+3*r),e=i[r];break}if(0!=n){o=t/n;var a=Math.floor(o),c=(""+a).length;if(c<4){var s=4-c;e=o.toFixed(s)+e}else e=a+e}return e},t.getNumEnStr=function(t,e){void 0===e&&(e=2);var o=["K","M","B","T","P","E","G","Q","A","C","D","E","F","H","I","KK","MM","BB","TT","PP","EE","GG","QQ","AA","BB","CC","DD","EE"],n=o.length,i=0;if(t<1e6)return t+"";var r=Math.log(t)/Math.log(1e3),a=parseInt(r+"");for(i=1;i<n;i++){var c=o[i];if(a==i){var s=Math.pow(1e3,a);return t/s%1==0?parseInt(t/s+"")+c+"":l(t/s)+c+""}}return t+"";function l(t){return t.toFixed(e)}},t.getLocalTime=function(t){return void 0===t&&(t=0),Math.floor((new Date).getTime()*(0==t?.001:1))},t.radianToAngle=function(t){return t/Math.PI*180},t.angleToRadian=function(t){return t*Math.PI/180},t.getNextZeroTime=function(t){var e=new Date(1e3*t),o=new Date(new Date(e.toLocaleDateString()).getTime()+864e5);return Math.floor(.001*o.getTime())},t.getNextMonthZeroTime=function(t){var e=new Date(1e3*t),o=e.getFullYear(),n=e.getMonth();return++n>=12&&(o++,n=0),e.setFullYear(o,n,1),e.setHours(0,0,0,0),Math.floor(.001*e.getTime())},t.getCurMonthZeroTime=function(t){var e=new Date(1e3*t),o=e.getFullYear(),n=e.getMonth();return e.setFullYear(o,n,1),e.setHours(0,0,0,0),Math.floor(.001*e.getTime())},t.getNextWeekZeroTime=function(t){return this.getCurWeekZeroTime(t)+604800},t.getCurWeekZeroTime=function(t){var e=new Date(1e3*t),o=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=e.getDay();return 0==r&&(r=7),e.setFullYear(o,n,i),e.setHours(0,0,0,0),Math.floor(.001*e.getTime())-86400*(r-1)},t.compareVersion=function(t,e){for(var o=t.split("."),n=e.split("."),i=Math.max(o.length,n.length);o.length<i;)o.push("0");for(;n.length<i;)n.push("0");for(var r=0;r<i;r++){var a=parseInt(o[r]),c=parseInt(n[r]);if(a>c)return 1;if(a<c)return-1}return 0},t.saveForWebBrowser=function(t,e){var o;if(o=t instanceof cc.JsonAsset?JSON.stringify(t):t,cc.sys.isBrowser){var n=new Blob([o]),i=document.createElement("a");return i.download=e,i.innerHTML="Download File",null!=window.URL?i.href=window.URL.createObjectURL(n):(i.href=window.URL.createObjectURL(n),i.onclick=function(){document.body.removeChild(i)},i.style.display="none",document.body.appendChild(i)),i.click(),!0}return!1},t.arrayToColor=function(t){return t},t.colorToArray=function(t){return t},t.generateUUID=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},t.sliceStrByNum=function(t,e){return e&&t.length>e&&(t=t.slice(0,e)+"..."),t},t.hourTransitionSec=function(t){return 3600*t},t.retainNumber=function(t,e){for(var o=1,n=0;n<e;++n)o*=10;return Math.round(t*o)/o},t}();o.default=a,cc._RF.pop()},{}],Config:[function(t,e,o){"use strict";cc._RF.push(e,"2c60c2Tia5M4pL+MRXBNKSR","Config"),Object.defineProperty(o,"__esModule",{value:!0}),o.EAPIModel=void 0;var n,i,r,a=t("../logic/ui/common/LoadHelper"),c=t("./CfgMng");(function(t){t[t.TEST=0]="TEST",t[t.OUTTEST=1]="OUTTEST",t[t.ONLINE=2]="ONLINE"})(n||(n={})),function(t){t[t.None=0]="None",t[t.WeChat=1]="WeChat",t[t.H5=2]="H5",t[t.QQ=3]="QQ",t[t.OPPO=4]="OPPO",t[t.VIVO=5]="VIVO",t[t.BAIDU=6]="BAIDU",t[t.TT=7]="TT",t[t.XM=8]="XM",t[t.Android=9]="Android"}(i=o.EAPIModel||(o.EAPIModel={})),function(t){t.Zh="Zh",t.En="En"}(r||(r={}));var s=function(){function t(){this.ModelAPI=i.None,this.Language=r.Zh}return t.prototype.init=function(){cc.sys.platform==cc.sys.WECHAT_GAME?window.qq?this.ModelAPI=i.QQ:this.ModelAPI=i.WeChat:cc.sys.platform==cc.sys.BYTEDANCE_GAME?this.ModelAPI=i.TT:cc.sys.platform==cc.sys.OPPO_GAME?this.ModelAPI=i.OPPO:cc.sys.platform==cc.sys.VIVO_GAME?this.ModelAPI=i.VIVO:cc.sys.platform==cc.sys.BAIDU_GAME?this.ModelAPI=i.BAIDU:cc.sys.platform==cc.sys.XIAOMI_GAME?this.ModelAPI=i.XM:cc.sys.platform==cc.sys.ANDROID?this.ModelAPI=i.Android:this.ModelAPI=i.H5},t.prototype.initCf=function(t){var e=this,o=function(o){if(o){console.log(e.ModelAPI,"CfgSdk.json:",o);var n=o.serverCf;e._sdkCf=n[e.ModelAPI+""],e._gameCf=o.gameCf,e._playCf=o.playCf,t&&t(!0)}else t&&t()};a.default.loadJson("json/CfgGlobal").then(function(t){e._globalCf=t,a.default.loadJson(e._globalCf.InitLocalUrl,"json").then(function(t){o(t)}).catch(function(t){console.error(t),o()})}).catch(function(e){e&&(console.error(e),t&&t())})},t.prototype.loadCf=function(){var t=this;return new Promise(function(e,o){var n=function(t){t?(c.default.initConfig(t),e()):o("\u52a0\u8f7dJson\u914d\u7f6e\u5931\u8d25!")};cc.sys.isBrowser?a.default.loadJson("data/CfgJson","json").then(function(t){n(t)}).catch(function(t){console.error(t),n()}):a.default.loadRemoteJson(t._globalCf.CfJsonUrl+(t.playCf.cfgVersion||""),!0).then(function(t){n(t)}).catch(function(t){console.error(t),n()})})},Object.defineProperty(t.prototype,"sdkCf",{get:function(){return this._sdkCf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameCf",{get:function(){return this._gameCf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playCf",{get:function(){return this._playCf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalCf",{get:function(){return this._globalCf},enumerable:!1,configurable:!0}),t.prototype.isInTest=function(){return this._sdkCf.state==n.TEST},t}();o.default=new s,cc._RF.pop()},{"../logic/ui/common/LoadHelper":"LoadHelper","./CfgMng":"CfgMng"}],ConstantCf:[function(t,e,o){"use strict";cc._RF.push(e,"4a1fdA6+VpJ1ZdFxYCbURYl","ConstantCf"),Object.defineProperty(o,"__esModule",{value:!0}),o.H5RunEnvironment=o.PhoneSystem=o.BuildPage=o.MapPosType=o.LineColor=o.BarrageType=o.EMainSubMsgType=o.RobotNameCf=o.EMisTouchIds=o.EItemStrs=o.EItemId=o.AdShareKeys=o.EAdShareIds=o.EAUDIOPATH=o.EGameEvent=o.ESceneName=o.EBundleName=void 0,function(t){t.Login="login",t.Play="play"}(o.EBundleName||(o.EBundleName={})),function(t){t.StartScene="startScene",t.MainScene="mainScene",t.PlayScene="playScene"}(o.ESceneName||(o.ESceneName={})),function(t){t.GAME_SHOW="GAME_SHOW",t.GAME_HIDE="GAME_HIDE",t.UPDATE_POWER="UPDATE_POWER",t.UPDATE_GOLD="UPDATE_GOLD",t.UPDATE_DIAMOND="UPDATE_DIAMOND",t.UPDATE_CROWN="UPDATE_CROWN",t.UPDATE_SHIELD="UPDATE_SHIELD",t.UPDATE_VIPTIME="UPDATE_VIPTIME",t.UI_SHOW="UI_SHOW",t.UI_HIDE="UI_HIDE",t.SCENE_SWITCH="SCENE_SWITCH",t.SHOW_INSERTAD="SHOW_INSERTAD",t.PLAY_ALLCLICK="PLAY_ALLCLICK",t.SHOW_CUSTOMAD="SHOW_CUSTOMAD",t.RES_COLLECT="RES_COLLECT",t.RES_UISHOW="RES_UISHOW",t.RES_NUMCUT="RES_NUMCUT",t.ACTIVITY_STATE="ACTIVITY_STATE",t.QQ_FRIENDPVP="QQ_FRIENDPVP",t.SHOW_ADD_Desktop="SHOW_ADD_AddDesktop",t.HIDE_ADD_Desktop="HIDE_ADD_AddDesktop",t.ADD_LINEACTION_SPEED="ADD_LINEACTION_SPEED",t.ADD_StripACTION_SPEED="ADD_StripACTION_SPEED",t.BACKTO_CALLBACK="BACKTO_CALLBACK",t.MAP_START_ANIMATION="MAP_START_ANIMATION",t.CONVERT_WORLD_POSITION="CONVERT_WORLD_POSITION",t.ROTATE_CIRCLE_DIR="ROTATE_CIRCLE_DIR"}(o.EGameEvent||(o.EGameEvent={})),function(t){t.EFFECT_CLICK="effect_click",t.EFFECT_RES_DDD="coin_get"}(o.EAUDIOPATH||(o.EAUDIOPATH={})),function(t){t[t.NONE=0]="NONE",t[t.Video=1]="Video",t[t.MusicBuy=2]="MusicBuy",t[t.RoleBuy=3]="RoleBuy",t[t.ShopBuy=4]="ShopBuy",t[t.ShieldBuy=5]="ShieldBuy",t[t.Recieve=6]="Recieve",t[t.RoleUse=7]="RoleUse",t[t.ResultMul=8]="ResultMul",t[t.Vip=9]="Vip",t[t.VipGiftDouble=10]="VipGiftDouble",t[t.Supply=11]="Supply",t[t.CrownUnlock=12]="CrownUnlock",t[t.SceneBuy=13]="SceneBuy",t[t.SceneUse=14]="SceneUse",t[t.SignDouble=15]="SignDouble",t[t.ClickDouble=16]="ClickDouble",t[t.Turntable=17]="Turntable",t[t.EnergyCollect=18]="EnergyCollect",t[t.EnergyReward=19]="EnergyReward",t[t.SignCashOut=20]="SignCashOut",t[t.TBCashOut=21]="TBCashOut",t[t.TimeGiftDouble=22]="TimeGiftDouble",t[t.DayChallenge=23]="DayChallenge",t[t.PvPResultLost=24]="PvPResultLost",t[t.ResultMulBack=25]="ResultMulBack",t[t.DayTaskDouble=26]="DayTaskDouble",t[t.ResultWCVideo=27]="ResultWCVideo",t[t.SupplyWCVideo=28]="SupplyWCVideo",t[t.FoodSupply=29]="FoodSupply",t[t.PotGoldDouble=30]="PotGoldDouble",t[t.ResultDoubleFood=31]="ResultDoubleFood",t[t.LockSpeciaClient=32]="LockSpeciaClient",t[t.GetFoodUrgency=33]="GetFoodUrgency",t[t.SpecialVideoEvent=34]="SpecialVideoEvent",t[t.GetFloatBoxAward=35]="GetFloatBoxAward",t[t.UILockGetBtn=36]="UILockGetBtn",t[t.LockNewMusic=37]="LockNewMusic",t[t.VideoStrongPlay=38]="VideoStrongPlay"}(o.EAdShareIds||(o.EAdShareIds={})),o.AdShareKeys=["NONE","Video","MusicBuy","RoleBuy","ShopBuy","ShieldBuy","Recieve","RoleUse","ResultMul","Vip","VipGiftDouble","Supply","CrownUnlock","SceneBuy","SceneUse","SignDouble","ClickDouble","Turntable","EnergyCollect","EnergyReward","SignCashOut","TBCashOut","TimeGiftDouble","DayChallenge","PvPResultLost","ResultMulBack","DayTaskDouble","ResultWCVideo","SupplyWCVideo","FoodSupply","PotGoldDouble","ResultDoubleFood","LockSpeciaClient","GetFoodUrgency","SpecialVideoEvent","GetFloatBoxAward","UILockGetBtn","LockNewMusic","VideoStrongPlay"],function(t){t[t.Diamond=0]="Diamond",t[t.Power=1]="Power",t[t.Gold=2]="Gold"}(o.EItemId||(o.EItemId={})),o.EItemStrs=["\u94bb\u77f3","\u4f53\u529b","\u91d1\u5e01"],function(t){t[t.None=0]="None",t[t.MCWC=1]="MCWC",t[t.WYWC=2]="WYWC",t[t.VIDEO=3]="VIDEO",t[t.CLOSE_BTN=4]="CLOSE_BTN",t[t.WX_TOPTIPS=5]="WX_TOPTIPS",t[t.WX_FRIENDPLAY=6]="WX_FRIENDPLAY",t[t.WX_FRIENDCHALLENGE=7]="WX_FRIENDCHALLENGE",t[t.WX_RPTJBTN=8]="WX_RPTJBTN",t[t.BACK_VIDEO=9]="BACK_VIDEO",t[t.POWERADD_VIDEO=10]="POWERADD_VIDEO"}(o.EMisTouchIds||(o.EMisTouchIds={})),o.RobotNameCf=["\u9648\u6631\u677e","\u9648\u60a6\u7693","\u9648\u949f\u5fd7\u526f\u5361","\u8c0c\u4f0d\u79c0","\u8bda","\u8bda\u610f\u6ee1\u6ee1","\u7a0b\u660c\u4f1f","\u7a0b\u6625\u5f69c","\u7a0b\u8273\u5a1c","\u7a0b\u54ac\u91d1\u5e05","\u7a0b\u6613\u6db5","\u7a0b\u771f\u771f","\u9a70\u7ff0\u540d\u554a","\u8fdf\u65e9\u5ac1\u7ed9\u8fb9\u4f2f\u8d24","\u866b\u866b","\u81ed\u81ed\u6cfd","\u81ed\u5c41\u5927\u58ee","\u96cf\u83ca\u7684\u5929\u7a7a","\u891a\u91d1\u661f","\u891a\u78ca","\u891a\u661f\u598d","\u891a\u79ed\u6db5","\u89e6\u6478\u56fe","\u7a7f\u8d8a\u7684\u72fc","\u7eafdvdbbdhjx\u965b","\u7eaf\u8587\u513f","\u7960\u5802\u56fe\u7247","\u8f9e","\u8f9e\u9716","\u8d50\u4f60\u4e00\u4e08\u7ea2","\u82c1\u84c9","\u8471\u9038","\u806a\u806a\u6167\u6167\u5764","\u806a\u660a","\u806a\u660e\u4e16\u535a","\u918b\u5473\u8339","\u7480\u74a8\u661f\u6708","\u8106\u54e6\u70c2\u644a\u5b50","\u8fbe","\u8fbe\u8fbe\u6210\u6210","\u8fbe\u8fbe\u6851\u6851","\u8fbe\u54e5\u4e0d\u8c6a\u6a2a","\u8fbe\u9526\u4e50","\u8fbe\u62c9","\u8fbe\u4ee4","\u7b2aLing","\u9edb\u5a1c","\u9edb\u4e1d\u62c9","\u9edb\u989c","\u80c6\u91cf\u51b3\u5b9a\u672a\u6765","\u86cb","\u86cb\u86cb\u7684\u5fe7\u4f24","\u86cb\u54c8\u54c8","\u94db\u94db\u7237\u7237","\u9053","\u9053\u5fb7\u770b\u89c1","\u9053\u683c\u62c9\u65af\u3001\u541b","\u9053\u751f","\u9053\u53cb\u5728\u54ea","\u7a3b\u8349\u4ebaDT","\u7684\u4eba\u5417\u54e6","\u7684\u4e00\u5165\u6210\u7ee9","\u7b49\u4e0d\u5230\u7684\u7231_","\u7b49\u4e0d\u5230\u6708\u4eae","\u7b49\u5f85oo","\u7b49\u5f85\u5e78\u798f","\u7b49\u98ce\u53c8\u7b49\u96e8\u4f59\u751f\u90fd\u662f\u4f60","\u7b49\u4f60\u661f\u7ea7\u9152\u5e97","\u7b49\u4ec0\u9ebc\u541b","\u7b49\u65f6\u95f4","\u7b49\u5929\u660e","\u7b49\u4e00\u4e2a\u4eba\u5fae\u7b11","\u7b49\u4e00\u4e0b","\u9093\u6625deng","\u8c46\u8c46","\u8c46\u8c46\u8df3\u821e","\u8c46\u513f\u83e1","\u8c46\u82b1\u4e4b\u6b4c\u548c","\u8c46\u6d46\u8fd8\u662f\u725b\u5976","\u8c46\u6d46\u6cb9\u6761","\u8c46\u853b\u751c\u751c","\u8c46\u853b\u751c\u751c","\u8c46\u82bd\u83dc\u975e\u51e1","\u8c46\u5b50","\u8c46\u5b50\u9017","\u9017\u5e1d\u716e","\u8d4c\u795e","\u77ed\u8fab\u5973\u738b","\u77ed\u88d9","\u77ed\u5934\u53d1","\u953b\u81e3","\u8bb9\u4eba\u5927\u5934","\u989d\u5416\u989d","\u989d\u5165\u4f0f","\u989d\u5934\u50cf\u6846","\u984d\u4f60\u5011","\u997f\u809a\u5b50v\u548c\u5c0f\u4f19\u4f34","\u997f\u9102\u56dbhig","\u997f\u996d\u5341\u6708\u4efd\u989d\u80a5\u561f\u561f","\u997f\u4e48\u8054\u7cfb\u6211\u554aAJS\u5c71\u4e1c\u7701\u963f\u8f72","\u997f\u54e6\u4f4e\u8c03\u5c0f\u54e6","\u9cc4\u9c7c\u53bb\u73a9\u5440\u5566\u54af","\u97a5\u6cd5\u5e08","\u800c\u5b89","\u7ffb\u8bd1\u6210\u8bed\u8bfe\u4e0d\u5403\u828b\u5934","\u7e41\u8fbe\u82b1","\u7e41\u548c\u5ef6\u5bb9","\u7e41\u82b1\u843d\u5e55","\u8fd4\u5462","\u996d\u56e2\u4e38\u5b50","\u8303ZXC","\u8303\u798f\u5f3a","\u8303\u6d77\u8f9b\u590d\u53e4\u53d1\u7ea2\u5305","\u8303\u6587\u5316\u4eba","\u8303\u6587\u5a07","\u8303\u4e00\u9e23\u8001\u5b59\u6765\u4e5f","\u8303\u6c38\u6625","\u82b3\u82b3","\u82b3\u82b3www","\u82b3\u83f2\u59d0\u52a0\u52a0\u52a0","\u82b3\u59d0\u6700\u725bB","\u82b3\u732b\u54aa","\u82b3\u6d45\u7b11","\u9632\u5316\u670d\u5403\u9e21\u516c\u7172","\u8bbf\u95ee\u6211","\u9dad\u9dad","\u98de\u51fa\u95e8\u53e3","\u98de\u98de","\u98de\u4ed8","\u98de\u54e5","\u98de\u8fc7\u6d77v","\u98de\u864e\u961f","\u98de\u516d\u4e09","\u98de\u9f99\u8fc8\u514b","\u98de\u843d\u4eba\u5bb6","\u98de\u971c\u6c81","\u98de\u7855","\u98de\u5929\u8349\u4eba","\u98de\u821egg","\u98de\u7fd4","\u98de\u7fd4","\u98de\u7fd4\u65e0\u9645","\u98de\u5411\u68a6\u60f3\u52a0\u6cb9","\u98de\u7d6e","\u98de\u96ea","\u98de\u71d5","\u975e\u5e38\u7ec5\u58eb","\u975e\u5e38\u6cfd","\u975e\u521d\u8a00","\u975e\u51e1\u54e5\u6f14\u5458","\u975e\u4eba\u5bb0","\u975e\u4e00\u7684\u611f\u89c9","\u83f2\u83f2\u9ebb\u9ebb","\u83f2\u83f2\u9e2d","\u83f2\u8fa3\u672c\u8272","\u83f2\u7fbd\u822a","\u970f","\u80a5\u5f6d","\u7fe1\u7fe0\u57ce\u5403\u7a7f\u4e0d\u6101","\u8d39\u6735\u829d","\u8d39\u5b5d\u901a","\u82ac\u82ac\u4e9a","\u82ac\u5768\u5768","\u82ac\u661f\u513f","\u7eb7\u7eb7\u6270\u6270\u5cf0","\u798f\u5170","\u798f\u6817\u6700\u5446","\u798f\u6c14","\u798f\u73ba","\u8f85\u5bfc\u8d39\u5927\u59d1\u592b","\u8f85\u5bfc\u8d39\u501f","\u8f85\u4e4b","\u961c\u5e73\u5927\u6d77","\u9a78\u9a6c\u7237xk","\u8be5\u6635\u79f0\u5df2\u5b58\u5728","\u76d6\u82b3\u82b3g","\u76d6\u9e4f","\u76d6\u9752\u5cf0","\u9ad8\u50b2\u7684\u5b9d\u8d1d","\u9ad8\u6625\u83b9happy","\u9ad8\u7c97\u521a\u590d\u6d3b","\u9ad8\u5927","\u9ad8\u5927\u5e05","\u9ad8\u5206\u6bb5\u56de\u53e5","\u9ad8\u98ce\u5170","\u9ad8\u9ad8\u9ad8\u957f\u957f\u957f","\u9ad8\u6b4c","\u9ad8\u5251\u5988","\u9ad8\u79d1\u8c6a","\u9ad8\u51b7\u5416\u5416\u5416","\u9ad8\u5229\u82b1","\u9ad8\u7f8e\u4ec1","\u9ad8\u5e99\u4e61","\u9ad8\u5a1c\u9ad8\u5802","\u9ad8\u7426","\u9ad8\u542f\u6db5","\u9ad8\u5029","\u9ad8\u5f3a","\u9ad8\u7fd4\u5b87\u5b99\u65af\u76fe","\u9ad8\u6b23","\u9ad8\u65b0\u6708","\u9ad8\u5174","\u9ad8\u96c5\u5a77\u5976\u5976","\u9ad8\u9633","\u9ad8\u9633\u6700\u559c\u6b22\u5927\u8d66\u5929\u4e0b","\u9ad8\u6c38\u6797","\u9ad8\u6c38\u4e49","\u9ad8\u52c7","\u9ad8\u52c7\u4e9a\u9ebb\u5f97","\u9ad8\u7389\u6d01\u5b8f\u89c2\u7ecf\u6d4e\u811a\u540e\u8ddf","\u9ad8\u613f\u7ea2","\u9ad8\u4e2d\u65f6\u5019\u56de\u6765\u554a","\u90dc\u6625\u7389","\u90dc\u6765\u536b","\u90dc\u4e09\u5973","\u90dc\u505c\u505c","\u9601\u697c\u5148\u751f","\u9694\u58c1\u8001\u5218liu","\u9694\u58c1\u8001\u738b_\u4e03\u5f69","\u9694\u58c1\u8001\u738b\u963f\u78ca","\u845b\u7fe0\u5170","\u8c6a\u8fd0\u5988\u5988","\u90dd\u6842\u5f66","\u90dd\u6674HP","\u90dd\u6dd1\u4eae","\u90dd\u56db\u5b63","\u90dd\u6b46\u6021","\u90dd\u8f69\u8f69\u8f69","\u90dd\u70e8\u5a77","\u7693\u5b9d\u5b9d\u513f","\u7693\u7693\u7684\u5976\u5976","\u7693\u7426","\u7693\u6674","\u7693\u4e2b","\u79be\u5c0f\u5c0f","\u8377\u82b1\u5170zz","\u83cf\u82b3","\u8d3a\u83ca\u83ca","\u8d3a\u8001\u7239","\u8d3a\u68a6\u7f18","\u8d3a\u6155","\u8d3a\u4ed5\u6625","\u8d6b\u4f1f","\u9e64","\u9e64\u9e64","\u9ed1\u6697\u4e4b\u738b","\u9ed1\u767d\u98a0\u5012\u4e36","\u9ed1\u9ed1\u7684\u4e36","\u9ed1\u9f99\u6c5f\u5317\u5b89\u8d75\u660e\u4eae","\u9ed1\u732b\u59d0","\u9ed1\u73ab\u7470dx","\u9ed1\u7261\u4e39","\u9ed1\u8272\u7684\u9c7c\u5b50","\u9ed1\u8272\u51dd\u6740","\u9ed1\u540c","\u9ed1\u8587\u82d3","\u9ed1\u5fc3\u738b\u540e","\u9ed1\u5b57\u5c11\u5973","\u8861\u9f0e","\u7ea2\u5c18\u8fc7\u5ba2","\u7ea2\u6735\u82b1fjchcxjcxjfxj","\u7ea2\u5bcc\u58eb\u5a5a\u7eb1\u6444\u5f71\u7434\u7434","\u7ea2\u5de5\u6d2a","\u7ea2\u7ea2","\u7ea2\u5e99\u597d\u4eba","\u7ea2\u5982\u706b","\u7ea2\u8272\u9ad8\u8ddf\u978b","\u7ea2\u70e7\u5154\u5b50","\u7ea2\u5e02\u53f7","\u7ea2\u6850\u5f3a","\u7ea2\u7ec6\u96e8","\u7ea2\u989c\u65e7","\u7ea2\u8863\u6eda\u6eda","\u7ea2\u82f1may","\u7ea2\u5b50","\u7ea2\u7d2b\u84dd\u73ab\u7470","\u8679","\u8679\u8679\u8679hong","\u9e3f\u9e3f\u71d5","\u9e3f\u9e44\u4e4b\u5fd7ll","\u9e3f\u73b2\u73b2\u73d1","\u9e3f\u745e\u65e0\u654c\u5c0f\u5c06","\u9e3f\u56fe","\u9e3f\u7fd4\u522b\u514b","\u80e1XR","\u80e1\u5965\u7fd4","\u80e1\u671d\u5e73","\u80e1\u5e7f\u6587","\u80e1\u56fd\u5f3a","\u80e1\u96c4\u96c4","\u80e1\u8f69","\u80e1\u71d5","\u80e1\u4e49\u54cd","\u80e1\u94f6\u4f1f","\u80e1\u96e8\u73c2","\u80e1\u5fd7\u6587","\u846b\u82a6\u5a03\u98de\u554a","\u8774\u8776\u68a6","\u7cca\u6d82\u534a\u590f","\u7cca\u6d82\u7684\u5c0f\u61d2\u866b","\u7cca\u6d82\u5c31\u5410","\u864e\u54e5","\u864e\u54c8\u864e\u864e","\u864e\u95e8\u4e0a","\u864e\u599e","\u864e\u7259\u76f4\u64ad\u5c0f\u4e91","\u82b1v\u82b1","\u82b1\u4e1b\u4e2d\u7684\u4e00\u6735","\u82b1\u513f\u6735\u6735\u5411\u9633\u5f00","\u82b1\u597d\u6708\u5706","\u82b1\u82b1","\u82b1\u2014\u2014\u82b1","\u82b1\u82b1love","\u82b1\u82b1\u8349\u8349\u6536\u5175\u6f58\u9ec4","\u82b1\u82b1\u7684\u4e16\u754c","\u82b1\u706b\u98d8\u626c","\u82b1\u5f00\u534a\u590f","\u82b1\u5f00\u534a\u590f\u4ee5\u8fc7\u53bb","\u82b1\u5f00\u5f7c\u5cb8\u5929hu","\u82b1\u5170\u7530","\u82b1\u843d\u4e5f\u662f\u7f8eshe","\u82b1\u74f6\u6613\u788e\u7ea2\u989c\u6613\u8001","\u82b1\u671f\u82b1\u65e0\u671f","\u82b1\u542e","\u82b1\u592a\u9999\u5f61","\u82b1\u7530\u9759\u5fc3","\u82b1\u672a\u8001","\u82b1\u821e\u68a6","\u82b1\u60dc\u9189","\u82b1\u6eaa\u725b\u8089\u7c89","\u82b1\u5c0f\u82cf","\u82b1\u7fbd\u4e36\u5343\u72d0","\u82b1\u8bed\u9189","\u82b1\u4e2d\u9152","\u82b1\u4e2d\u9152","\u82b1\u81ea\u7136\u5f00","\u83ef","\u753b\u7709\u5a1f\u59d0","\u8352\u65e0\u4eba\u773c","\u7687\u752b","\u7687\u51a0\u7f8e\u5986","\u7687\u5bb6\u81f3\u5c0a","\u9ec4HH","\u9ec4\u5b89\u94f6H","\u9ec4\u5175\u770b\u5f97\u89c1","\u9ec4\u806a\u9ec4\u4f18","\u9ec4\u5d14"],function(t){t[t.None=0]="None",t[t.FriendPlayList=1]="FriendPlayList",t[t.FriendPlayListScroll=2]="FriendPlayListScroll",t[t.FriendChallenge=3]="FriendChallenge",t[t.SendMusicScore=4]="SendMusicScore",t[t.FriendMusicRank=5]="FriendMusicRank",t[t.FriendMusicChallengePK=6]="FriendMusicChallengePK",t[t.FriendMusicChallengeResult=7]="FriendMusicChallengeResult"}(o.EMainSubMsgType||(o.EMainSubMsgType={})),function(t){t[t.None=0]="None"}(o.BarrageType||(o.BarrageType={})),o.LineColor=["#00D1FF"],function(t){t[t.LINE=0]="LINE",t[t.DOT=1]="DOT"}(o.MapPosType||(o.MapPosType={})),function(t){t[t.MAIN=0]="MAIN",t[t.MAP=1]="MAP",t[t.INVITE=2]="INVITE",t[t.CIRCLE=3]="CIRCLE"}(o.BuildPage||(o.BuildPage={})),function(t){t[t.NONE=0]="NONE",t[t.ANDROID=1]="ANDROID",t[t.IOS=2]="IOS"}(o.PhoneSystem||(o.PhoneSystem={})),function(t){t[t.NONE=0]="NONE",t[t.WX=1]="WX",t[t.QQ=2]="QQ"}(o.H5RunEnvironment||(o.H5RunEnvironment={})),cc._RF.pop()},{}],CustomAdPos:[function(t,e,o){"use strict";cc._RF.push(e,"c5827YyVNhJnYfuEw8443CR","CustomAdPos");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../../comFrame/utils/ComFun"),l=cc._decorator,d=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._customAd=null,e}return i(e,t),e.prototype.onLoad=function(){a.default.on(c.EGameEvent.SHOW_CUSTOMAD,this.showAd.bind(this),this)},e.prototype.onDestroy=function(){a.default.off(c.EGameEvent.SHOW_CUSTOMAD,this.showAd.bind(this),this),this._customAd&&this._customAd.destroy&&(this._customAd.destroy(),this._customAd=null)},e.prototype.showAd=function(t){void 0===t&&(t=!1),cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx&&window.wx.createCustomAd&&(t?(this._customAd||(this._customAd=window.wx.createCustomAd(this.getWxArg()),this._customAd.onError(function(t){return console.log(t)}),this._customAd.onLoad(function(){return console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u622a\u6210\u529f")}),this._customAd.onClose(function(){return console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5173\u95ed")})),this._customAd.show().then(function(){return console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u663e\u793a")})):this._customAd&&this._customAd.hide?this._customAd.hide():this._customAd&&this._customAd.destroy&&(this._customAd.destroy(),this._customAd=null))},e.prototype.getWxArg=function(){var t=this.node,e=new cc.Size(t.width+10,t.height+10),o=cc.view.getFrameSize(),n=cc.director.getWinSize(),i=cc.director.getScene().getChildByName("Canvas").convertToNodeSpaceAR(t.convertToWorldSpaceAR(new cc.Vec2(0,0))),r=(.5*n.width+i.x-.5*e.width)/n.width*o.width,a=(.5*n.height-i.y-.5*e.height)/n.height*o.height;return{adUnitId:s.default.getRandList(["adunit-a9a0edb28a9dc38e","adunit-5b7effb7f0c96f85","adunit-5bd62ad32516dbaf"],1)[0],adIntervals:30,left:r,top:a,fixed:!1}},r([d],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/utils/ComFun":"ComFun","../../../data/ConstantCf":"ConstantCf"}],CutToAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"8d6e79j3YpBzowwoUzD3ffU","CutToAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../data/Config"),s=t("./AndroidCtr"),l=cc._decorator,d=l.ccclass,u=l.property;(function(t){t[t.START=0]="START",t[t.CLOSE=1]="CLOSE"})(a||(a={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.meshRender=null,e.spotlLight=null,e.lightNode=null,e._aniTime=3,e._playState=!1,e._updateTime=0,e._lightState=a.START,e._intensity=2,e}return i(e,t),e.prototype.onLoad=function(){this._playState=!1},e.prototype.start=function(){},e.prototype.update=function(t){if(this._playState){if(this._updateTime+=t,this._updateTime>this._aniTime)return void(this._playState=!1);var e,o=this._updateTime/this._aniTime;e=this._lightState==a.START?this._intensity*o:this._intensity-this._intensity*o,this.setLightIntensity(e)}},e.prototype.onDestroy=function(){},e.prototype.onPlay=function(){this._updateTime=0,this._lightState=a.CLOSE,this._playState=!0,cc.Tween.stopAllByTarget(this.lightNode),cc.tween(this.lightNode).to(this._aniTime,{opacity:0}).start(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).by(this._aniTime,{eulerAngles:cc.v3(0,1825,0)},{easing:"circOut"}).call(function(){c.default.playCf.PlayCutToAction=!1,s.default.animEnd()}).start()},e.prototype.playLightAction=function(){this._updateTime=0,this._lightState=a.START,this._playState=!0,cc.Tween.stopAllByTarget(this.lightNode),cc.tween(this.lightNode).to(this._aniTime,{opacity:255}).start()},e.prototype.setLightIntensity=function(t){this.spotlLight.intensity=t},r([u(cc.MeshRenderer)],e.prototype,"meshRender",void 0),r([u(cc.Light)],e.prototype,"spotlLight",void 0),r([u(cc.Node)],e.prototype,"lightNode",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../data/Config":"Config","./AndroidCtr":"AndroidCtr"}],DiamondNumUpdate:[function(t,e,o){"use strict";cc._RF.push(e,"50090UHKg9IfaL/oTzmgZOG","DiamondNumUpdate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/ConstantCf"),c=t("../../../comFrame/event/EventMng"),s=t("../../../GameDataCenter"),l=t("./ResNumUpdate"),d=cc._decorator,u=d.ccclass,p=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){c.default.on(a.EGameEvent.UPDATE_DIAMOND,this.updateNum.bind(this,!0),this),this.updateNum(!1)},e.prototype.onDestroy=function(){c.default.off(a.EGameEvent.UPDATE_DIAMOND,this.updateNum.bind(this,!0),this)},e.prototype.updateNum=function(t){void 0===t&&(t=!1),cc.log("DiamondNumUpdate updateNum");var e=s.default.account.diamond;t?this.addNum(Math.floor(e)-this.resNum):this.setResNum(e)},r([u],e)}(l.default));o.default=p,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf","./ResNumUpdate":"ResNumUpdate"}],DragonBonePlay:[function(t,e,o){"use strict";cc._RF.push(e,"4cbbe2m8r9G8L7W7GEIYFzD","DragonBonePlay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbAni=null,e}return i(e,t),e.prototype.start=function(){this.dbAni.playAnimation(this.dbAni.animationName,1)},r([s(dragonBones.ArmatureDisplay)],e.prototype,"dbAni",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],EventConst:[function(t,e,o){"use strict";cc._RF.push(e,"4eb2cFROiBDepqquOZfD7LD","EventConst"),Object.defineProperty(o,"__esModule",{value:!0}),o.ESocketEvent=void 0,function(t){t.SOCKET_OPEN="SOCKET_OPEN",t.SOCKET_CLOSE="SOCKET_CLOSE",t.SOCKET_ERROR="SOCKET_ERROR"}(o.ESocketEvent||(o.ESocketEvent={})),cc._RF.pop()},{}],EventMng:[function(t,e,o){"use strict";cc._RF.push(e,"3ff6cOnSt1HmJx2z7+YTAiB","EventMng"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._eventList={}}return t.prototype.on=function(t,e,o,n){void 0===n&&(n=!1),!this._eventList[t]&&(this._eventList[t]=[]),this.getEvent(t,e)||this._eventList[t].push({fun:e,target:o,once:n})},t.prototype.emit=function(t,e){var o=this;this._eventList[t]?this._eventList[t].forEach(function(n){n.fun&&n.fun.call(n.target,e),n.once&&o.off(t,n.fun,n.target)}):console.log("eventType not registered\uff1a"+t)},t.prototype.off=function(t,e,o){var n=this;this._eventList[t]&&this._eventList[t].forEach(function(i,r){i.fun.toString()==e.toString()&&i.target==o&&n._eventList[t].splice(r,1)})},t.prototype.removeEventByType=function(t){this._eventList[t]&&(this._eventList[t]=null)},t.prototype.removeEventByTarget=function(t){for(var e in t||console.log("there is no such EventTarget:"),this._eventList)for(var o=0;o<this._eventList[e].length;++o)if(this._eventList[e][o].target&&this._eventList[e][o].target===t){this._eventList[e].splice(o,1);break}},t.prototype.getEvent=function(t,e){return this._eventList[t].some(function(t){if(t.fun==e)return!0})},t}();o.default=new n,cc._RF.pop()},{}],FixPhone:[function(t,e,o){"use strict";cc._RF.push(e,"fd5e5duQNlA27vnW6fDtLYW","FixPhone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../logic/others/UIHelp");(function(t){t[t.NONE=0]="NONE",t[t.TOP_DOWN=1]="TOP_DOWN",t[t.SCALEHEIGHT=2]="SCALEHEIGHT"})(a||(a={}));var s=cc._decorator,l=s.ccclass,d=s.menu,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fixTypes=[a.NONE],e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.fixTypes.length;t++)switch(this.fixTypes[t]){case a.TOP_DOWN:this.fixTopDown();break;case a.SCALEHEIGHT:this.scaleHeight()}},e.prototype.fixTopDown=function(){c.default.isIPhoneX()&&(cc.winSize.width>cc.winSize.height?this.node.getComponent(cc.Widget)?this.node.getComponent(cc.Widget).left+=60:this.node.x+=60:this.node.getComponent(cc.Widget)?this.node.getComponent(cc.Widget).top+=60:this.node.y+=60)},e.prototype.scaleHeight=function(){this.node.scaleY=cc.winSize.height/this.node.height},r([u({type:[cc.Enum(a)],tooltip:"\u9002\u914d\u7c7b\u578b"})],e.prototype,"fixTypes",void 0),r([l,d("UI/common/FixPhone")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../logic/others/UIHelp":"UIHelp"}],FriendPlayCard:[function(t,e,o){"use strict";cc._RF.push(e,"4a94fbJvlpMb7ZVpAIJDWWG","FriendPlayCard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/sdk/AdMgr"),c=t("../../../comFrame/utils/ComFun"),s=t("../../others/UIHelp"),l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameIcon=null,e.goBtnNode=null,e._adInfo=null,e}return i(e,t),e.prototype.start=function(){this.goBtnNode.on(cc.Node.EventType.TOUCH_END,this.onClickBtn.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.onClickBtn.bind(this),this)},e.prototype.init=function(t){this._adInfo=t,s.default.onLoadHttpImage(this.gameIcon,c.default.getRandList(this._adInfo.icons,1)[0])},e.prototype.onClickBtn=function(){a.default.instance.navigateToProgram(this._adInfo.originData)},r([u(cc.Sprite)],e.prototype,"gameIcon",void 0),r([u(cc.Node)],e.prototype,"goBtnNode",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/utils/ComFun":"ComFun","../../others/UIHelp":"UIHelp"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"7f0cfRuBqZMYbVDLBYGWbDB","GameController"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameDataCenter"),i=t("./data/Config"),r=t("./comFrame/utils/SingletonFactory"),a=t("./comFrame/sdk/platform/SdkTT"),c=t("./comFrame/sdk/platform/SdkWx"),s=t("./comFrame/sdk/platform/SdkH5"),l=t("./comFrame/sdk/platform/SdkQQ"),d=t("./comFrame/sdk/platform/SdkOppo"),u=t("./comFrame/sdk/platform/SdkVivo"),p=t("./logic/others/UIHelp"),h=t("./comFrame/sdk/platform/SdkBaidu"),f=t("./comFrame/sdk/platform/SdkXM"),y=t("./comFrame/sdk/platform/SdkAndroidZQ"),_=function(){function t(){this.mIsInit=!1}return Object.defineProperty(t.prototype,"isInit",{get:function(){return this.mIsInit},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;return new Promise(function(e){if(t.mIsInit)return cc.log("\u5df2\u521d\u59cb\u5316GameController"),void t.initGame().then(function(){e()});cc.debug.setDisplayStats(!1),t.mIsInit=!0,n.default.initModule(),t.initGame().then(function(){e()})})},t.prototype.initGame=function(){var t=this;return new Promise(function(e){var o=function(){t.initCf().then(function(){t.initSdk(),e()}).catch(function(t){console.log(t),p.default.onFailTips(o,t)})};o()})},t.prototype.initSdk=function(){switch(i.default.ModelAPI){case i.EAPIModel.WeChat:this.sdkManager=r.SingletonFactory.getInstance(c.default);break;case i.EAPIModel.QQ:this.sdkManager=r.SingletonFactory.getInstance(l.default);break;case i.EAPIModel.OPPO:this.sdkManager=r.SingletonFactory.getInstance(d.default);break;case i.EAPIModel.TT:this.sdkManager=r.SingletonFactory.getInstance(a.default);break;case i.EAPIModel.VIVO:this.sdkManager=r.SingletonFactory.getInstance(u.default);break;case i.EAPIModel.BAIDU:this.sdkManager=r.SingletonFactory.getInstance(h.default);break;case i.EAPIModel.XM:this.sdkManager=r.SingletonFactory.getInstance(f.default);break;case i.EAPIModel.Android:this.sdkManager=r.SingletonFactory.getInstance(y.default);break;default:this.sdkManager=r.SingletonFactory.getInstance(s.default)}this.sdkManager.initSdk()},t.prototype.initCf=function(){return new Promise(function(t,e){i.default.initCf(function(o){o?t():e("\u52a0\u8f7dsdkjson\u5931\u8d25\uff01")})})},t.prototype.getUserId=function(){if(!n.default.account)return"";var t=n.default.account.getBaseUserInfo();return t?t.charId:""},t.prototype.sendEvent=function(){},t.prototype.sendEventData=function(){},t}();o.default=new _,cc._RF.pop()},{"./GameDataCenter":"GameDataCenter","./comFrame/sdk/platform/SdkAndroidZQ":"SdkAndroidZQ","./comFrame/sdk/platform/SdkBaidu":"SdkBaidu","./comFrame/sdk/platform/SdkH5":"SdkH5","./comFrame/sdk/platform/SdkOppo":"SdkOppo","./comFrame/sdk/platform/SdkQQ":"SdkQQ","./comFrame/sdk/platform/SdkTT":"SdkTT","./comFrame/sdk/platform/SdkVivo":"SdkVivo","./comFrame/sdk/platform/SdkWx":"SdkWx","./comFrame/sdk/platform/SdkXM":"SdkXM","./comFrame/utils/SingletonFactory":"SingletonFactory","./data/Config":"Config","./logic/others/UIHelp":"UIHelp"}],GameCtr:[function(t,e,o){"use strict";cc._RF.push(e,"58d4cwgBNFOjLJK5cAT0xOc","GameCtr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../data/ConstantCf"),i=t("../../GameDataCenter"),r=t("../../comFrame/utils/ComFun"),a=t("../../comFrame/event/EventMng"),c=t("../../data/Config"),s=t("./TipsMng"),l=t("./UIHelp"),d=t("../../GameController"),u=t("./ServerCtr"),p=t("../ui/main/UISupply"),h=t("../ui/common/LoadHelper"),f=t("../../comFrame/sdk/AdMgr"),y=function(){function t(){this._saveLocalTime=0,this._saveServerTime=0,this._curFrameRateLevel=0,this._videoOpenTime=0,this._videoOpenState=!1,this._isHasShowAuthorize=!1}return Object.defineProperty(t.prototype,"frameRateLevel",{get:function(){return this._curFrameRateLevel},set:function(t){this._curFrameRateLevel=t},enumerable:!1,configurable:!0}),t.prototype.getToken=function(){return i.default.account.getServerToken()},t.prototype.setSaveServerTime=function(t){0>t?console.error("\u65b0\u7684\u670d\u52a1\u5668\u65f6\u95f4\u5c0f\u4e8e0!!!"):(this._saveServerTime>t&&console.warn("\u65b0\u7684\u670d\u52a1\u5668\u65f6\u95f4\u5c0f\u4e8e\u5f53\u524d\u670d\u52a1\u5668\u65f6\u95f4"),this._saveServerTime=t,this._saveLocalTime=r.default.getLocalTime())},t.prototype.getCurServerTime=function(){var t=r.default.getLocalTime();return this._saveServerTime>0&&this._saveLocalTime>0&&t-this._saveLocalTime>=0?t-this._saveLocalTime+this._saveServerTime:(console.error("\u5f53\u524d\u670d\u52a1\u5668\u65f6\u95f4\u8ba1\u7b97\u5931\u8d25"),0)},t.prototype.isNeedTimeUpdate=function(t,e){if(e){var o=this.getCurServerTime()-t;return console.log("\u65f6\u95f4\u95f4\u9694\u5237\u65b0",o),o>=e}o=this.getCurServerTime();var n=new Date(1e3*o),i=new Date(1e3*t),r=1e4*n.getFullYear()+100*n.getMonth()+n.getDate(),a=1e4*i.getFullYear()+100*i.getMonth()+i.getDate();return cc.log("\u6bcf\u65e5\u51cc\u70b9\u5237\u65b0",r,a),r>a},t.prototype.sendUserInfo=function(t){i.default.account.setBaseUserInfoByKey("nickName",t.nickName),i.default.account.setBaseUserInfoByKey("avatarUrl",t.avatarUrl),u.default.sendDataToServer(t)},t.prototype.onSubscribe=function(t){var e=this;if(console.log("\u5f00\u59cb\u8ba2\u9605\u6d88\u606f"),this.isNeedTimeUpdate(i.default.account.lastWxSubscribeTime)){var o=function(){t&&t()},n=function(){s.default.showTips("\u8ba2\u9605\u6210\u529f\uff01"),i.default.account.lastWxSubscribeTime=e.getCurServerTime(),d.default.sendEventData("\u8ba2\u9605\u6210\u529f")},a=function(t){t&&t.length>0?u.default.sendWxSubscribe(t).then(function(){n()}).catch(function(t){s.default.showTips(t)}):console.log("\u65e0\u8ba2\u9605\u6210\u529f\u6d88\u606f\uff01"),o()},l=c.default.playCf.subscribeTempIds;if(l.length>0){if(c.default.ModelAPI==c.EAPIModel.WeChat){var p=d.default.sdkManager.getUserInfo().systemInfo;if(r.default.compareVersion(p.SDKVersion,"2.4.4")<0)return console.log("\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301\u8ba2\u9605\u6d88\u606f",p.SDKVersion),void o();var h=l;return void window.wx.requestSubscribeMessage({tmplIds:h,success:function(t){console.log(t);for(var e="",o=[],n=0;n<h.length;n++){var i=h[n],r=t[i];if(r&&""!=r)switch(r){case"accept":o.push(i),e="\u8ba2\u9605\u6388\u6743\u6210\u529f\uff01";break;case"reject":e="\u8ba2\u9605\u5df2\u62d2\u7edd\uff01";break;case"ban":e="\u8ba2\u9605\u88ab\u540e\u53f0\u5c01\u7981\uff01";break;default:e="\u5f02\u5e38\u72b6\u6001:"+r}else e="\u8fd4\u56de\u5f02\u5e38";""!=e&&s.default.showTips(e)}a(o)},fail:function(t){console.log(t),s.default.showTips(t.errMsg+", errCode="+t.errCode),o()}})}if(c.default.ModelAPI==c.EAPIModel.TT){var y=l;return void window.tt.requestSubscribeMessage({tmplIds:y,success:function(t){console.log("\u8ba2\u9605\u6210\u529f: "+JSON.stringify(t));for(var e="",o=[],n=0;n<y.length;n++){var i=y[n],r=t[i];if(r&&""!=r)switch(r){case"accept":o.push(i),e="\u8ba2\u9605\u6388\u6743\u6210\u529f\uff01";break;case"reject":e="\u8ba2\u9605\u5df2\u62d2\u7edd\uff01";break;case"ban":e="\u8ba2\u9605\u88ab\u540e\u53f0\u5c01\u7981\uff01";break;default:e="\u5f02\u5e38\u72b6\u6001:"+r}else e="\u8fd4\u56de\u5f02\u5e38";""!=e&&s.default.showTips(e)}a(o)},fail:function(t){console.log("\u8ba2\u9605\u5931\u8d25: "+t.errMsg+", "+t.errCode,y[0]),o()},complete:function(t){console.log("\u5b8c\u6210: "+t)}})}if(c.default.ModelAPI==c.EAPIModel.QQ){var _=f.default.instance.adSdk;if(_.isQQ()){for(var g=[],v=0;v<l.length;v++){var m=l[v];m.length>0&&g.push(m)}_.sdk.subscribeAppMsgCallback=function(t){console.log("\u8ba2\u9605\u8fd4\u56de\u7684\u53c2\u6570",t),n(),o()};var w={subscribe:!0};g.length>0&&(w.tmplIds=g),_.sdk.subscribeAppMsg(w)}}}t&&t()}else t&&t()},t.prototype.getTodayWatchVideoTimes=function(){if(cc.log("\u83b7\u5f97\u4eca\u65e5\u770b\u89c6\u9891\u6b21\u65701"),this.isNeedTimeUpdate(i.default.account.getWatchVideoTime())){cc.log("\u83b7\u5f97\u4eca\u65e5\u770b\u89c6\u9891\u6b21\u65702");var t=this.getCurServerTime();i.default.account.setWatchVideoTime(t),this.setTodayWatchVideoTimes(0)}return i.default.account.gameUserInfo.watchVideo||0},t.prototype.addTodayWatchVideoTimes=function(t){void 0===t&&(t=1);var e=this.getTodayWatchVideoTimes();e+=t,this.setTodayWatchVideoTimes(e)},t.prototype.setTodayWatchVideoTimes=function(t){void 0===t&&(t=0),i.default.account.setGameUserInfo("watchVideo",t)},t.prototype.clearGameInfo=function(){i.default.account.gameUserInfo={}},t.prototype.setPowerNum=function(t,e){void 0===e&&(e=0),(i.default.account.gameUserInfo.power||0)!=t&&(t=Math.max(t,0),i.default.account.setGameUserInfo("power",t),e&&(i.default.account.setGameUserInfo("powerUpdateTime",e),u.default.sendDataToServer({powerUpdateTime:e})),u.default.sendDataToServer({power:t}),e=i.default.account.gameUserInfo.powerUpdateTime||0,a.default.emit(n.EGameEvent.UPDATE_POWER))},t.prototype.getPowerNum=function(){var t=i.default.account.gameUserInfo.power||0;if(t<c.default.playCf.initPower){var e=i.default.account.gameUserInfo.powerUpdateTime||0,o=this.getCurServerTime()-e;if(o>0){var n=Math.floor(o/c.default.playCf.addPowerTime)*c.default.playCf.addPower;t=Math.min(t+n,c.default.playCf.initPower),this.setPowerNum(t,c.default.playCf.addPowerTime+e)}}return t},t.prototype.addPowerNum=function(t){if(void 0===t&&(t=1),!t)return!1;var e=this.getPowerNum(),o=this.getCurServerTime(),n=!1,i=!0;return t>0?(e+=t,n=!0):(n=e>=c.default.playCf.initPower&&e+t<c.default.playCf.initPower,i=e+t>=0,e=Math.max(e+t,0)),this.setPowerNum(e,n?o:0),i},t.prototype.consumePower=function(t){var e=t||-c.default.playCf.cutPower||-1;return cc.log("\u4f53\u529b\u6d88\u8017",t),this.getPowerNum()+e>=0?(this.addPowerNum(e),!0):(s.default.showTips("\u4f53\u529b\u4e0d\u8db3\uff01"),this.showUISupply(n.EItemId.Power,500),!1)},t.prototype.getNextAutoAddPowerTime=function(){if(this.getPowerNum()>=c.default.playCf.initPower)return-1;var t=i.default.account.gameUserInfo.powerUpdateTime,e=c.default.playCf.addPowerTime-(this.getCurServerTime()-t);return e>0?e:0},t.prototype.beginPlay=function(){h.default.runScene(n.ESceneName.PlayScene,!1)},t.prototype.showUISupply=function(t,e,o){void 0===t&&(t=n.EItemId.Diamond),void 0===e&&(e=0),void 0===o&&(o=!1),setTimeout(function(){l.default.showUI(p.default,null,{itemId:t,isClick:o,closeCallFun:function(){}})},e)},t.prototype.addDiamondNum=function(t){void 0===t&&(t=0),t=Math.floor(t);var e=i.default.account.diamond;return(e=Math.floor(e+t))<0?(s.default.showTips("\u94bb\u77f3\u4e0d\u8db3\uff01"),this.showUISupply(n.EItemId.Diamond,500),!1):(i.default.account.diamond=e,u.default.sendDataToServer({diamond:e}),a.default.emit(n.EGameEvent.UPDATE_DIAMOND),d.default.sendEvent("\u94bb\u77f3\u6570\u76ee",{num:t}),!0)},t.prototype.addGoldNum=function(t){void 0===t&&(t=0),t=Math.floor(t);var e=i.default.account.gold;return(e=Math.floor(e+t))<0?(s.default.showTips("\u91d1\u5e01\u4e0d\u8db3\uff01"),this.showUISupply(n.EItemId.Gold,500),!1):(i.default.account.gold=e,u.default.sendDataToServer({gold:e}),a.default.emit(n.EGameEvent.UPDATE_GOLD),d.default.sendEvent("\u91d1\u5e01\u6570\u76ee",{num:t}),!0)},t.prototype.dealServerData=function(t){t&&(console.log(t),u.default.setOpenID(t.openId),i.default.account.setBaseUserInfo({charId:t.charId,nickName:t.nickName,avatarUrl:t.avatarUrl,createTime:t.createTime,offLineTime:t.offLineTime}),console.log("\u670d\u52a1\u5668\u6570\u636e\u8bbe\u7f6e account"),i.default.account.serverDataSaveInLocal({bindState:t.bindState||0,videoNum:t.videoNum||0,diamond:t.diamond||0,power:t.power||0,star:t.star||0,dhmIds:this.stringToObject(t.dhmIds,[]),powerUpdateTime:t.powerUpdateTime}))},t.prototype.stringToObject=function(t,e){return t&&t.length>0?JSON.parse(t):e||{}},t.prototype.getReward=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=0);for(var i=0;i<t.length;i++){var r=t[i];switch(r.itemId){case n.EItemId.Diamond:this.addDiamondNum(r.num);break;case n.EItemId.Power:this.addPowerNum(r.num);break;case n.EItemId.Gold:this.addGoldNum(r.num)}}return!0},t.prototype.getThreeDist=function(t,e){var o=t.x-e.x,n=t.y-e.y,i=t.z-e.z,r=Math.sqrt(o*o+n*n+i*i);return Math.round(1e4*r)/1e4},t.prototype.getThreeCenter=function(t,e){var o=t.x+e.x,n=t.y+e.y,i=t.z+e.z;return cc.v3(o/2,n/2,i/2)},t.prototype.getMapDataDist=function(t,e){var o=t.x-e.x,n=t.y-e.y,i=t.z-e.z,r=Math.sqrt(o*o+n*n+i*i);return Math.round(1e4*r)/1e4},t.prototype.getMapDataCenter=function(t,e){var o=t.x+e.x,n=t.y+e.y,i=t.z+e.z;return cc.v3(o/2,n/2,i/2)},t.prototype.getMapAtWillPos=function(t){return r.default.getRandList(c.default.playCf.MapListData,t)},t.prototype.getTriangularAngle=function(t,e,o){var n=t,i=e,r=o,a=Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2)),c=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2)),s=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2)),l=(Math.pow(a,2)+Math.pow(c,2)-Math.pow(s,2))/(2*a*c);return Math.round(180*Math.acos(l)/Math.PI)},t.prototype.getCamera_z=function(){var t=cc.winSize.width,e=cc.winSize.height,o=Math.min(t,e),n=Math.max(t,e),i=20-18.2857*(o/n-.5625);return console.log("width:"+t+", height:"+e+", min:"+o+", max:"+n+", z:"+i+","),i},t.prototype.getQueryVariable=function(t){for(var e=window.location.search.substring(1).split("&"),o=0;o<e.length;o++){var n=e[o].split("=");if(n[0]==t)return n[1]}return""},t.prototype.getH5RunIsWx=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger")||-1!==window.location.href.indexOf("http://localhost")},t.prototype.getH5RunEnvironment=function(){n.H5RunEnvironment.NONE;var t=navigator.userAgent.toLowerCase();return t.match(/MicroMessenger\/[0-9]/i)?n.H5RunEnvironment.WX:t.match(/QQ\/[0-9]/i)?n.H5RunEnvironment.QQ:n.H5RunEnvironment.NONE},t.prototype.getH5AndroidOrIos=function(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,o=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),i=n.PhoneSystem.NONE;return e?i=n.PhoneSystem.ANDROID:o&&(i=n.PhoneSystem.IOS),i},t.prototype.webCopyString=function(t){var e=t+"",o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",o.style.fontSize="12pt";var n=getSelection(),i=null;n.rangeCount>0&&(i=n.getRangeAt(0)),document.body.appendChild(o),o.select(),o.selectionStart=0,o.selectionEnd=e.length;var r=!1;try{r=document.execCommand("copy")}catch(a){}return document.body.removeChild(o),i&&(n.removeAllRanges(),n.addRange(i)),r?console.log("\u590d\u5236\u6210\u529f"):console.log("\u590d\u5236\u5931\u8d25"),r},t}();o.default=new y,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../../comFrame/event/EventMng":"EventMng","../../comFrame/sdk/AdMgr":"AdMgr","../../comFrame/utils/ComFun":"ComFun","../../data/Config":"Config","../../data/ConstantCf":"ConstantCf","../ui/common/LoadHelper":"LoadHelper","../ui/main/UISupply":"UISupply","./ServerCtr":"ServerCtr","./TipsMng":"TipsMng","./UIHelp":"UIHelp"}],GameDataCenter:[function(t,e,o){"use strict";cc._RF.push(e,"f8f9bjoVYhPr5aO35WvZEXR","GameDataCenter"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./comFrame/utils/SingletonFactory"),i=t("./logic/model/AccountModel"),r=function(){function t(){this._tModel=[],this.account=null}return t.prototype.newModel=function(t){var e=n.SingletonFactory.getInstance(t);return this._tModel.push(e),e},t.prototype.clear=function(){this._tModel.forEach(function(t){t.clear()})},t.prototype.initModule=function(){this.account=this.newModel(i.default)},t}();o.default=new r,cc._RF.pop()},{"./comFrame/utils/SingletonFactory":"SingletonFactory","./logic/model/AccountModel":"AccountModel"}],GoldNumUpdate:[function(t,e,o){"use strict";cc._RF.push(e,"7a6afpdFShD0ax13NISWye1","GoldNumUpdate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/ConstantCf"),c=t("../../../comFrame/event/EventMng"),s=t("../../../GameDataCenter"),l=t("./ResNumUpdate"),d=cc._decorator,u=d.ccclass,p=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){c.default.on(a.EGameEvent.UPDATE_GOLD,this.updateNum.bind(this,!0),this),this.updateNum(!1)},e.prototype.onDestroy=function(){c.default.off(a.EGameEvent.UPDATE_GOLD,this.updateNum.bind(this,!0),this)},e.prototype.updateNum=function(t){void 0===t&&(t=!1),cc.log("GoldNumUpdate updateNum");var e=s.default.account.gold;t?this.addNum(Math.floor(e)-this.resNum):this.setResNum(e)},r([u],e)}(l.default));o.default=p,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf","./ResNumUpdate":"ResNumUpdate"}],GuideMng:[function(t,e,o){"use strict";cc._RF.push(e,"4a1ec2nZW5D05nu9VkldZIv","GuideMng"),Object.defineProperty(o,"__esModule",{value:!0}),o.TriggerGuide=o.EGuideScene=void 0;var n=t("../ui/guide/UIGuide"),i=t("./UIHelp"),r=t("../../GameDataCenter"),a=t("../../GameController");(function(t){t[t.ClearFoodRubbish=0]="ClearFoodRubbish",t[t.ClientGO=1]="ClientGO",t[t.ClickFoodSupply=2]="ClickFoodSupply",t[t.ClientEarnings=3]="ClientEarnings",t[t.StarChallenge=4]="StarChallenge",t[t.GotoGame=5]="GotoGame",t[t.ClickCD=6]="ClickCD"})(o.EGuideScene||(o.EGuideScene={})),function(t){t[t.ClickDress=0]="ClickDress",t[t.ClickCD=1]="ClickCD",t[t.ClickPot=2]="ClickPot",t[t.ClickFood=3]="ClickFood"}(o.TriggerGuide||(o.TriggerGuide={}));var c=[[{nodePath:"UIGuide/ui/dialog/helpBtn",des:"\u6211\u7684\u5e97\u94fa\u592a\u810f\u4e86\uff0c\u6ca1\u6709\u5ba2\u4eba\u6765\uff0c\u4f60\u80fd\u5e2e\u5e2e\u6211\u5417\uff1f",isShowBg:!1,offset_y:0,btnType:n.IGuideBtnType.Help,isShowFg:!0,isTrigger:!1,callback:null}]],s=function(){function t(){this._guideScene=-1}return t.prototype.checkGuideCondition=function(t){var e=r.default.account.guideOkIds;return this._guideScene=-1,!(!c[t]||e.indexOf(t)>-1)},t.prototype.beginGuide=function(t,e){if(void 0===e&&(e=0),this.checkGuideCondition(t)){this._guideScene=t,cc.log("\u5f15\u5bfc\u5f00\u59cb",t),a.default.sendEvent("\u4e3b\u9875\u65b0\u624b\u5f15\u5bfc",{step:c.length+"_"+(t+1)});var o=c[t];return o&&o.length>0&&i.default.showUI(n.default,null,{showFun:this.showGuideUI.bind(this),closeFun:this.closeGuideUI.bind(this),guideData:o,delay:e}),!0}return!1},t.prototype.guideTrigger=function(t,e){void 0===e&&(e=0)},t.prototype.isInGuide=function(t){return this._guideScene==t},t.prototype.closeGuide=function(t){var e=r.default.account.guideOkIds;0==e.includes(t)&&(e.push(t),r.default.account.guideOkIds=e)},t.prototype.showGuideUI=function(){},t.prototype.closeGuideUI=function(){this.closeGuide(this._guideScene)},t.prototype.checkGuideScene=function(t){var e=r.default.account.guideOkIds;return!(!c[t]||e.indexOf(t)>-1)},t.prototype.isAllGuideEnd=function(){},t}();o.default=new s,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../ui/guide/UIGuide":"UIGuide","./UIHelp":"UIHelp"}],HandAni:[function(t,e,o){"use strict";cc._RF.push(e,"f1603f4dzNI8JBTTJXE9k1+","HandAni");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EHandAniId=void 0;var a,c=t("../../../comFrame/event/EventMng"),s=t("../../../data/ConstantCf");(function(t){t[t.None=0]="None",t[t.Click=1]="Click",t[t.Press=2]="Press",t[t.Drag=3]="Drag"})(a=o.EHandAniId||(o.EHandAniId={}));var l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hand=null,e.handEffect=null,e}return i(e,t),e.prototype.onLoad=function(){c.default.on(s.EGameEvent.PLAY_ALLCLICK,this.onCloseAni.bind(this),this),this.handEffect.zIndex=-1},e.prototype.onDestroy=function(){c.default.off(s.EGameEvent.PLAY_ALLCLICK,this.onCloseAni.bind(this),this)},e.prototype.playAni=function(t,e){var o;switch(this.hand.position=new cc.Vec3(0,0),cc.tween(this.hand).stop(),t){case a.Click:o=this.getClickAni();break;case a.Press:o=this.getPressAni();break;case a.Drag:o=this.getDragAni(e);break;default:return}this.hand.runAction(cc.repeatForever(o))},e.prototype.getClickAni=function(){var t=this;return cc.sequence(cc.callFunc(function(){t.handEffect.active=!1}),cc.scaleTo(.2,1.2),cc.delayTime(.2),cc.scaleTo(.2,1),cc.callFunc(function(){t.handEffect.active=!1}),cc.delayTime(.2))},e.prototype.getPressAni=function(){var t=this;return cc.sequence(cc.callFunc(function(){t.handEffect.active=!1}),cc.scaleTo(0,1.2),cc.delayTime(.5),cc.callFunc(function(){t.handEffect.active=!0}),cc.scaleTo(.2,1),cc.delayTime(2))},e.prototype.getDragAni=function(t){var e=this;return void 0===t&&(t=cc.v2(0,0)),cc.sequence(cc.callFunc(function(){e.handEffect.active=!1}),cc.spawn(cc.scaleTo(0,1.2),cc.moveTo(0,cc.v2(0,0))),cc.delayTime(.3),cc.scaleTo(.1,1),cc.callFunc(function(){e.handEffect.active=!0}),cc.delayTime(.2),cc.moveTo(.4,t),cc.delayTime(1))},e.prototype.onCloseAni=function(){this.node.active=!1},r([u({type:cc.Node,tooltip:"hand node"})],e.prototype,"hand",void 0),r([u({type:cc.Node,tooltip:"handEffect node"})],e.prototype,"handEffect",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf"}],IDataBase:[function(t,e,o){"use strict";cc._RF.push(e,"03a602DegJGXoJSW8ylu5dI","IDataBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t={}),this._mData={},this.init(t)}return t.prototype.init=function(t){void 0===t&&(t={}),this._mData=t},t.prototype.clear=function(){this._mData={}},t.prototype.Get=function(t,e){return void 0===e&&(e=null),null!=this._mData[t]?this._mData[t]:e},t.prototype.Set=function(t,e){return!(this._mData[t]&&this._mData[t]==e||(this._mData[t]=e,0))},t}();o.default=n,cc._RF.pop()},{}],IDataLocal:[function(t,e,o){"use strict";cc._RF.push(e,"6233cqKtANHuJSRcPDmh/9o","IDataLocal");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(e){void 0===e&&(e="local");var o=t.call(this)||this;return o._dataLocalName="",o._bSaveIng=!1,o._dataLocalName="spin"+e,o.LoadStorage(),o}return i(e,t),e.prototype.LoadStorage=function(){var t=cc.sys.localStorage.getItem(this._dataLocalName);t&&""!==t?this.init(JSON.parse(t)):(this.init(),this.Save())},e.prototype.Save=function(){var t=this;this._bSaveIng||(this._bSaveIng=!0,setTimeout(function(){t._bSaveIng=!1,cc.sys.localStorage.setItem(t._dataLocalName,JSON.stringify(t._mData))},1e3/30))},e.prototype.clear=function(){t.prototype.clear.call(this),this.Save()},e}(t("./IDataBase").default);o.default=r,cc._RF.pop()},{"./IDataBase":"IDataBase"}],IDataModel:[function(t,e,o){"use strict";cc._RF.push(e,"bf1abXw/Q1JeKarMJy5c6Kr","IDataModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./IDataLocal"),a=t("../event/EventMng"),c=function(t){function e(e){void 0===e&&(e="default");var o=t.call(this,e)||this;return o.modelName="default",o.modelName=e,o.registerListeners(),o}return i(e,t),e.prototype.clear=function(){t.prototype.clear.call(this)},e.prototype.registerListeners=function(){var t=this.getMessageListeners(),e=function(e){t.hasOwnProperty(e)&&a.default.on(e.toString(),function(o){t[e](o)})};for(var o in t)e(o)},e.prototype.getMessageListeners=function(){return{}},e}(r.default);o.default=c,cc._RF.pop()},{"../event/EventMng":"EventMng","./IDataLocal":"IDataLocal"}],InsertAdBase:[function(t,e,o){"use strict";cc._RF.push(e,"e966cc1huBNbJNuiw62xj43","InsertAdBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._interAd=null,this._showData=null}return t.prototype.showInsertAd=function(){},t.prototype.onDestry=function(){this._interAd.destroy(),this._interAd=null},t}();o.default=n,cc._RF.pop()},{}],InsertAdMgr:[function(t,e,o){"use strict";cc._RF.push(e,"dde1ax/9wBJg6wt2uOeLIfk","InsertAdMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../data/Config"),i=t("./insert/InsertAdOppo"),r=t("./insert/InsertAdVivo"),a=function(){function t(){this._insertAd=null,this._adUnitIds=""}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.onShowInsertAd=function(){var t=this.getInsertAd();t&&t.showInsertAd()},t.prototype.getInsertAd=function(){if(!this._insertAd)switch(n.default.ModelAPI){case n.EAPIModel.OPPO:this._insertAd=new i.default;break;case n.EAPIModel.VIVO:this._insertAd=new r.default}return this._insertAd},t}();o.default=a,cc._RF.pop()},{"../../data/Config":"Config","./insert/InsertAdOppo":"InsertAdOppo","./insert/InsertAdVivo":"InsertAdVivo"}],InsertAdOppo:[function(t,e,o){"use strict";cc._RF.push(e,"9789fxoBr5HEYBFMZaXwkTE","InsertAdOppo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.showInsertAd=function(){var e=this;t.prototype.showInsertAd.call(this);try{if(console.log("\u63d2\u5c4f\u5e7f\u544a\u5e7f\u544a\u52a0\u8f7d  \uff1a ",this._showData),this._interAd&&this.onDestry(),this._interAd=qg.createInsertAd({adUnitId:this._showData.adUnitId}),!this._interAd)return;this._interAd.onLoad(function(){e._interAd.show()}),this._interAd.onError(function(t){console.log("InsertAd err =>",t)}),this._interAd.load()}catch(o){console.log(o)}},e}(t("./InsertAdBase").default);o.default=r,cc._RF.pop()},{"./InsertAdBase":"InsertAdBase"}],InsertAdVivo:[function(t,e,o){"use strict";cc._RF.push(e,"2ec48njl61GHIyUGjv/anhv","InsertAdVivo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../utils/ComFun"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curTime=0,e.mincreatTime=30,e}return i(e,t),e.prototype.showInsertAd=function(){var t=this;if(console.log("this._interAd  : ",this._interAd),this._interAd&&(this._interAd=null),r.default.getLocalTime(0)-this.curTime>this.mincreatTime){this._interAd=qg.createInterstitialAd({posId:""});var e=this._interAd.show();console.log("adshow   : ",e),e&&e.then(function(){t.curTime=r.default.getLocalTime(0),console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(t){switch(t.code){case 30003:console.log("\u65b0\u7528\u62371\u5929\u5185\u4e0d\u80fd\u66dd\u5149insert\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a1\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:console.log("load\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(t))}}),this._interAd.onClose(function(){t._interAd=null})}},e}(t("./InsertAdBase").default);o.default=a,cc._RF.pop()},{"../../utils/ComFun":"ComFun","./InsertAdBase":"InsertAdBase"}],LevelPosAd:[function(t,e,o){"use strict";cc._RF.push(e,"5809bCcEFVDgZEUlvUrBhLo","LevelPosAd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PosAdItem"),c=t("./AdCtr"),s=t("../common/LoadHelper"),l=cc._decorator,d=l.ccclass,u=l.menu,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._adPosItem=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.loadAdPos=function(){var t=this;s.default.loadPrefab("prefabs/ui/adNode/adPosNode1").then(function(e){if(e){var o=cc.instantiate(e);o.parent=t.node,t._adPosItem=o.getComponent(a.default),t.updateAd(),t.schedule(function(){t.updateAd()},3)}}).catch(function(){t.loadAdPos()})},e.prototype.updateAd=function(){this._adPosItem.setData(c.default.instance.getOneAdData(),!0)},r([d,u("UI/common/LevelPosAd")],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../common/LoadHelper":"LoadHelper","./AdCtr":"AdCtr","./PosAdItem":"PosAdItem"}],LineItem:[function(t,e,o){"use strict";cc._RF.push(e,"06dc1vxwX5ILLSIZ3Phd9j/","LineItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../comFrame/event/EventMng"),s=t("../../data/Config"),l=t("../../data/ConstantCf"),d=t("./GameCtr"),u=t("./RippleAnimation"),p=cc._decorator,h=p.ccclass,f=p.property;(function(t){t[t.START=0]="START",t[t.PAUSE=1]="PAUSE",t[t.END=2]="END"})(a||(a={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentNode=null,e.lineNode=null,e.lineMeshRender=null,e.dot_0_Node=null,e.dot_1_Node=null,e.ripple_0_Cf=null,e.ripple_1_Cf=null,e._posData=[],e._distance=0,e._centerPos=cc.v3(),e._expandScale=1,e._isPause=!0,e._EndCallback=null,e}return i(e,t),e.prototype.onLoad=function(){c.default.on(l.EGameEvent.ADD_LINEACTION_SPEED,this.addSpeedAction.bind(this),this)},e.prototype.start=function(){},e.prototype.onInit=function(t,e){if(t&&t.length>=2){this.dot_0_Node.active=!1,this.dot_1_Node.active=!1,this.ripple_0_Cf.node.active=!1,this.ripple_1_Cf.node.active=!1,this._posData=t,this._EndCallback=e,this._distance=d.default.getMapDataDist(this._posData[0],this._posData[1]);var o=this._distance*s.default.playCf.HWD*this._expandScale;this.lineNode.scaleX=15,this.lineNode.scaleY=o,this.lineNode.scaleZ=o,this._centerPos=d.default.getMapDataCenter(this._posData[0],this._posData[1]),this.lineNode.position=this._centerPos;var n=this._posData[0];this.dot_0_Node.position=cc.v3(n.x,n.y,n.z),this.dot_0_Node.eulerAngles=cc.v3(n.angleX,n.angleY,n.angleZ);var i=this._posData[1];this.dot_1_Node.position=cc.v3(i.x,i.y,i.z),this.dot_1_Node.eulerAngles=cc.v3(i.angleX,i.angleY,i.angleZ);var r=s.default.playCf.MapAngleCount,a=360*Math.ceil(Math.random()*r)/r,c=360*Math.ceil(Math.random()*r)/r;this.parentNode.eulerAngles=cc.v3(a,0,c);var l=this.getLineAngle();this.lineNode.eulerAngles=cc.v3(l,0,0),this.setLineColor(),this.playStartAction()}},e.prototype.onDestroy=function(){c.default.off(l.EGameEvent.ADD_LINEACTION_SPEED,this.addSpeedAction.bind(this),this)},e.prototype.getLineAngle=function(){var t=cc.v2(this.lineNode.z,this.lineNode.y),e=cc.v2(),o=cc.v2(),n=0,i=this.dot_0_Node.y>this.dot_1_Node.y?this.dot_0_Node:this.dot_1_Node;return i.z==this.lineNode.z?90:(i.z>this.lineNode.z?(n=90,e=cc.v2(this.lineNode.z,i.y),o=cc.v2(i.z,i.y)):(e=cc.v2(i.z,this.lineNode.y),o=cc.v2(i.z,i.y)),n+d.default.getTriangularAngle(t,e,o))},e.prototype.playStartAction=function(){var t=this,e=this.lineNode.eulerAngles;this.refreshDotState(a.START),e.y,e.x;var o=this.getActionTime();cc.tween(this.lineNode).to(o,{eulerAngles:cc.v3(e.x+180,e.y,e.z)}).call(function(){t.refreshDotState(a.PAUSE);var e=s.default.playCf.CutToState?0:Math.floor(Math.random()*s.default.playCf.MapLinePauseTime);t.scheduleOnce(t.playEndAction.bind(t),e)}).start()},e.prototype.playEndAction=function(){var t=this,e=this.lineNode.eulerAngles;this.refreshDotState(a.END),e.y,e.z;var o=this.getActionTime();cc.tween(this.lineNode).to(o,{eulerAngles:cc.v3(e.x+180,e.y,e.z)}).call(function(){t._EndCallback&&t._EndCallback(t.node)}).start()},e.prototype.getActionTime=function(){var t=s.default.playCf.CutToState?s.default.playCf.LineSPeed:1;return.7*this._distance/t},e.prototype.refreshDotState=function(t){var e=this.dot_0_Node.y>this.dot_1_Node.y?this.dot_0_Node:this.dot_1_Node,o=this.dot_0_Node.y>this.dot_1_Node.y?this.dot_1_Node:this.dot_0_Node,n=this.dot_0_Node.y>this.dot_1_Node.y?this.ripple_1_Cf:this.ripple_0_Cf;t==a.PAUSE&&(n.node.active=!0,n.onPlay()),e.active=t==a.START||t==a.PAUSE,o.active=t==a.END||t==a.PAUSE},e.prototype.addSpeedAction=function(){this.unscheduleAllCallbacks(),cc.Tween.stopAllByTarget(this.lineNode),this.lineNode.eulerAngles.x>180?this.playStartAction():this.playEndAction()},e.prototype.changeUVOffset=function(t){var e=this.lineMeshRender.getMaterial(0).getProperty("mainOffset",0)[0];if(e<-.25)return this._isPause=!0,void this.playEndAction();var o=e-.3*t;this.setUVOffset(o)},e.prototype.setUVOffset=function(t){this.lineMeshRender.getMaterial(0).setProperty("mainOffset",cc.v2(t,0))},e.prototype.setLineColor=function(){var t=l.LineColor[Math.floor(Math.random()*l.LineColor.length)],e=(new cc.Color).fromHEX(t);this.lineMeshRender.getMaterial(0).setProperty("diffuseColor",e)},r([f({type:cc.Node,tooltip:"\u7236\u8282\u70b9"})],e.prototype,"parentNode",void 0),r([f({type:cc.Node,tooltip:"\u7ebf"})],e.prototype,"lineNode",void 0),r([f(cc.MeshRenderer)],e.prototype,"lineMeshRender",void 0),r([f({type:cc.Node,tooltip:"\u70b90"})],e.prototype,"dot_0_Node",void 0),r([f({type:cc.Node,tooltip:"\u70b91"})],e.prototype,"dot_1_Node",void 0),r([f({type:u.default,tooltip:"\u6ce2\u52a80"})],e.prototype,"ripple_0_Cf",void 0),r([f({type:u.default,tooltip:"\u6ce2\u52a81"})],e.prototype,"ripple_1_Cf",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../comFrame/event/EventMng":"EventMng","../../data/Config":"Config","../../data/ConstantCf":"ConstantCf","./GameCtr":"GameCtr","./RippleAnimation":"RippleAnimation"}],LoadAni:[function(t,e,o){"use strict";cc._RF.push(e,"1dda0K+Lo5NHadI5bmrz+Zt","LoadAni");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aniNode=null,e.colorBgNode=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onShow=function(){this.node.active||(this.node.active=!0,this.aniNode.stopAllActions(),this.aniNode.runAction(cc.repeatForever(cc.rotateBy(2,360))),this.aniNode.opacity=0,this.aniNode.runAction(cc.fadeIn(.3)),this.colorBgNode.stopAllActions(),this.colorBgNode.opacity=0,this.colorBgNode.runAction(cc.fadeTo(.3,150)))},e.prototype.onHide=function(){this.node.active&&(this.node.active=!1)},r([s({type:cc.Node,tooltip:"\u65cb\u8f6cnode"})],e.prototype,"aniNode",void 0),r([s({type:cc.Node,tooltip:"\u80cc\u666fnode"})],e.prototype,"colorBgNode",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LoadHelper:[function(t,e,o){"use strict";cc._RF.push(e,"0e2148WQNBCmYFzyfuTiNOa","LoadHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../../load/BundleMgr"),i=t("../../../comFrame/event/EventMng"),r=t("../../../comFrame/ui/UIMng"),a=t("../../../data/CfgMng"),c=t("../../../data/Config"),s=t("../../../data/ConstantCf"),l=t("../../../GameDataCenter"),d=function(){function t(){this._curSceneName="startScene"}return t.prototype.loadRes=function(t,e,o){return new Promise(function(i,r){o&&o.length>0?n.default.loadRes(o,t,e,function(e,o){if(e)return console.error("\u52a0\u8f7dprefab:",e),void r("\u52a0\u8f7dprefab\u5931\u8d25\uff01path:"+t);i(o)}):cc.resources.load(t,e,function(e,o){if(e)return console.error("\u52a0\u8f7dres:",e),void r("\u52a0\u8f7dres\u5931\u8d25\uff01path:"+t);i(o)})})},t.prototype.loadRemote=function(t,e){return void 0===e&&(e={}),new Promise(function(o,n){console.log("loadRemoteRes"+t),console.time("loadRemoteRes"+t),cc.assetManager.loadRemote(c.default.globalCf.InitServerUrl+t,e,function(e,i){if(e)return console.error("\u52a0\u8f7d\u8fdc\u7a0bres:",e),void n("\u52a0\u8f7d\u8fdc\u7a0bres\u5931\u8d25\uff01path:"+t);console.timeEnd("loadRemoteRes"+t),o(i)})})},t.prototype.loadResDir=function(t,e){return new Promise(function(o,n){cc.resources.loadDir(t,e,function(e,i){if(e)return console.error("\u52a0\u8f7dres:",e),void n("\u52a0\u8f7dresDir\u5931\u8d25\uff01path:"+t);o(i)})})},t.prototype.loadPrefab=function(t,e){return this.loadRes(t,cc.Prefab,e)},t.prototype.loadSpriteFrame=function(t,e){return this.loadRes(t,cc.SpriteFrame,e)},t.prototype.loadTexture=function(t,e){return this.loadRes(t,cc.Texture2D,e)},t.prototype.loadMusicClip=function(t){return cc.sys.isBrowser?this.loadRes("mp3/"+t,cc.AudioClip,"music"):this.loadRemote("music/mp3/"+t+".mp3",{cacheEnabled:!0})},t.prototype.loadMusicIcon=function(t){var e=this;return cc.sys.isBrowser?this.loadSpriteFrame("icon/"+t,"music"):new Promise(function(o,n){e.loadRemote("music/food_icon/"+t+".png",{cacheEnabled:!0}).then(function(e){if(e){var i=new cc.SpriteFrame(e);if(i)return void o(i)}console.log("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef /\u518d\u6b21\u91cd\u65b0\u52a0\u8f7d\u56fe\u7247",t),n("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef")})})},t.prototype.createPrefab=function(t,e,o){var n=cc.instantiate(t);return e&&e.addChild(n),o?n.getComponent(o):n},t.prototype.loadScene=function(t,e){return new Promise(function(o,i){n.default.loadScene(e,t,function(e,n){if(e)return console.error("\u52a0\u8f7d\u573a\u666f:",e),void i("\u52a0\u8f7d\u573a\u666f\u5931\u8d25\uff01\u573a\u666f:"+t);o(n)})})},Object.defineProperty(t.prototype,"curSceneName",{get:function(){return this._curSceneName},enumerable:!1,configurable:!0}),t.prototype.runScene=function(t,e){var o=this;return void 0===e&&(e=!1),new Promise(function(e){r.default.getInstance().closeAllUI();var n={mainScene:s.EBundleName.Login,playScene:s.EBundleName.Play}[t]||s.EBundleName.Play;o.loadScene(t,n).then(function(n){o._curSceneName=t,cc.director.runScene(n),i.default.emit(s.EGameEvent.SCENE_SWITCH,{sceneName:t}),e()})})},t.prototype.loadJson=function(t,e){var o=this;return new Promise(function(n,i){o.loadRes(t,cc.JsonAsset,e).then(function(t){var e;t instanceof cc.JsonAsset?e=t.json:""!=t&&(e=JSON.parse(t)),n(e)}).catch(function(t){i(t)})})},t.prototype.loadRemoteJson=function(t,e){var o=this;return void 0===e&&(e=!1),new Promise(function(n,i){o.loadRemote(t+".json",{cacheEnabled:e}).then(function(t){var e;t instanceof cc.JsonAsset?e=t.json:""!=t&&(e=JSON.parse(t)),n(e)}).catch(function(t){i(t)})})},t.prototype.loadServerHeadIcon=function(t){var e=this;return void 0===t&&(t=""),new Promise(function(o,n){var i=""==t?e.getServerHeadIconPath():t;cc.log(i);var r=function(t,e){if(t)return console.error("\u52a0\u8f7d\u8fdc\u7a0bres:",t),void n("\u52a0\u8f7d\u8fdc\u7a0bres\u5931\u8d25\uff01path:"+i);if(e){var r=new cc.SpriteFrame(e);if(r)return void o(r)}n()};i.indexOf(".png")>-1||i.indexOf(".jpg")>-1?cc.assetManager.loadRemote(t,r):cc.assetManager.loadRemote(t,{ext:".jpg"},r)})},t.prototype.getServerHeadIconPath=function(){var t=Number(l.default.account.getBaseUserInfo().charId||"1");return c.default.globalCf.InitServerUrl+"avatarUrl1/"+t%60+".png"},t.prototype.createRolePlane=function(t,e){var o=this;return new Promise(function(n,i){a.default.getCfgRole(t),o.loadPrefab("prefabs/role/plane",s.EBundleName.Play).then(function(o){if(!e||cc.isValid(e)){var r=cc.instantiate(o);r.getComponent("PlaneNode").init(t),e&&(r.parent=e),n(r)}else i("createRolePlane \u7236\u8282\u70b9\u65e0\u6548")})})},t.prototype.loadFruitIcon=function(t){var e=this;return new Promise(function(o,n){e.loadSpriteFrame("texture/food/"+t).then(function(e){e?o(e):(console.log("\u52a0\u8f7dfood\u56fe\u7247\u9519\u8bef /\u518d\u6b21\u91cd\u65b0\u52a0\u8f7d\u56fe\u7247",t),n("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef"))})})},t.prototype.loadBookIcon=function(t){var e=this;return new Promise(function(o,n){e.loadSpriteFrame("res/texture/book/icon/"+t,s.EBundleName.Login).then(function(e){e?o(e):(console.log("\u52a0\u8f7d\u56fe\u9274\u56fe\u7247\u9519\u8bef /\u518d\u6b21\u91cd\u65b0\u52a0\u8f7d\u56fe\u7247",t),n("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef"))})})},t.prototype.loadRolePrefab=function(t){var e=this;return new Promise(function(o,n){e.loadPrefab("prefabs/ui/role/"+t).then(function(e){e?o(e):(console.log("\u52a0\u8f7d\u89d2\u8272\u9884\u5236\u4f53\u9519\u8bef /\u518d\u6b21\u91cd\u65b0\u89d2\u8272\u9884\u5236\u4f53",t),n("\u52a0\u8f7d\u89d2\u8272\u9884\u5236\u4f53\u9519\u8bef"))})})},t.prototype.loadClientPrefab=function(t){var e=this;return new Promise(function(o,n){e.loadPrefab("prefabs/ui/client/"+t).then(function(e){e?o(e):(console.log("\u52a0\u8f7d\u987e\u5ba2\u9884\u5236\u4f53\u9519\u8bef /\u518d\u6b21\u91cd\u65b0\u52a0\u8f7d\u987e\u5ba2\u9884\u5236\u4f53",t),n("\u52a0\u8f7d\u987e\u5ba2\u9884\u5236\u4f53\u9519\u8bef"))})})},t}();o.default=new d,cc._RF.pop()},{"../../../../../load/BundleMgr":void 0,"../../../GameDataCenter":"GameDataCenter","../../../comFrame/event/EventMng":"EventMng","../../../comFrame/ui/UIMng":"UIMng","../../../data/CfgMng":"CfgMng","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf"}],LoadSceneAni:[function(t,e,o){"use strict";cc._RF.push(e,"873e8vymBVElbxSqj5kpjsw","LoadSceneAni");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onShow=function(){cc.log("onShow"),this.node&&!this.node.active&&(this.node.active=!0)},e.prototype.onHide=function(){cc.log("onHide"),this.node&&this.node.active&&(this.node.active=!1)},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],LoginNode:[function(t,e,o){"use strict";cc._RF.push(e,"faa02jEWPdBnYB4x2peggyx","LoginNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../others/UIHelp"),c=t("../../../GameController"),s=t("../common/WaitMng"),l=t("../../../data/Config"),d=t("../common/LoadHelper"),u=t("../../../GameDataCenter"),p=t("../../others/ServerCtr"),h=t("../../others/GameCtr"),f=t("../../../data/ConstantCf"),y=t("../../../comFrame/utils/ComFun"),_=t("../main/UIMain"),g=t("../../others/AndroidCtr"),v=cc._decorator,m=v.ccclass,w=v.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadLab=null,e.versionLab=null,e.loadPro=null,e._endProNum=0,e}return i(e,t),e.prototype.onLoad=function(){this.loadLab.node.active=!1,this.versionLab.string="",this.loadPro.progress=0,this._endProNum=0,a.default.onRegisterBtnEvent(this.versionLab.node,function(){l.default.isInTest()&&(u.default.clear(),cc.game.restart())})},e.prototype.beginLogin=function(t){var e=this;this.loadLab.string="\u6e38\u620f\u521d\u59cb\u5316\u4e2d...",this.loadLab.node.active=!0,l.default.init(),g.default.initCf(),h.default.setSaveServerTime((new Date).getTime()),c.default.init().then(function(){return e.versionLab.string="v"+l.default.globalCf.Version,e.loadLab.string="\u52a0\u8f7d\u8d44\u6e90\u4e2d...",e._endProNum=.8,e.preloadRes()}).then(function(){e.loadLab.string="\u8fdb\u5165\u6e38\u620f\u4e2d...",e.onLoadOk(),t&&t()}).catch(function(o){a.default.onFailTips(e.beginLogin.bind(e,t),o)})},e.prototype.onLoginServer=function(){var t=this;return new Promise(function(e,o){t._endProNum=.3;var n=function(){t.loginSdk().then(function(){return p.default.getLoginData(t.node)}).then(function(t){t&&t.token&&t.token.access_token&&""!=t.token.access_token?(p.default.setToken(t.token.access_token),h.default.dealServerData(t.user),h.default.setSaveServerTime((new Date).getTime()),c.default.sdkManager.loginOk(),e(t)):o("\u6ce8\u518c\u5931\u8d25!")}).catch(function(t){console.log(t),a.default.onFailTips(n,t)})};n()})},e.prototype.loginSdk=function(){return new Promise(function(t){var e=function(){c.default.sdkManager.loginSdk(!1).then(function(){t()}).catch(function(){a.default.onFailTips(e,"\u5e73\u53f0\u767b\u5f55\u5931\u8d25,\u91cd\u65b0\u767b\u5f55!")})};e()})},e.prototype.getLoginDataByServer=function(){var t=this;return new Promise(function(e,o){var n=function(){p.default.getInfoData(t.node).then(function(t){t&&t.id?e(t):o()}).catch(function(t){console.log(t),a.default.onFailTips(n,t)})};n()})},e.prototype.preloadRes=function(){return new Promise(function(t){d.default.loadScene(f.ESceneName.MainScene,f.EBundleName.Login).then(function(){Promise.all([s.default.init(),d.default.loadPrefab(_.default.getUrl())]).then(function(){t()})})})},e.prototype.onLoadOk=function(){l.default.playCf.popUpOnlineTime=y.default.getLocalTime(0),c.default.sdkManager.loadOk(),this._endProNum=1,this.loadLab.node.active=!1},e.prototype.update=function(){this.loadPro.progress<this._endProNum&&(this.loadPro.progress=Math.min(this.loadPro.progress+.01,this._endProNum))},r([w({type:cc.Label,tooltip:"\u52a0\u8f7d\u8fdb\u5ea6lab"})],e.prototype,"loadLab",void 0),r([w({type:cc.Label,tooltip:"\u7248\u672c\u53f7"})],e.prototype,"versionLab",void 0),r([w({type:cc.ProgressBar})],e.prototype,"loadPro",void 0),r([m],e)}(cc.Component);o.default=A,cc._RF.pop()},{"../../../GameController":"GameController","../../../GameDataCenter":"GameDataCenter","../../../comFrame/utils/ComFun":"ComFun","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../others/AndroidCtr":"AndroidCtr","../../others/GameCtr":"GameCtr","../../others/ServerCtr":"ServerCtr","../../others/UIHelp":"UIHelp","../common/LoadHelper":"LoadHelper","../common/WaitMng":"WaitMng","../main/UIMain":"UIMain"}],Log:[function(t,e,o){"use strict";cc._RF.push(e,"787213Vt6hGyahP5VDkkR6S","Log"),Object.defineProperty(o,"__esModule",{value:!0}),o.Log=o.LOG_TAG=void 0,o.LOG_TAG={SOCKET:{desc:"LOG_SOCKET",isOpen:!0},TEST:{desc:"LOG_TEST",isOpen:!1}};var n=function(){function t(){}return t.log=function(e){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var i=console.log||cc.log;if(e&&e.isOpen){var r=Array.prototype.slice.call(arguments);r.splice(0,1,"["+e.desc+"]");var a=t.stack(2)+t.getDateString()+" ";r.splice(1,0,a),i.apply(i,r)}},t.warn=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=console.warn||cc.warn,i=Array.prototype.slice.call(arguments),r=t.stack(2)+t.getDateString()+" ";i.splice(0,0,r),n.apply(n,i)},t.error=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=console.error||cc.error,i=Array.prototype.slice.call(arguments),r=t.stack(2)+t.getDateString()+" ";i.splice(0,0,r),n.apply(n,i)},t.getDateString=function(){var t=new Date,e=t.getHours().toString(),o="";return o+=(1==e.length?"0"+e:e)+":",o+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",o+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),"["+(o+=e)+"]"},t.stack=function(t){void 0===t&&(t=2);var e=(new Error).stack.split("\n");e.shift();var o=[];e.forEach(function(t){var e,n=(t=t.substring(7)).split(" ");n.length<2?o.push(n[0]):o.push(((e={})[n[0]]=n[1],e))});var n=[];if(t<o.length-1)for(var i in o[t])n.push(i);var r=n[0].split(".");return r[0]+".js->"+r[1]+":"},t}();o.Log=n,cc._RF.pop()},{}],MainPosAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"99bc4dMBRhNu6KCHhvpnoLE","MainPosAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PosAdItem"),c=t("./AdCtr"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adPosPrefab=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showAd=function(t){var e=this;this.node.active=t,this.unscheduleAllCallbacks(),t&&(this.updateAd(),this.schedule(function(){e.updateAd()},3))},e.prototype.updateAd=function(){for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t],o=null;if(0==e.children.length){var n=cc.instantiate(this.adPosPrefab);n.parent=e,(o=n.getComponent(a.default)).playAct(e)}else o=e.children[0].getComponent(a.default);o.setData(c.default.instance.getOneAdData(),!0)}},r([d({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./AdCtr":"AdCtr","./PosAdItem":"PosAdItem"}],MainScene:[function(t,e,o){"use strict";cc._RF.push(e,"28fcbrXGBFE7JM6jPgQcSz1","MainScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../others/UIHelp"),c=t("../../GameController"),s=t("../ui/main/UIMain"),l=t("../ui/main/UIMap"),d=t("../../data/ConstantCf"),u=t("../ui/main/UIInvite"),p=t("../ui/main/UICircle"),h=cc._decorator,f=h.ccclass,y=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.buildPage=d.BuildPage.MAIN,e}return i(e,t),e.prototype.onLoad=function(){this.bgNode.active=!1},e.prototype.start=function(){c.default.sendEvent("\u52a0\u8f7d\u9875",{name:"\u52a0\u8f7d\u5b8c\u6210"}),this.showMain()},e.prototype.showMain=function(){var t=window.location.href.split("/"),e=t[t.length-1];"map.html"==e?(a.default.showUI(l.default),this.bgNode.active=!0):"circle.html"==e?a.default.showUI(p.default):(this.bgNode.active=this.buildPage==d.BuildPage.MAP,this.buildPage==d.BuildPage.MAIN?a.default.showUI(s.default):this.buildPage==d.BuildPage.MAP?a.default.showUI(l.default):this.buildPage==d.BuildPage.INVITE?a.default.showUI(u.default):this.buildPage==d.BuildPage.CIRCLE&&a.default.showUI(p.default))},r([y({type:cc.Node,tooltip:"\u80cc\u666f\u56fe\u7247"})],e.prototype,"bgNode",void 0),r([y({type:cc.Enum(d.BuildPage),tooltip:"\u6253\u5305\u9875\u9762"})],e.prototype,"buildPage",void 0),r([f],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../GameController":"GameController","../../data/ConstantCf":"ConstantCf","../others/UIHelp":"UIHelp","../ui/main/UICircle":"UICircle","../ui/main/UIInvite":"UIInvite","../ui/main/UIMain":"UIMain","../ui/main/UIMap":"UIMap"}],MaskPlus:[function(t,e,o){"use strict";cc._RF.push(e,"27513giYjdBVrCJcqMKVjfK","MaskPlus");var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MaskPlusType=void 0,function(t){t[t.RECT=0]="RECT",t[t.ELLIPSE=1]="ELLIPSE",t[t.IMAGE_STENCIL=2]="IMAGE_STENCIL",t[t.Polygon=3]="Polygon"}(i=o.MaskPlusType||(o.MaskPlusType={}));var c=new cc.Vec2,s=new cc.Mat4,l=[];function d(t,e,o){l.length=0;for(var n=2*Math.PI/o,i=0;i<o;++i)l.push(cc.v2(e.x*Math.cos(n*i)+t.x,e.y*Math.sin(n*i)+t.y));return l}var u=function(){},p=cc._decorator,h=p.ccclass,f=p.property,y=p.executeInEditMode,_=p.menu,g=p.help,v=p.inspector,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=0,e._polygon=[],e.ellipse=new u,e}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t&&this._resetAssembler(),this._type=t,this._type===i.Polygon&&0===this._polygon.length){var e=this.getNodeRect(),o=e[0],n=e[1],r=e[2],a=e[3];this._polygon.push(cc.v2(o,n),cc.v2(o+r,n),cc.v2(o+r,n+a),cc.v2(o,n+a))}this._type!==i.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateGraphics()},enumerable:!1,configurable:!0}),e.prototype.setEllipse=function(t,e,o){this.ellipse.center=t,this.ellipse.r=e,this.ellipse.segments=o||this.segements},e.prototype._updateGraphics=function(){this.node;var t=this._graphics;t.clear(!1);var e=this.getNodeRect(),o=e[0],n=e[1],r=e[2],a=e[3];if(this._type===i.RECT)t.rect(o,n,r,a);else if(this._type===i.ELLIPSE){for(var c=d(this.ellipse.center||cc.v2(o+r/2,n+a/2),this.ellipse.r||{x:r/2,y:a/2},this.ellipse.segments||this._segments),s=0;s<c.length;++s){var l=c[s];0===s?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)}t.close()}else if(this._type===i.Polygon){for(0===this._polygon.length&&this._polygon.push(cc.v2(0,0)),t.moveTo(this._polygon[0].x,this._polygon[0].y),s=1;s<this._polygon.length;s++)t.lineTo(this._polygon[s].x,this._polygon[s].y);t.lineTo(this._polygon[0].x,this._polygon[0].y)}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},e.prototype._hitTest=function(t){var e=this.node,o=e.getContentSize(),n=o.width,r=o.height,a=c;if(e._updateWorldMatrix(),!cc.Mat4.invert(s,e._worldMatrix))return!1;cc.Vec2.transformMat4(a,t,s),a.x+=e._anchorPoint.x*n,a.y+=e._anchorPoint.y*r;var l=!1;if(this.type===i.RECT||this.type===i.IMAGE_STENCIL)l=a.x>=0&&a.y>=0&&a.x<=n&&a.y<=r;else if(this.type===i.ELLIPSE){var d=n/2,u=r/2,p=a.x-.5*n,h=a.y-.5*r;l=p*p/(d*d)+h*h/(u*u)<1}else this.type===i.Polygon&&(l=this.isInPolygon(a,this.polygon));return this.inverted&&(l=!l),l},e.prototype.getNodeRect=function(){var t=this.node._contentSize.width,e=this.node._contentSize.height;return[-t*this.node._anchorPoint.x,-e*this.node._anchorPoint.y,t,e]},e.prototype.isInPolygon=function(t,e){var o,n,i,r,a=0,c=e.length;for(i=e[0],o=1;o<=c;o++)r=e[o%c],t.x>Math.min(i.x,r.x)&&t.x<=Math.max(i.x,r.x)&&t.y<=Math.max(i.y,r.y)&&i.x!=r.x&&(n=(t.x-i.x)*(r.y-i.y)/(r.x-i.x)+i.y,(i.y==r.y||t.y<=n)&&a++),i=r;return a%2!=0},e.Type=i,a([f({type:cc.Enum(i),override:!0})],e.prototype,"_type",void 0),a([f({type:cc.Enum(i),override:!0})],e.prototype,"type",null),a([f({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),a([f({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),a([h,_("i18n:MAIN_MENU.component.renderers/MaskPlus"),y,g("i18n:COMPONENT.help_url.mask"),v("packages://maskplus/inspector.js")],e)}(cc.Mask);o.default=m,cc.MaskPlus=m,cc._RF.pop()},{}],MeshMask:[function(t,e,o){"use strict";cc._RF.push(e,"e0bb6Ag9A9Ds6RbaQ0lvnAb","MeshMask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._editorRefresh=!1,e._offset=cc.v2(0,0),e._vertexes=[],e.meshSpriteFrame=null,e._meshCache={},e._mesh=null,e._renderer=null,e}return i(e,t),Object.defineProperty(e.prototype,"editorRefresh",{get:function(){return this._editorRefresh},set:function(t){this._editorRefresh=t,this.applyVertexes()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=t,this.editorRefresh,this.applyVertexes()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexes",{get:function(){return this._vertexes},set:function(t){this._vertexes=t,this.updateMesh(),this.editorRefresh,this.applyVertexes()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._meshCache={},this.updateMesh();var t=this.node.getComponent(cc.MeshRenderer);t||(t=this.node.addComponent(cc.MeshRenderer)),t.mesh=null,this._renderer=t;var e=cc.MaterialVariant.createWithBuiltin(cc.Material.BUILTIN_NAME.UNLIT,t);t.setMaterial(0,e),this.applySpriteFrame(),this.applyVertexes()},e.prototype.updateMesh=function(){var t=this._meshCache[this.vertexes.length];if(!t){t=new cc.Mesh;var e=cc.gfx;t.init(new e.VertexFormat([{name:e.ATTR_POSITION,type:e.ATTR_TYPE_FLOAT32,num:2},{name:e.ATTR_UV0,type:e.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=t}this._mesh=t},e.prototype.applyVertexes=function(){var t=this,e=cc.gfx,o=this._mesh;if(o.setVertices(e.ATTR_POSITION,this.vertexes),this.meshSpriteFrame){for(var n=[],i=this.meshSpriteFrame.getTexture(),r=0,a=this.vertexes;r<a.length;r++){var c=a[r],s=(c.x+i.width/2+this.offset.x)/i.width,l=1-(c.y+i.height/2+this.offset.y)/i.height;n.push(cc.v2(s,l))}o.setVertices(e.ATTR_UV0,n)}if(this.vertexes.length>=3){for(var d=[],u=[].concat(this.vertexes),p=0,h=-1;u.length>3;){var f=u[p],y=u[(p+1)%u.length],_=u[(p+2)%u.length],g=y.sub(f),v=_.sub(y);if(g.cross(v)>=0){for(var m=!1,w=0,A=u;w<A.length;w++){var b=A[w];if(b!==f&&b!==y&&b!==_&&this.testInTriangle(b,f,y,_)){m=!0;break}}if(m){if((p=(p+1)%u.length)===h){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}else d=d.concat([this.vertexes.indexOf(f),this.vertexes.indexOf(y),this.vertexes.indexOf(_)]),u.splice(u.indexOf(y),1),h=p}else if((p=(p+1)%u.length)===h){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}d=d.concat(u.map(function(e){return t.vertexes.indexOf(e)})),o.setIndices(d),this._renderer.mesh!=o&&(this._renderer.mesh=o)}},e.prototype.testInTriangle=function(t,e,o,n){var i=o.sub(e),r=n.sub(e),a=n.sub(o),c=t.sub(e),s=t.sub(o);return Number(i.cross(r)>=0)^Number(i.cross(c)<0)&&Number(i.cross(r)>=0)^Number(r.cross(c)>=0)&&Number(a.cross(i)>0)^Number(a.cross(s)>=0)},e.prototype.applySpriteFrame=function(){if(this.meshSpriteFrame){var t=this._renderer.getMaterial(0),e=this.meshSpriteFrame.getTexture();t.define("USE_DIFFUSE_TEXTURE",!0),t.setProperty("diffuseTexture",e)}},r([s],e.prototype,"_editorRefresh",void 0),r([s],e.prototype,"editorRefresh",null),r([s],e.prototype,"_offset",void 0),r([s],e.prototype,"offset",null),r([s({type:[cc.Vec2]})],e.prototype,"_vertexes",void 0),r([s({type:[cc.Vec2]})],e.prototype,"vertexes",null),r([s({type:cc.SpriteFrame,tooltip:"SpriteFrame"})],e.prototype,"meshSpriteFrame",void 0),r([c,l],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],MinRowAdList:[function(t,e,o){"use strict";cc._RF.push(e,"80d2bDkAWVLP4G6YJYcNWpO","MinRowAdList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/sdk/AdMgr"),c=t("./PosAdItem"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adPosPrefab=null,e.scrollView=null,e.cardOffsetX=5,e._moveDic=1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(c.NavigateFail,function(){t.autoScrollTo()},this),this.init()},e.prototype.init=function(){var t=this;console.log("MinRowAdList start"),this.node.setContentSize(this.node.parent.getContentSize()),this.scrollView.getComponent(cc.Widget).updateAlignment(),this.scrollView.content.width=this.scrollView.node.width,this.scrollView.content.getComponent(cc.Layout).updateLayout();var e=function(){t.scrollView.content.removeAllChildren(),a.default.instance.getShuffleAdData(0).then(function(o){if(o){for(var n=0;n<o.length;n++){var i=o[n],r=cc.instantiate(t.adPosPrefab);r.parent=t.scrollView.content,r.scale=140/180,r.getComponent(c.default).setData(i,!0)}t.scrollView.node.on("scroll-ended",function(){cc.log("scroll-ended"),t.autoScrollTo()},t),t.scheduleOnce(function(){t.autoScrollTo()},1)}else t.scheduleOnce(function(){e()},1)})};e()},e.prototype.onEnable=function(){this.autoScrollTo()},e.prototype.autoScrollTo=function(){var t=-this.scrollView.content.x,e=this.scrollView.content.width-this.scrollView.node.width;t>=e-5?this._moveDic=-1:t<=5&&(this._moveDic=1),cc.log(t,e,this._moveDic),1==this._moveDic?this.scrollView.scrollToRight(.0135*(e-t),!1):-1==this._moveDic&&this.scrollView.scrollToLeft(.0135*t,!1)},r([d({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([d({type:cc.ScrollView,tooltip:"ScrollView"})],e.prototype,"scrollView",void 0),r([d],e.prototype,"cardOffsetX",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","./PosAdItem":"PosAdItem"}],MisTouchSet:[function(t,e,o){"use strict";cc._RF.push(e,"a03fbc8IHxCZZlUdT4My7eQ","MisTouchSet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../data/Config"),c=t("./AdMgr"),s=t("../../logic/others/UIHelp"),l=t("../utils/ComFun"),d=t("../../data/ConstantCf"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.misTouchId=d.EMisTouchIds.None,e.touchBtns=[],e.showNode=null,e.hideNode=null,e.movePos=cc.v2(0,0),e.isOnEnableShow=!0,e._bOpen=!1,e._bEnd=!1,e}return i(e,t),e.prototype.onLoad=function(){if(!c.default.instance.adSdk||!c.default.instance.adSdk.isOpenMisTouch(this.misTouchId)||100*a.default.playCf.mistouch<l.default.randomNum(0,100))return this.showNode&&(this.showNode.active=!0),void(this.hideNode&&(this.hideNode.active=!0));this._bOpen=!0,this.showNode&&(this.showNode.active=!1),this.hideNode&&(this.hideNode.active=!1)},e.prototype.onDestroy=function(){},e.prototype.onEnable=function(){if(!this._bOpen||!this.isOnEnableShow)return this.showNode&&(this.showNode.active=!0),void(this.hideNode&&(this.hideNode.active=!0));this.beginMisTouch()},e.prototype.beginMisTouch=function(){var t=this;this._bOpen&&(this.touchBtns.length>0?(this._bEnd=!1,s.default.showNoTouchLayer(!0),this.scheduleOnce(function(){t.showNode&&(t.showNode.active=!0),t.scheduleOnce(function(){t.onEnd()},a.default.playCf.endbanner_option)},a.default.playCf.endbanner_show)):(this.showNode&&(this.showNode.active=!0),this.hideNode&&(this.hideNode.active=!0)))},e.prototype.bannerShowCallBack=function(){this._bOpen},e.prototype.onEnd=function(){this._bEnd||(this._bEnd=!0,s.default.showNoTouchLayer(!1),this.hideNode&&(this.hideNode.active=!0),this.moveTargetBtn())},e.prototype.moveTargetBtn=function(){for(var t=0;t<this.touchBtns.length;t++){var e=this.touchBtns[t],o=cc.v2(e.position);e.position=cc.v3(o.add(this.movePos))}},r([h({type:cc.Enum(d.EMisTouchIds),tooltip:"\u8bef\u89e6\u679a\u4e3e"})],e.prototype,"misTouchId",void 0),r([h({type:[cc.Node],tooltip:"touchBtns"})],e.prototype,"touchBtns",void 0),r([h({type:cc.Node,tooltip:"\u8bef\u89e6\u663e\u793anode"})],e.prototype,"showNode",void 0),r([h({type:cc.Node,tooltip:"\u8bef\u89e6\u63a9\u85cfnode"})],e.prototype,"hideNode",void 0),r([h({tooltip:"\u79fb\u52a8\u76f8\u5bf9\u4f4d\u79fb"})],e.prototype,"movePos",void 0),r([h({tooltip:"\u662f\u5426\u672c\u8eab\u8282\u70b9\u663e\u793a\u53ef\u89c1\u65f6\u5f00\u59cb\u8bef\u89e6"})],e.prototype,"isOnEnableShow",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../data/Config":"Config","../../data/ConstantCf":"ConstantCf","../../logic/others/UIHelp":"UIHelp","../utils/ComFun":"ComFun","./AdMgr":"AdMgr"}],MoreGameList:[function(t,e,o){"use strict";cc._RF.push(e,"740ae+5HKlP8q2Y7le+pYqB","MoreGameList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../comFrame/sdk/AdMgr"),s=t("../../../data/Config"),l=t("../../../data/ConstantCf"),d=t("../../others/UIHelp"),u=t("./PosAdItem"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adPosPrefab=null,e.listNode=null,e.closeNode=null,e.closeBgNode=null,e.addNum=9,e._isInit=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;d.default.onRegisterBtnEvent(this.closeNode,this.onHide.bind(this)),d.default.onRegisterBtnEvent(this.closeBgNode,this.onHide.bind(this)),this.node.on(u.NavigateFail,function(){t.onHide()},this)},e.prototype.onShow=function(){var t=this;this.node.active=!0,this.initList(),this.closeNode.active=!1,this.closeBgNode.active=!1,this.scheduleOnce(function(){s.default.playCf.wxMoreGameClose?t.closeBgNode.active=!0:t.closeNode.active=!0},2),a.default.emit(l.EGameEvent.UI_SHOW,{ui:"MoreGame"})},e.prototype.onHide=function(){this.unscheduleAllCallbacks(),this.node.active=!1,a.default.emit(l.EGameEvent.UI_HIDE,{ui:"MoreGame"}),a.default.emit(l.EGameEvent.UI_SHOW,{ui:"UIGame"})},e.prototype.initList=function(){var t=this;this._isInit||(this._isInit=!0,c.default.instance.getShuffleAdData(0).then(function(e){if(e)for(var o=0;o<t.addNum;o++){var n=e[o],i=cc.instantiate(t.adPosPrefab);i.parent=t.listNode,i.getComponent(u.default).setData(n,!0)}else t.scheduleOnce(function(){t.initList()},1)}))},r([f({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([f({type:cc.Node})],e.prototype,"listNode",void 0),r([f({type:cc.Node})],e.prototype,"closeNode",void 0),r([f({type:cc.Node})],e.prototype,"closeBgNode",void 0),r([f],e.prototype,"addNum",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","./PosAdItem":"PosAdItem"}],MusicCtr:[function(t,e,o){"use strict";cc._RF.push(e,"f7fd0c3YSxCcrscB+SZ2nfI","MusicCtr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../data/CfgMng"),i=t("../../logic/ui/common/LoadHelper"),r=function(){function t(){this._playAudioSource=new cc.AudioSource,this._beginCallBack=null,this._pauseCallBack=null,this._seekCallBack=null}return t.prototype.loadMusic=function(t){var e=this;return new Promise(function(o,r){var a=n.default.getCfgMusic(t);i.default.loadMusicClip(a.cfName).then(function(t){!e._playAudioSource&&(e._playAudioSource=new cc.AudioSource),e._playAudioSource.clip=t,o()}).catch(function(){r("\u52a0\u8f7d\u97f3\u4e50\u6587\u4ef6\u5931\u8d25\uff01\u8bf7\u68c0\u67e5\u624b\u673a\u7f51\u7edc\u72b6\u51b5\uff01")})})},t.prototype.onDestroy=function(){this._playAudioSource&&(this.stop(),this._playAudioSource.onDestroy(),this._playAudioSource=null)},t.prototype.play=function(){var t=this;return new Promise(function(e){t._beginCallBack=function(){e()},t._playAudioSource.play(),t._beginCallBack(),t._beginCallBack=null})},t.prototype.stop=function(){this._playAudioSource&&this._playAudioSource.stop()},t.prototype.pause=function(){var t=this;return new Promise(function(e){t._pauseCallBack=function(){e()},t._playAudioSource.pause(),t._pauseCallBack(),t._pauseCallBack=null})},t.prototype.resume=function(t){var e=this;return new Promise(function(o){console.log("startTime: "+t),t?e.seek(t).then(function(){o()}):(e._playAudioSource.resume(),o())})},t.prototype.seek=function(t){var e=this;return new Promise(function(o){console.log("seek time = "+t),e._playAudioSource.setCurrentTime(t),e._playAudioSource.resume(),o()})},t.prototype.getDuration=function(){return this._playAudioSource?this._playAudioSource.getDuration():0},t.prototype.getCurrentTime=function(){return this._playAudioSource?this._playAudioSource.getCurrentTime():0},t}();o.default=new r,cc._RF.pop()},{"../../data/CfgMng":"CfgMng","../../logic/ui/common/LoadHelper":"LoadHelper"}],NativeAdBase:[function(t,e,o){"use strict";cc._RF.push(e,"8ad56cyltlKxYaSjlKSu5ks","NativeAdBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._nativeAd=null,this._showData=null}return t.prototype.showNativeAd=function(t){this._showData=t},t.prototype.onDestry=function(){this._nativeAd.destroy(),this._nativeAd=null},t.prototype.reportAdShow=function(){},t.prototype.reportAdClick=function(){},t}();o.default=n,cc._RF.pop()},{}],NativeAdOppo:[function(t,e,o){"use strict";cc._RF.push(e,"8302a3Bef9IP5p4pNbItKLN","NativeAdOppo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nativeCurrentAd=null,e._flag=!1,e}return i(e,t),e.prototype.showNativeAd=function(e){var o=this;t.prototype.showNativeAd.call(this,e);try{if(this._nativeAd&&this.onDestry(),this._nativeAd=qg.createNativeAd({adUnitId:this._showData.adUnitId}),!this._nativeAd)return;this._nativeAd.onLoad(function(t){t.adList&&(o.nativeCurrentAd=t.adList.pop(),console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",t.adList),o._showData&&o._showData.callback&&o._showData.callback(o.nativeCurrentAd))}),this._nativeAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData.failback&&o._showData.failback()}),this._nativeAd.load()}catch(n){console.log(n)}},e.prototype.destroyNativeAd=function(){this._nativeAd.offLoad(),this._nativeAd=null},e.prototype.reportAdShow=function(){this._nativeAd.reportAdShow({adId:this.nativeCurrentAd.adId.toString()})},e.prototype.reportAdClick=function(){this._nativeAd.reportAdClick({adId:this.nativeCurrentAd.adId.toString()})},e}(t("./NativeAdBase").default);o.default=r,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAdVivo:[function(t,e,o){"use strict";cc._RF.push(e,"3832d9oe+FGR6LmPQV07obo","NativeAdVivo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nativeCurrentAd=null,e}return i(e,t),e.prototype.showNativeAd=function(e){var o=this;t.prototype.showNativeAd.call(this,e);try{if(this._nativeAd)return void this._nativeAd.load();console.log("showNativeAd   showData : ",e),this._nativeAd=qg.createNativeAd({posId:this._showData.adUnitId}),this._nativeAd.onLoad(function(t){console.log(" this._nativeAd  res: ",t),t&&t.adList&&(o.nativeCurrentAd=t.adList.pop(),console.log("this.nativeCurrentAd  : ",o.nativeCurrentAd),o._showData&&o._showData.callback&&e.callback(o.nativeCurrentAd))}),this._nativeAd.onError(function(t){o._showData.failback&&e.failback(t)}),this._nativeAd.load()}catch(n){console.log(n)}},e.prototype.destroyNativeAd=function(){this._nativeAd.offLoad(),this._nativeAd=null},e.prototype.reportAdShow=function(){this._nativeAd.reportAdShow({adId:this.nativeCurrentAd.adId.toString()})},e.prototype.reportAdClick=function(){this._nativeAd.reportAdClick({adId:this.nativeCurrentAd.adId.toString()})},e}(t("./NativeAdBase").default);o.default=r,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"8f91eEF2x1MNJlCbOSrvlMl","NativeAd");var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../data/Config"),s=t("../../others/UIHelp"),l=cc._decorator,d=l.ccclass,u=l.property,p=((i={})[c.EAPIModel.OPPO]="375582",i[c.EAPIModel.VIVO]="dd72cd67c01a416b8d8556dc5c22fe0a",i),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.adSprite=null,e.desLab=null,e.btnLab=null,e.closeBtnNode=null,e.okBtnNode=null,e.goBtnNode=null,e._isMissTouch=!1,e._nativeCurrentAd=null,e.nativeAd=null,e._loadState=!1,e}return r(e,t),e.prototype.onLoad=function(){s.default.onRegisterBtnEvent(this.bgNode,this.onClickAd.bind(this),this),s.default.onRegisterBtnEvent(this.closeBtnNode,this.onCloseBtn.bind(this),this),s.default.onRegisterBtnEvent(this.adSprite.node,this.onClickAd.bind(this),this),this.okBtnNode&&s.default.onRegisterBtnEvent(this.okBtnNode,this.onClickAd.bind(this),this),this.goBtnNode&&s.default.onRegisterBtnEvent(this.goBtnNode,this.onClickAd.bind(this),this),this.node.active=!1},e.prototype.onShow=function(t){var e=this;if(!this.node.active){var o=p[c.default.ModelAPI];console.log("nativeAd onShow _posId: "+o),c.default.ModelAPI==c.EAPIModel.VIVO?this.nativeAd=qg.createNativeAd({posId:o}):(this.nativeAd=qg.createNativeAd({adUnitId:o}),this.nativeAd.load()),this.nativeAd.onLoad(function(o){if(!e._loadState){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210-onload\u89e6\u53d1",JSON.stringify(o));var n=function(){var o=e._nativeCurrentAd.icon,n=e._nativeCurrentAd.imgUrlList,i=n&&n.length>0?n[0]:"",r="string"==typeof i?i:i.url?i.url:"",a=e.adSprite.node.width==e.adSprite.node.height&&""!=o?o:r;""!=a?(e._loadState=!0,e.node.active=!0,e.desLab.string=e._nativeCurrentAd.desc||"",cc.loader.load(a,function(t,o){if(!t){console.log("native img  url ",o.url);var n=new cc.SpriteFrame(o);e.adSprite.spriteFrame=n}}),e.nativeAd.reportAdShow({adId:e._nativeCurrentAd.adId.toString()}),t&&t(!0)):t&&t(!1)};o&&o.adList&&o.adList.length>0?(e._nativeCurrentAd=o.adList[0],n&&n()):null!=e._nativeCurrentAd?n&&n():(console.log("\u65e0\u5e7f\u544a\u6570\u636e"),t&&t(!1)),console.log("this._nativeCurrentAd = "+JSON.stringify(e._nativeCurrentAd))}}),this.nativeAd.onError(function(o){e._loadState||(e._loadState=!1,console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5f02\u5e38",JSON.stringify(o)),t&&t(!1))})}},e.prototype.onCloseBtn=function(){this.onClose()},e.prototype.onClose=function(){this.node.active=!1},e.prototype.onClickAd=function(){console.log("nativeAd onClickAd"),this.nativeAd.reportAdClick({adId:this._nativeCurrentAd.adId.toString()})},e.prototype.destroyNativeAd=function(){this.nativeAd&&this.nativeAd.destroy&&this.nativeAd.destroy()},a([u(cc.Node)],e.prototype,"bgNode",void 0),a([u(cc.Sprite)],e.prototype,"adSprite",void 0),a([u(cc.Label)],e.prototype,"desLab",void 0),a([u(cc.Label)],e.prototype,"btnLab",void 0),a([u(cc.Node)],e.prototype,"closeBtnNode",void 0),a([u(cc.Node)],e.prototype,"okBtnNode",void 0),a([u(cc.Node)],e.prototype,"goBtnNode",void 0),a([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../data/Config":"Config","../../others/UIHelp":"UIHelp"}],OppoAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"3f139wfoslAUZdhyAxbIFsa","OppoAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../data/ConstantCf"),s=t("./NativeAd"),l=t("../../../comFrame/sdk/AdMgr"),d=t("../../../GameController"),u=t("../../others/UIHelp"),p=t("../../../GameDataCenter"),h=cc._decorator,f=h.ccclass,y=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameNativeNode=null,e.gameNativeIcon=null,e.resultNativeAd=null,e.addDeskNode=null,e.moreNode=null,e._loadInsert=!1,e._preSceneName="startScene",e._gameCD=!1,e._boxPortalAd=null,e._isFirstShortcut=!1,e}return i(e,t),e.prototype.start=function(){a.default.on(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.on(c.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this),a.default.on(c.EGameEvent.SHOW_ADD_Desktop,this.checkAddDesktop.bind(this),this),a.default.on(c.EGameEvent.HIDE_ADD_Desktop,this.hideAddDesktop.bind(this),this),u.default.onRegisterBtnEvent(this.addDeskNode,this.onClickAddDesk.bind(this),this),u.default.onRegisterBtnEvent(this.moreNode,this.onClickMoreNode.bind(this),this),this.addDeskNode.active=!1,this.moreNode.active=!1,this._gameCD=!0},e.prototype.onDestroy=function(){a.default.off(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.off(c.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this),a.default.off(c.EGameEvent.SHOW_ADD_Desktop,this.checkAddDesktop.bind(this),this),a.default.off(c.EGameEvent.HIDE_ADD_Desktop,this.hideAddDesktop.bind(this),this),u.default.unRegisterBtnEvent(this.addDeskNode,this.onClickAddDesk.bind(this),this),u.default.unRegisterBtnEvent(this.moreNode,this.onClickMoreNode.bind(this),this)},e.prototype.onShowUI=function(t){var e=this,o=t.ui;console.log("ad onShowUI",o),"None"!=o&&(["UIRoleGet","dialogueItem","floatBox","UIChapter","UISign","UITarget","UILockGet","UINewMusic"].indexOf(o)>-1?l.default.instance.showBanner(!0):l.default.instance.showBanner(),"UIGame"==o&&this._gameCD?this.checkAddDesktop():(this.addDeskNode.active=!1,this.moreNode.active=!1,this.gameNativeNode.active=!1),"UIResult"==o&&0==p.default.account.isPlayFirst&&this.resultNativeAd.onShow(function(t){if(t){e.resultNativeAd.node.y=-237;var o=cc.find("UIResult/ui/downNode/btns/back",cc.director.getScene().getChildByName("Canvas"));o&&(o.position=cc.v3(246,-78,0));var n=cc.find("UIResult/ui/downNode/btns/rePlay",cc.director.getScene().getChildByName("Canvas"));n&&(n.position=cc.v3(-246,-78,0));var i=cc.find("UIResult/ui/downNode/btns/next",cc.director.getScene().getChildByName("Canvas"));i&&(i.position=cc.v3(-246,-78,0))}else e.resultNativeAd.onClose()}))},e.prototype.checkAddDesktop=function(){var t=this;this._gameCD=!0,this.addDeskNode.active=!1,this.moreNode.active=!0,d.default.sdkManager.checkAddDesktop(function(e){void 0===e&&(e=!1),t.addDeskNode.active=!e}),this.UIGameShowNativeIcon()},e.prototype.hideAddDesktop=function(){this._gameCD=!1,this.addDeskNode.active=!1,this.moreNode.active=!1,this.gameNativeNode.active=!1},e.prototype.showScene=function(){},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui);var e=t.ui;console.log("ad onShowUI",e),"None"!=e&&("UIGame"==e&&(this._gameCD=!0),"UIResult"==e&&this.resultNativeAd.onClose())},e.prototype.onClickAddDesk=function(){var t=this;d.default.sdkManager.onAddDesktop(function(e){void 0===e&&(e=!1),t.addDeskNode.active=!e})},e.prototype.onClickMoreNode=function(){this.showBoxPortalAd()},e.prototype.showBoxPortalAd=function(){var t=this;qg.createGamePortalAd?(this._boxPortalAd&&(this._boxPortalAd.destroy(),this._boxPortalAd=null),this._boxPortalAd=qg.createGamePortalAd({adUnitId:"375588"}),this._boxPortalAd.load().then(function(){console.log("load success")}).catch(function(t){console.log("load fail with:"+t.errCode+","+t.errMsg)}),this._boxPortalAd.onLoad(function(){t._boxPortalAd.show().then(function(){console.log("show success")})}),this._boxPortalAd.onError(function(t){console.log("\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(t))}),this._boxPortalAd.onClose(function(){console.log("close"),t._boxPortalAd.destroy().then(function(){console.log("destroy success"),t._boxPortalAd=null}).catch(function(t){console.log("destroy fail with:"+t.errCode+","+t.errMsg)})})):console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},e.prototype.showBoxBanner=function(){var t=null;qg.createBoxBannerAd?((t=qg.createBoxBannerAd({posId:"e4a1a30c6f7342b6b8d89b1796e01edc"})).onError(function(t){console.log("\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),t.show().then(function(){console.log("show success")})):console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},e.prototype.UIGameShowNativeIcon=function(){var t=this;this.gameNativeNode.active=!0,0==this._loadInsert?this.gameNativeIcon.onShow(function(e){t._loadInsert=e,t.gameNativeNode.active=t._loadInsert}):this.gameNativeNode.active=this._loadInsert},r([y({type:cc.Node,tooltip:"gameNativeNode"})],e.prototype,"gameNativeNode",void 0),r([y({type:s.default,tooltip:"gameNativeIcon"})],e.prototype,"gameNativeIcon",void 0),r([y({type:s.default,tooltip:"resultNativeAd"})],e.prototype,"resultNativeAd",void 0),r([y({type:cc.Node,tooltip:"\u6dfb\u52a0\u684c\u9762"})],e.prototype,"addDeskNode",void 0),r([y({type:cc.Node,tooltip:"\u66f4\u591a\u7cbe\u5f69"})],e.prototype,"moreNode",void 0),r([f],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../../GameController":"GameController","../../../GameDataCenter":"GameDataCenter","../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","./NativeAd":"NativeAd"}],PlatformNodeChange:[function(t,e,o){"use strict";cc._RF.push(e,"20f38P4Q7VJJ6he637NBgXa","PlatformNodeChange");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/Config"),c=cc._decorator,s=c.ccclass,l=c.menu,d=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.platform=a.EAPIModel.None,e.posModel=!1,e.pos=cc.v3(),e.scaleModel=!1,e.scale=cc.v3(1,1,1),e.activeModel=!1,e.isShow=!0,e}return i(e,t),e.prototype.start=function(){a.default.ModelAPI==this.platform&&(this.posModel&&(this.node.position=this.pos),this.scaleModel&&this.node.setScale(this.scale),this.activeModel&&(this.node.active=this.isShow))},r([d({type:cc.Enum(a.EAPIModel)})],e.prototype,"platform",void 0),r([d({tooltip:"\u63a7\u5236\u8282\u70b9\u4f4d\u7f6e"})],e.prototype,"posModel",void 0),r([d({visible:function(){return this.posModel}})],e.prototype,"pos",void 0),r([d({tooltip:"\u63a7\u5236\u8282\u70b9\u7f29\u653e"})],e.prototype,"scaleModel",void 0),r([d({visible:function(){return this.scaleModel}})],e.prototype,"scale",void 0),r([d({tooltip:"\u63a7\u5236\u8282\u70b9\u663e\u793a"})],e.prototype,"activeModel",void 0),r([d({visible:function(){return this.activeModel}})],e.prototype,"isShow",void 0),r([s,l("UI/Sdk/PlatformNodeChange")],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../data/Config":"Config"}],PosAdItem:[function(t,e,o){"use strict";cc._RF.push(e,"fd8fcoBGl5POb4kSgHR1l45","PosAdItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.NavigateFail=void 0;var a=t("../../others/UIHelp"),c=t("../../../comFrame/utils/ComFun"),s=t("../../../comFrame/sdk/AdMgr");o.NavigateFail="NavigateFail";var l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSprite=null,e.nameLab=null,e.appItemData=null,e}return i(e,t),e.prototype.start=function(){a.default.onRegisterBtnEvent(this.node,this.onToGame.bind(this))},e.prototype.setData=function(t,e){var o=this;if(void 0===e&&(e=!1),this.appItemData=t,this.appItemData){if(this.node.active=!0,this.nameLab&&(e?(this.nameLab.node.active=!0,this.nameLab.string=this.appItemData.title):this.nameLab.node.active=!1),this.iconSprite.node.active=!1,this.appItemData.icons.length>0&&(this.appItemData.icons=c.default.getShuffleArray(this.appItemData.icons),this.setIcon(0),this.appItemData.icons.length>1)){var n=0;this.schedule(function(){++n>=o.appItemData.icons.length&&(n=0),o.setIcon(n)},2)}}else this.node.active=!1},e.prototype.setIcon=function(t){var e=this;void 0===t&&(t=0),a.default.onLoadOnlyHttpImage(this.appItemData.icons[t],function(t){cc.isValid(e)&&t&&(e.iconSprite.node.active=!0,e.iconSprite.spriteFrame=t)})},e.prototype.onToGame=function(){var t=this;this.appItemData&&s.default.instance.navigateToProgram(this.appItemData.originData).then(function(){var e=new cc.Event.EventCustom(o.NavigateFail,!0);e.setUserData({isOk:!0}),t.node.dispatchEvent(e)}).catch(function(){var e=new cc.Event.EventCustom(o.NavigateFail,!0);e.setUserData({isOk:!1}),t.node.dispatchEvent(e)})},e.prototype.playAct=function(t){var e=t||this.node;cc.tween(e).repeatForever(cc.tween(e).by(.08,{angle:20}).by(.16,{angle:-40}).by(.08,{angle:20}).delay(.32)).start()},r([u({type:cc.Sprite,tooltip:"icon"})],e.prototype,"iconSprite",void 0),r([u({type:cc.Label,tooltip:"name"})],e.prototype,"nameLab",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/utils/ComFun":"ComFun","../../others/UIHelp":"UIHelp"}],PowerNumUpdate:[function(t,e,o){"use strict";cc._RF.push(e,"a0d13Tmj01EIakHYb5X8XIU","PowerNumUpdate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/ConstantCf"),c=t("../../others/GameCtr"),s=t("../../../data/Config"),l=t("../../../comFrame/event/EventMng"),d=t("../../../comFrame/utils/ComFun"),u=t("./ResNumUpdate"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeLab=null,e.timeBg=null,e._timeOutId=-1,e}return i(e,t),e.prototype.start=function(){l.default.on(a.EGameEvent.UPDATE_POWER,this.updateNum.bind(this,!0),this),this.updateNum(!1)},e.prototype.onDestroy=function(){l.default.off(a.EGameEvent.UPDATE_POWER,this.updateNum.bind(this),this),this.clearTimeOut()},e.prototype.updateNum=function(t){void 0===t&&(t=!1);var e=c.default.getPowerNum(),o="/"+(s.default.playCf.initPower||5);t?this.addNum(Math.floor(e)-this.resNum,o):this.setResNum(e,o),this.clearTimeOut(),this.updateTime(),this._timeOutId=setInterval(this.updateTime.bind(this),1e3)},e.prototype.updateTime=function(){if(cc.isValid(this)&&cc.isValid(this.timeLab)){var t=c.default.getNextAutoAddPowerTime();t>=0?(this.timeLab.node.active=!0,this.timeBg.active=!0,this.timeLab.string=d.default.changeTimeStr(t,3)+" +"+s.default.playCf.addPower):(this.timeLab.node.active=!1,this.timeBg.active=!1,this.clearTimeOut())}else this.clearTimeOut()},e.prototype.clearTimeOut=function(){this._timeOutId>-1&&(clearInterval(this._timeOutId),this._timeOutId=-1)},r([f({type:cc.Label,tooltip:"\u5012\u8ba1\u65f6lab"})],e.prototype,"timeLab",void 0),r([f({type:cc.Node,tooltip:"\u5012\u8ba1\u65f6\u80cc\u666f"})],e.prototype,"timeBg",void 0),r([h],e)}(u.default);o.default=y,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/utils/ComFun":"ComFun","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../others/GameCtr":"GameCtr","./ResNumUpdate":"ResNumUpdate"}],QQAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"21f830SC+1IkJ2VEGfy46tA","QQAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../comFrame/sdk/AdMgr"),s=t("../../../comFrame/sdk/BannerAd"),l=t("../../../data/ConstantCf"),d=t("../../../GameController"),u=t("../../others/UIHelp"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.friendPvPBtnNode=null,e.friendSubNode=null,e._isFirstMain=!1,e._isCanEnterFriendPvP=!0,e}return i(e,t),e.prototype.start=function(){var t=this;a.default.on(l.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(l.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.on(l.EGameEvent.QQ_FRIENDPVP,this.onCheckEnterInFriendPvP.bind(this),this),u.default.onRegisterBtnEvent(this.friendPvPBtnNode,this.onInviteFriendPvP.bind(this)),this.friendPvPBtnNode.active=!1,this.friendSubNode.active=!0,d.default.sdkManager.postMessage({messageType:l.EMainSubMsgType.None}),this.schedule(function(){t.friendSubNode.active=!1},.1)},e.prototype.onDestroy=function(){a.default.off(l.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(l.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.off(l.EGameEvent.QQ_FRIENDPVP,this.onCheckEnterInFriendPvP.bind(this),this)},e.prototype.onShowUI=function(t){var e=t.ui;if(console.log("ad onShowUI",e),"None"!=e){if(this.friendPvPBtnNode.active="UIGame"==e,s.default.getInstance().isOpen()){["UIReady","UIPlay","UISceneUse","UIGame","UIShop","UIRank","UIWorldRank","UIRoleGet","UISceneGet","UIPlayHelp","UIPause","UIAddDesk","UITurntable","UISign","UICenterTips","UISupply","UIMusicPackExtend","UIMusicExtend","UIMusicPackGet","UIMusicGet","UIAllMusic","UIPvP","UIPvPResult","UIPvPStarChange"].indexOf(e)>-1?c.default.instance.showBanner(!0):c.default.instance.showBanner();var o={UIReady:["UIReady/downNode"],UIPlay:["PlayNode/uiNode/downNode"],UIShop:["UIShop/mListNode"],UIAllMusic:["UIAllMusic/mListNode"]};if(o[e])for(var n=cc.director.getScene().getChildByName("Canvas"),i=0;i<o[e].length;i++){var r=o[e][i],a=cc.find(r,n);a&&(a.getComponent(cc.Widget).bottom=200,a.getComponent(cc.Widget).updateAlignment())}}this._isCanEnterFriendPvP=!["UIPlay"].includes(e)}},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui)},e.prototype.onShowAdPage=function(t){void 0===t&&(t=!1)},e.prototype.onInviteFriendPvP=function(){qq.shareInvite({success:function(){},fail:function(t){t.errCode},completion:function(){}})},e.prototype.onCheckEnterInFriendPvP=function(){},r([f(cc.Node)],e.prototype,"friendPvPBtnNode",void 0),r([f(cc.Node)],e.prototype,"friendSubNode",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../GameController":"GameController","../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/sdk/BannerAd":"BannerAd","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp"}],ResNumUpdate:[function(t,e,o){"use strict";cc._RF.push(e,"9b7c4yUsIVEEYgNx7Xt7ogR","ResNumUpdate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../others/GameCtr"),l=t("../../others/UIHelp"),d=cc._decorator,u=d.ccclass,p=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemId=c.EItemId.Diamond,e.numLab=null,e.iconNode=null,e.addNode=null,e._resNum=0,e._showNum=0,e}return i(e,t),e.prototype.onLoad=function(){l.default.onRegisterBtnEvent(this.addNode,this.onClick.bind(this))},e.prototype.setResNum=function(t,e){void 0===e&&(e=""),this._resNum=t,this._showNum=t,this.numLab.string=Math.floor(this._resNum).toLocaleString()+e},Object.defineProperty(e.prototype,"resNum",{get:function(){return this._resNum},enumerable:!1,configurable:!0}),e.prototype.addNum=function(t,e){var o=this;void 0===e&&(e=""),this._resNum+=t;var n=this._resNum,i=this._showNum;this._showNum=this._resNum;var r=function(){l.default.changeLabelNum(o.numLab,i,n,.5,e,!0)};t>0?a.default.emit(c.EGameEvent.RES_COLLECT,{itemId:this.itemId,num:t,collectNode:this.iconNode,actEnd:r}):this.scheduleOnce(function(){r()},.5)},e.prototype.onClick=function(){s.default.showUISupply(this.itemId,0,!0)},r([p({type:cc.Enum(c.EItemId),tooltip:"\u8d44\u6e90\u7c7b\u578bid"})],e.prototype,"itemId",void 0),r([p({type:cc.Label,tooltip:"\u6570\u76eelab"})],e.prototype,"numLab",void 0),r([p({type:cc.Node,tooltip:"icon node"})],e.prototype,"iconNode",void 0),r([p({type:cc.Node,tooltip:"add node"})],e.prototype,"addNode",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf","../../others/GameCtr":"GameCtr","../../others/UIHelp":"UIHelp"}],RewardAdAndroid:[function(t,e,o){"use strict";cc._RF.push(e,"d9af1qCd89HjovtZe1LgdTk","RewardAdAndroid");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../GameController"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),r.default.sdkManager.videoCallBack=function(t){switch(console.log(),t){case"show":console.log("\u6fc0\u52b1\u89c6\u9891 \u5f00\u59cb\u64ad\u653e");break;case"complete":break;case"end":o._showData&&o._showData.callback&&o._showData.callback(),o._showData.callback=null;break;case"close":o._showData&&o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!");break;case"no":o._showData&&o._showData.failback&&o._showData.failback("\u89c6\u9891\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!");break;case"error":o._showData&&o._showData.errorback&&o._showData.errorback()}}},e.prototype.showRewardAd=function(e,o,n){t.prototype.showRewardAd.call(this,e,o,n),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showVideoAd","()V")},e}(t("./RewardAdBase").default);o.default=a,cc._RF.pop()},{"../../../GameController":"GameController","./RewardAdBase":"RewardAdBase"}],RewardAdBL:[function(t,e,o){"use strict";cc._RF.push(e,"479cbfX50tGQIYqwqsCaE00","RewardAdBL");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){t.prototype.onLoadRewardAd.call(this,e)},e.prototype.showRewardedVideoAd=function(){var t=this,e=bl.createRewardedVideoAd(),o=function(){e.offLoad(o),t._flag=!0,e.show().catch(function(e){return t._flag=!1,console.log("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u5931\u8d25",e),t._showData&&t._showData.errorback&&t._showData.errorback("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u5931\u8d25!"),Promise.reject(e)}).then(function(){})},n=function(){t._flag=!1,t._showData&&t._showData.errorback&&t._showData.errorback("\u6fc0\u52b1\u5e7f\u544a\u51fa\u9519!"),e.offLoad(o),e.offClose(i),e.offError(n),e.destroy()},i=function(r){t._flag=!1,r.isEnded?t._showData&&t._showData.callback&&t._showData.callback():t._showData&&t._showData.failback&&t._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"),e.offLoad(o),e.offClose(i),e.offError(n),e.destroy()};return e.offLoad(o),e.onLoad(o),e.offError(n),e.onError(n),e.offClose(i),e.onClose(i),e.load(),e},e.prototype.showRewardAd=function(e,o,n){this._flag||(t.prototype.showRewardAd.call(this,e,o,n),this.showRewardedVideoAd())},e}(t("./RewardAdBase").default);o.default=r,cc._RF.pop()},{"./RewardAdBase":"RewardAdBase"}],RewardAdBaidu:[function(t,e,o){"use strict";cc._RF.push(e,"1f1c5fRGaNF+6NiJ6S+C2X1","RewardAdBaidu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RewardAdBase"),a=t("../../../GameController"),c=t("../../../data/Config"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;if(t.prototype.onLoadRewardAd.call(this,e),!cc.sys.isBrowser&&!this._rewardAd){var n=a.default.sdkManager;this._rewardAd=n.createRewardedVideoAd({adUnitId:this._showData.adUnitId,appSid:c.default.sdkCf.appSid||""}),this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){cc.audioEngine.setMusicVolume(1),o._flag=!1,t&&t.isEnded||void 0===t?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){cc.audioEngine.setMusicVolume(1),o._flag=!1,console.log("video err =>",t),o._showData.errorback&&o._showData.errorback()}))}},e.prototype.showRewardAd=function(e,o,n){var i=this;t.prototype.showRewardAd.call(this,e,o,n),cc.audioEngine.setMusicVolume(0),this._rewardAd.load(),this._rewardAd.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a"),AuCtr}).catch(function(){cc.audioEngine.setMusicVolume(1),i._flag=!1,i._rewardAd.load().then(function(){return i._rewardAd.show()})})},e}(r.default);o.default=s,cc._RF.pop()},{"../../../GameController":"GameController","../../../data/Config":"Config","./RewardAdBase":"RewardAdBase"}],RewardAdBase:[function(t,e,o){"use strict";cc._RF.push(e,"3c7a5W/B49AIbRGVOmvJgyD","RewardAdBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._rewardAd=null,this._flag=!1,this._ad_UnitId="",this._showData={adUnitId:""}}return t.prototype.onLoadRewardAd=function(t){this._showData.adUnitId=t},t.prototype.showRewardAd=function(t,e,o){this._showData.callback=t,this._showData.failback=e,this._showData.errorback=o},t}();o.default=n,cc._RF.pop()},{}],RewardAdOppo:[function(t,e,o){"use strict";cc._RF.push(e,"165d2Rukd1IerFxKxvUA4Zk","RewardAdOppo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),cc.sys.isBrowser||this._rewardAd||(this._rewardAd=qg.createRewardedVideoAd({adUnitId:this._showData.adUnitId}),this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){o._flag=!1,t&&t.isEnded||void 0===t?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData.errorback&&o._showData.errorback()})))},e.prototype.showRewardAd=function(e,o,n){var i=this;t.prototype.showRewardAd.call(this,e,o,n),this._rewardAd.load(),this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),i._rewardAd.show()})},e}(t("./RewardAdBase").default);o.default=r,cc._RF.pop()},{"./RewardAdBase":"RewardAdBase"}],RewardAdQQYYW:[function(t,e,o){"use strict";cc._RF.push(e,"1d43b3pan5A37vKAZJ/Y0Ok","RewardAdQQYYW");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RewardAdBase"),a=t("../../../logic/others/AudioCtr"),c=t("../../../GameDataCenter"),s=t("../AdMgr"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;if(t.prototype.onLoadRewardAd.call(this,e),!cc.sys.isBrowser&&!this._rewardAd){var n=c.default.account.getBaseUserInfo(),i=s.default.instance.adSdk,r={type:"createRewardedVideoAd",adUnitId:this._showData.adUnitId,roleId:n.charId,roleName:n.nickName,serverId:"QQ"};i.sdk.advertisement(r),i.sdk.state.videoAd.load(),this._rewardAd=i.sdk.state.videoAd,this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){o._flag=!1,a.default.resumeAllEffects(),t&&t.isEnded||void 0===t?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData&&o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData&&o._showData.errorback&&o._showData.errorback()}))}},e.prototype.showRewardAd=function(e,o,n){var i=this;if(t.prototype.showRewardAd.call(this,e,o,n),this._rewardAd&&!this._flag){this._flag=!0;var r=this._rewardAd.show();r?r.then(function(){a.default.pauseAllEffects(),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(){i._flag=!1,i._rewardAd.load().then(function(){return i._rewardAd.show()})}):this._rewardAd.load().then(function(){return i._rewardAd.show()})}},e}(r.default);o.default=l,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../logic/others/AudioCtr":"AudioCtr","../AdMgr":"AdMgr","./RewardAdBase":"RewardAdBase"}],RewardAdQQ:[function(t,e,o){"use strict";cc._RF.push(e,"766a9dJCMpFN77wUWnoqqEN","RewardAdQQ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RewardAdBase"),a=t("../../../logic/others/AudioCtr"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),cc.sys.isBrowser||this._rewardAd||(this._rewardAd=qq.createRewardedVideoAd({adUnitId:this._showData.adUnitId}),this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){o._flag=!1,a.default.resumeAllEffects(),t&&t.isEnded||void 0===t?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData&&o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData&&o._showData.errorback&&o._showData.errorback()})))},e.prototype.showRewardAd=function(e,o,n){var i=this;t.prototype.showRewardAd.call(this,e,o,n),this._rewardAd&&!this._flag&&(this._flag=!0,this._rewardAd.show().then(function(){a.default.pauseAllEffects(),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(){i._flag=!1,i._rewardAd.load().then(function(){return i._rewardAd.show()})}))},e}(r.default);o.default=c,cc._RF.pop()},{"../../../logic/others/AudioCtr":"AudioCtr","./RewardAdBase":"RewardAdBase"}],RewardAdQTT:[function(t,e,o){"use strict";cc._RF.push(e,"30ee9fSSvFEtJjCCJbb2/GM","RewardAdQTT");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RewardAdBase"),a=t("../../../logic/others/AudioCtr"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.showRewardAd=function(e,o,n){var i=this;t.prototype.showRewardAd.call(this,e,o,n);a.default.pauseBgAudio(),window.qttGame.showVideo(function(t){a.default.resumeBgAudio(),1==t?i._showData&&i._showData.callback&&i._showData.callback():2==t?i._showData&&i._showData.failback&&i._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"):i._showData&&i._showData.failback&&i._showData.errorback()},{index:1})},e}(r.default);o.default=c,cc._RF.pop()},{"../../../logic/others/AudioCtr":"AudioCtr","./RewardAdBase":"RewardAdBase"}],RewardAdTT:[function(t,e,o){"use strict";cc._RF.push(e,"52418T0b0ZEd54C/pHFgLkp","RewardAdTT");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../data/ConstantCf"),a=t("../../event/EventMng"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),!cc.sys.isBrowser&&tt.createRewardedVideoAd&&(this._rewardAd||(this._rewardAd=tt.createRewardedVideoAd({adUnitId:this._showData.adUnitId}),this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){a.default.emit(r.EGameEvent.GAME_SHOW),o._flag=!1,t&&t.isEnded||void 0===t?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData&&o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData&&o._showData.errorback&&o._showData.errorback()}))))},e.prototype.showRewardAd=function(e,o,n){var i=this;t.prototype.showRewardAd.call(this,e,o,n),this._rewardAd&&!this._flag&&(this._flag=!0,this._rewardAd.show().then(function(){a.default.emit(r.EGameEvent.GAME_HIDE),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(){i._flag=!1,i._rewardAd.load().then(function(){return i._rewardAd.show()})}))},e}(t("./RewardAdBase").default);o.default=c,cc._RF.pop()},{"../../../data/ConstantCf":"ConstantCf","../../event/EventMng":"EventMng","./RewardAdBase":"RewardAdBase"}],RewardAdTest:[function(t,e,o){"use strict";cc._RF.push(e,"631fbNk9I5JcK31lZVPIeZu","RewardAdTest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.showRewardAd=function(t){t&&t()},e}(t("./RewardAdBase").default);o.default=r,cc._RF.pop()},{"./RewardAdBase":"RewardAdBase"}],RewardAdUC:[function(t,e,o){"use strict";cc._RF.push(e,"a16630GidJOwYjQKe34Ig/e","RewardAdUC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),this._rewardAd||(this._rewardAd=uc.createRewardVideoAd(),this._rewardAd&&(this._rewardAd.onClose(function(t){o._flag=!1,t&&t.isEnded?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData&&o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData&&o._showData.errorback&&o._showData.errorback()})))},e.prototype.showRewardAd=function(e,o,n){var i=this;t.prototype.showRewardAd.call(this,e,o,n),this._rewardAd&&!this._flag&&(this._flag=!0,this._rewardAd.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a")}).catch(function(){i._flag=!1}))},e}(t("./RewardAdBase").default);o.default=r,cc._RF.pop()},{"./RewardAdBase":"RewardAdBase"}],RewardAdVivo:[function(t,e,o){"use strict";cc._RF.push(e,"9db2bh1S/ZN0qkX1T0eSZqx","RewardAdVivo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RewardAdBase"),a=t("../../../logic/others/AudioCtr"),c=t("../../event/EventMng"),s=t("../../../data/ConstantCf"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),cc.sys.isBrowser||this._rewardAd||(console.log("this._showData.adUnitId  : ",this._showData.adUnitId),console.log("ad_UnitId : ",e),this._rewardAd=qg.createRewardedVideoAd({adUnitId:this._showData.adUnitId}),this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){setTimeout(function(){c.default.emit(s.EGameEvent.GAME_SHOW)},1e3),o._flag=!1,a.default.resumeAllEffects(),t&&t.isEnded?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){switch(o._flag=!1,console.log("video err =>",t),o._showData.errorback&&o._showData.errorback(),t.errCode){case-3:console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25---\u8c03\u7528\u592a\u9891\u7e41",JSON.stringify(t));break;case-4:console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25--- \u4e00\u5206\u949f\u5185\u4e0d\u80fd\u91cd\u590d\u52a0\u8f7d",JSON.stringify(t));break;case 30008:break;default:console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(t))}})))},e.prototype.showRewardAd=function(e,o,n){var i=this;t.prototype.showRewardAd.call(this,e,o,n);var r=this._rewardAd.load();r&&r.catch(function(t){console.log("\u6fc0\u52b1\u5e7f\u544aload\u5931\u8d25"+JSON.stringify(t))}),this._rewardAd.onLoad(function(){var t=i._rewardAd.show();t&&t.then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),c.default.emit(s.EGameEvent.GAME_HIDE),a.default.pauseAllEffects()}).catch(function(t){console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t))})})},e}(r.default);o.default=l,cc._RF.pop()},{"../../../data/ConstantCf":"ConstantCf","../../../logic/others/AudioCtr":"AudioCtr","../../event/EventMng":"EventMng","./RewardAdBase":"RewardAdBase"}],RewardAdWx:[function(t,e,o){"use strict";cc._RF.push(e,"e06849/yBlOfYK8U5Za3Qpu","RewardAdWx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./RewardAdBase"),a=t("../../../logic/others/AudioCtr"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),cc.sys.isBrowser||this._rewardAd||(this._rewardAd=wx.createRewardedVideoAd({adUnitId:this._showData.adUnitId}),this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){o._flag=!1,a.default.resumeAllEffects(),t&&t.isEnded||void 0===t?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData&&o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData&&o._showData.errorback&&o._showData.errorback()})))},e.prototype.showRewardAd=function(e,o,n){t.prototype.showRewardAd.call(this,e,o,n),e&&e()},e}(r.default);o.default=c,cc._RF.pop()},{"../../../logic/others/AudioCtr":"AudioCtr","./RewardAdBase":"RewardAdBase"}],RewardAdXM:[function(t,e,o){"use strict";cc._RF.push(e,"40250rEmrpAo46ixHeQHtO9","RewardAdXM");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoadRewardAd=function(e){var o=this;t.prototype.onLoadRewardAd.call(this,e),cc.sys.isBrowser||this._rewardAd||(this._rewardAd=qg.createRewardedVideoAd({adUnitId:"12345"}),this._rewardAd&&(this._rewardAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this._rewardAd.onClose(function(t){o._flag=!1,t&&t.isEnded||void 0===t?o._showData&&o._showData.callback&&o._showData.callback():(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1video no play end =>",t),o._showData.failback&&o._showData.failback("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1!"))}),this._rewardAd.onError(function(t){o._flag=!1,console.log("video err =>",t),o._showData.errorback&&o._showData.errorback()})))},e.prototype.showRewardAd=function(e,o,n){t.prototype.showRewardAd.call(this,e,o,n),this._rewardAd.show()},e}(t("./RewardAdBase").default);o.default=r,cc._RF.pop()},{"./RewardAdBase":"RewardAdBase"}],RewardItem:[function(t,e,o){"use strict";cc._RF.push(e,"46728iyTVlN3KhpWoxIsTa8","RewardItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLab=null,e.iconSprite=null,e.resSpriteFrames=[],e.vipSpriteFrame=null,e.randomRoleIconFrame=null,e.randomSceneIconFrame=null,e.foodSpriteFrames=[],e._iconSize=null,e}return i(e,t),Object.defineProperty(e.prototype,"iconSize",{get:function(){return this._iconSize||(this._iconSize=this.iconSprite.node.getContentSize()),this._iconSize},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.init=function(t){switch(t.itemId){case 0:case 1:this.numLab.string="x"+t.num.toLocaleString(),this.setIconSprite(this.resSpriteFrames[t.itemId]);break;case 2:this.numLab.string="x"+t.num.toLocaleString(),this.setIconSprite(this.foodSpriteFrames[t.rId-2001])}},e.prototype.setIconSprite=function(t){this.iconSize.height,this.iconSprite.spriteFrame=t},r([s(cc.Label)],e.prototype,"numLab",void 0),r([s(cc.Sprite)],e.prototype,"iconSprite",void 0),r([s([cc.SpriteFrame])],e.prototype,"resSpriteFrames",void 0),r([s(cc.SpriteFrame)],e.prototype,"vipSpriteFrame",void 0),r([s(cc.SpriteFrame)],e.prototype,"randomRoleIconFrame",void 0),r([s(cc.SpriteFrame)],e.prototype,"randomSceneIconFrame",void 0),r([s([cc.SpriteFrame])],e.prototype,"foodSpriteFrames",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],RippleAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"fa3fcm1A+pEKqswfTxqr1p3","RippleAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.meshRender=null,e._aniTime=1,e._addScale=2,e._playState=!1,e._updateTime=0,e}return i(e,t),e.prototype.onLoad=function(){this._playState=!1},e.prototype.start=function(){},e.prototype.update=function(t){if(this._playState){if(this._updateTime+=t,this._updateTime>this._aniTime)return this._playState=!1,void this.setLineColor(0);var e=this._updateTime/this._aniTime,o=1+e*this._addScale;this.node.scale=o;var n=255-255*e;this.setLineColor(n)}},e.prototype.onDestroy=function(){},e.prototype.onPlay=function(){this._updateTime=0,this._playState=!0},e.prototype.setLineColor=function(t){var e=new cc.Color(255,255,255,t);this.meshRender.getMaterial(0).setProperty("diffuseColor",e)},r([s(cc.MeshRenderer)],e.prototype,"meshRender",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],RoleItem:[function(t,e,o){"use strict";cc._RF.push(e,"de7d3LSs4RABrNYXNXkJR8Y","RoleItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SocialBase"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([s],e)}(a.default));o.default=l,cc._RF.pop()},{"./SocialBase":"SocialBase"}],RowAdList:[function(t,e,o){"use strict";cc._RF.push(e,"284ebh4J6RE76us7lcUltWL","RowAdList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/sdk/AdMgr"),c=t("./PosAdItem"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adPosPrefab=null,e.scrollView=null,e.cardOffsetX=5,e._moveDic=1,e._adKey=-1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(c.NavigateFail,function(){t.autoScrollTo()},this)},e.prototype.init=function(t){var e=this;if(void 0===t&&(t=-1),cc.log("RowAdList start"),-1!=t&&this._adKey!=t){this._adKey=t,this.node.setContentSize(this.node.parent.getContentSize()),this.scrollView.getComponent(cc.Widget).updateAlignment(),this.scrollView.content.width=this.scrollView.node.width,this.scrollView.content.getComponent(cc.Layout).updateLayout();var o=function(){e.scrollView.content.removeAllChildren(),a.default.instance.getShuffleAdData(e._adKey).then(function(t){if(t){for(var n=0;n<t.length;n++){var i=t[n],r=cc.instantiate(e.adPosPrefab);r.parent=e.scrollView.content,r.getComponent(c.default).setData(i,!0)}e.scrollView.node.on("scroll-ended",function(){cc.log("scroll-ended"),e.autoScrollTo()},e),e.scheduleOnce(function(){e.autoScrollTo()},1)}else e.scheduleOnce(function(){o()},1)})};o()}},e.prototype.onEnable=function(){this.autoScrollTo()},e.prototype.autoScrollTo=function(){var t=-this.scrollView.content.x,e=this.scrollView.content.width-this.scrollView.node.width;t>=e-5?this._moveDic=-1:t<=5&&(this._moveDic=1),cc.log(t,e,this._moveDic),1==this._moveDic?this.scrollView.scrollToRight(.0135*(e-t),!1):-1==this._moveDic&&this.scrollView.scrollToLeft(.0135*t,!1)},r([d({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([d({type:cc.ScrollView,tooltip:"ScrollView"})],e.prototype,"scrollView",void 0),r([d],e.prototype,"cardOffsetX",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","./PosAdItem":"PosAdItem"}],RpGameUI:[function(t,e,o){"use strict";cc._RF.push(e,"b6137kSaZ5JkoYxHe47xGl0","RpGameUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../comFrame/sdk/AdMgr"),s=t("../../../comFrame/utils/ComFun"),l=t("../../../data/ConstantCf"),d=t("../../others/UIHelp"),u=t("./PosAdItem"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeBtnNode=null,e.okBtnNode=null,e.icon=null,e.desLab=null,e.appItemData=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;d.default.onRegisterBtnEvent(this.closeBtnNode,function(){t.onNavigateFail()}),d.default.onRegisterBtnEvent(this.okBtnNode,this.onToGame.bind(this)),this.node.on(u.NavigateFail,function(){t.onHide()},this)},e.prototype.onEnable=function(){a.default.emit(l.EGameEvent.UI_SHOW,{ui:"RpGameUI"}),this.updateUI()},e.prototype.onHide=function(){this.node.active=!1,a.default.emit(l.EGameEvent.UI_HIDE,{ui:"RpGameUI"}),"mainScene"==cc.director.getScene().name&&a.default.emit(l.EGameEvent.UI_SHOW,{ui:"UIGame"})},e.prototype.updateUI=function(){var t=this;c.default.instance.getShuffleAdData(0).then(function(e){e&&0!=e.length?(t.appItemData=s.default.getRandList(e,1)[0],t.desLab.string="\u8fdb\u5165"+t.appItemData.title+"\u9886\u53d6\u7ea2\u5305",t.icon.node.active=!1,d.default.onLoadOnlyHttpImage(t.appItemData.icons[0],function(e){cc.isValid(t)&&e&&(t.icon.node.active=!0,t.icon.spriteFrame=e)})):t.scheduleOnce(function(){t.updateUI()},1)})},e.prototype.onToGame=function(){var t=this;this.appItemData&&c.default.instance.navigateToProgram(this.appItemData.originData).then(function(){t.onNavigateFail(!0)}).catch(function(){t.onNavigateFail()})},e.prototype.onNavigateFail=function(t){void 0===t&&(t=!1);var e=new cc.Event.EventCustom(u.NavigateFail,!0);e.setUserData({isOk:t}),this.node.dispatchEvent(e)},r([f({type:cc.Node})],e.prototype,"closeBtnNode",void 0),r([f({type:cc.Node})],e.prototype,"okBtnNode",void 0),r([f({type:cc.Sprite})],e.prototype,"icon",void 0),r([f({type:cc.Label})],e.prototype,"desLab",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/utils/ComFun":"ComFun","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","./PosAdItem":"PosAdItem"}],SceneIcon:[function(t,e,o){"use strict";cc._RF.push(e,"0d378jjRAxLLYpMOgCtf1bG","SceneIcon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/CfgMng"),c=t("../../../data/ConstantCf"),s=t("./LoadHelper"),l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sceneMaskNode=null,e._mapNode=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(t){var e=this;return new Promise(function(o,n){var i=a.default.getCfgScene(t);s.default.loadPrefab(i.prefab,c.EBundleName.Play).then(function(t){e._mapNode&&e._mapNode.node.destroy();var n=cc.instantiate(t);n.parent=e.sceneMaskNode,e._mapNode=n.getComponent("MapNode");var i=[0,1,2,3],r=0;e.unscheduleAllCallbacks(),e.schedule(function(){i[r]||(r=0),e._mapNode.changeColor(i[r]),r++},2),o()}).catch(function(){n()})})},r([u(cc.Node)],e.prototype,"sceneMaskNode",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../data/CfgMng":"CfgMng","../../../data/ConstantCf":"ConstantCf","./LoadHelper":"LoadHelper"}],SdkAndroidJKHW:[function(t,e,o){"use strict";cc._RF.push(e,"924dfQuZZ5ABIlkLVzzYhth","SdkAndroidJKHW");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../../GameDataCenter"),l=t("../../../logic/others/UIHelp"),d=t("../../../logic/others/TipsMng"),u=t("../../../logic/ui/pause/UIPrompt"),p=function(t){function e(){var e=t.call(this)||this;return e._userInfo={code:"",userInfo:{nickName:"",avatarUrl:""},query:{},systemInfo:null},e._isSdkLogin=!1,e._loginOver=null,e._onPayCallBack=null,e}return i(e,t),e.prototype.getUserInfo=function(){return this._userInfo},e.prototype.initSdk=function(t){cc.game.on(cc.game.EVENT_SHOW,function(t){cc.log("EVENT_SHOW"),a.default.emit(c.EGameEvent.GAME_SHOW,t)}),cc.game.on(cc.game.EVENT_HIDE,function(t){cc.log("EVENT_HIDE"),a.default.emit(c.EGameEvent.GAME_HIDE,t)}),cc.director.on("JSCALLFUN",this.javaCallBack.bind(this),this),t&&t(!0)},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e){t._loginOver=function(){e()},console.log("\u767b\u9646sdk"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","doLogin","()V")})},e.prototype.openAppBox=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jumpLeisureSubject","()V")},e.prototype.onPay=function(t,e){this._onPayCallBack=e,jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","onPay","(Ljava/lang/String;)V",t)},e.prototype.onCheckOrderList=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","onCheckOrderList","()V")},e.prototype.javaCallBack=function(t,e){switch(console.log("javaCallBack",t,e),t){case"login":if("Fail"!=e){var o=JSON.parse(e);s.default.account.setAccount(o.ssoid),s.default.account.setBaseUserInfoByKey("nickName",o.displayName),s.default.account.setBaseUserInfoByKey("avatarUrl",o.photoUriString),s.default.account.saveBaseUserInfo()}this._loginOver&&this._loginOver(),this._loginOver=null;break;case"onExitGame":l.default.showUI(u.default,null,{tipStr:"\u4eb2\uff0c\u4e0d\u7ee7\u7eed\u6e38\u620f\u4e86\u5417\uff1f",showNoBtn:!0,okBtnStr:"\u9000\u51fa",cacelBtnStr:"\u7ee7\u7eed",cbFun:function(t){void 0===t&&(t=!0),t&&cc.game.end()}});break;case"pay":var n=!1;"no"==e?d.default.showTips("\u4e0d\u652f\u6301\u652f\u4ed8\uff01"):"error"==e?d.default.showTips("\u652f\u4ed8\u51fa\u9519\u4e86\uff01"):"fail"==e?d.default.showTips("\u652f\u4ed8\u5931\u8d25\uff01"):"cancel"==e?d.default.showTips("\u53d6\u6d88\u652f\u4ed8\uff01"):"ok"==e&&(d.default.showTips("\u652f\u4ed8\u6210\u529f!"),n=!0),this._onPayCallBack&&this._onPayCallBack(n),this._onPayCallBack=null;break;case"addOrder":if(!e||""==e)return}},e.prototype.sendEvent=function(t,e){void 0===e&&(e="");var o="onEvent",n="(Ljava/lang/String;)V";"stagestart"==t?(o="startLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagecomplete"==t?(o="finishLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagefail"==t||"stagequit"==t?(o="failLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):(n="(Ljava/lang/String;Ljava/lang/String;)V",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,t,e))},e.prototype.updateLeaderBoardScore=function(t,e,o){void 0===o&&(o=""),e&&e()},e.prototype.getLeaderBoardConnect=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getLeaderBoardMain=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getPlayerEntryAsync=function(t,e){e&&e()},e.prototype.shareData=function(t,e){e&&e()},e.prototype.loadTextureByURL=function(t,e){e&&e()},e.prototype.showBannerAd=function(t,e){void 0===e&&(e=!0)},e.prototype.hideBannerAd=function(){},e.prototype.onlyShowBannerAd=function(){},e.prototype.onlyHideBannerAd=function(){},e.prototype.showVideoAd=function(t){t&&t()},e.prototype.showInsertAd=function(t){t&&t()},e.prototype.getThridConfig=function(){var t={ysgg:"1",tscpkg:"0",ptcpkg:"1",bannerkg:"1",ysggtest:"1",tscpkgtest:"0",ptcpkgtest:"1",bannerkgtest:"1",httckg:"1",httckgtest:"1",gameConfig:"1"};return console.log("this._thridConfig  : ",t),t},e.prototype.createUserInfoButton=function(t,e){var o;console.log("ly.createUserInfoButton"),o={btnNode:null,show:function(){this.btnNode&&(this.btnNode.active=!0)},hide:function(){this.btnNode&&(this.btnNode.active=!1)},destroy:function(){this.btnNode.destroy(),o=null}};var n=new cc.Node;return n.parent=t,n.setContentSize(t.getContentSize()),l.default.onRegisterBtnEvent(n,function(){console.log("\u70b9\u51fbly\u6388\u6743\u6309\u94ae\uff01"),e&&e()}),o.btnNode=n,o},e}(r.default);o.default=p,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../data/ConstantCf":"ConstantCf","../../../logic/others/TipsMng":"TipsMng","../../../logic/others/UIHelp":"UIHelp","../../../logic/ui/pause/UIPrompt":"UIPrompt","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkAndroidJKVIVO:[function(t,e,o){"use strict";cc._RF.push(e,"55681Xo0JNDd5HlPU0oNLnP","SdkAndroidJKVIVO");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../../GameDataCenter"),l=t("../../../logic/others/UIHelp"),d=t("../../../logic/others/ServerCtr"),u=function(t){function e(){var e=t.call(this)||this;return e._userInfo={code:"",userInfo:{nickName:"",avatarUrl:""},query:{},systemInfo:null},e._isSdkLogin=!1,e._loginOver=null,e}return i(e,t),e.prototype.getUserInfo=function(){return this._userInfo},e.prototype.initSdk=function(t){cc.game.on(cc.game.EVENT_SHOW,function(t){cc.log("EVENT_SHOW"),a.default.emit(c.EGameEvent.GAME_SHOW,t)}),cc.game.on(cc.game.EVENT_HIDE,function(t){cc.log("EVENT_HIDE"),a.default.emit(c.EGameEvent.GAME_HIDE,t)}),cc.director.on("JSCALLFUN",this.javaCallBack.bind(this),this),t&&t(!0)},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e){t._loginOver=function(){e()},console.log("\u767b\u9646sdk"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","doLogin","()V")})},e.prototype.javaCallBack=function(t,e){switch(console.log("javaCallBack",t,e),t){case"login":if(!this._loginOver)return;if("Fail"!=e&&e.length>0){var o=JSON.parse(e);s.default.account.setAccount(o.uid),s.default.account.setBaseUserInfoByKey("nickName",o.userName),s.default.account.setBaseUserInfoByKey("bindState",1),s.default.account.saveBaseUserInfo(),d.default.bindAccount({nickName:o.userName},function(){})}this._loginOver&&this._loginOver(),this._loginOver=null;break;case"onExitGame":cc.game.end()}},e.prototype.sendEvent=function(t,e){void 0===e&&(e="");var o="onEvent",n="(Ljava/lang/String;)V";"stagestart"==t?(o="startLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagecomplete"==t?(o="finishLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagefail"==t||"stagequit"==t?(o="failLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):(n="(Ljava/lang/String;Ljava/lang/String;)V",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,t,e))},e.prototype.updateLeaderBoardScore=function(t,e,o){void 0===o&&(o=""),e&&e()},e.prototype.getLeaderBoardConnect=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getLeaderBoardMain=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getPlayerEntryAsync=function(t,e){e&&e()},e.prototype.shareData=function(t,e){e&&e()},e.prototype.loadTextureByURL=function(t,e){e&&e()},e.prototype.showBannerAd=function(t,e){void 0===e&&(e=!0)},e.prototype.hideBannerAd=function(){},e.prototype.onlyShowBannerAd=function(){},e.prototype.onlyHideBannerAd=function(){},e.prototype.showVideoAd=function(t){t&&t()},e.prototype.showInsertAd=function(t){t&&t()},e.prototype.getThridConfig=function(){var t={ysgg:"1",tscpkg:"0",ptcpkg:"1",bannerkg:"1",ysggtest:"1",tscpkgtest:"0",ptcpkgtest:"1",bannerkgtest:"1",httckg:"1",httckgtest:"1",gameConfig:"1"};return console.log("this._thridConfig  : ",t),t},e.prototype.createUserInfoButton=function(t,e){var o;console.log("ly.createUserInfoButton"),o={btnNode:null,show:function(){this.btnNode&&(this.btnNode.active=!0)},hide:function(){this.btnNode&&(this.btnNode.active=!1)},destroy:function(){this.btnNode.destroy(),o=null}};var n=new cc.Node;return n.parent=t,n.setContentSize(t.getContentSize()),l.default.onRegisterBtnEvent(n,function(){console.log("\u70b9\u51fbly\u6388\u6743\u6309\u94ae\uff01"),e&&e()}),o.btnNode=n,o},e}(r.default);o.default=u,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/UIHelp":"UIHelp","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkAndroidJK:[function(t,e,o){"use strict";cc._RF.push(e,"5ced6d6GHhHGLx7clos9m18","SdkAndroidJK");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../../GameDataCenter"),l=t("../../network/XmlHttp"),d=t("../../../logic/others/UIHelp"),u=t("../../../logic/others/ServerCtr"),p=t("../../../logic/ui/pause/UIPrompt"),h=function(t){function e(){var e=t.call(this)||this;return e._userInfo={code:"",userInfo:{nickName:"",avatarUrl:""},query:{},systemInfo:null},e._isSdkLogin=!1,e._loginOver=null,e}return i(e,t),e.prototype.getUserInfo=function(){return this._userInfo},e.prototype.initSdk=function(t){cc.game.on(cc.game.EVENT_SHOW,function(t){cc.log("EVENT_SHOW"),a.default.emit(c.EGameEvent.GAME_SHOW,t)}),cc.game.on(cc.game.EVENT_HIDE,function(t){cc.log("EVENT_HIDE"),a.default.emit(c.EGameEvent.GAME_HIDE,t)}),cc.director.on("JSCALLFUN",this.javaCallBack.bind(this),this),t&&t(!0)},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e){t._loginOver=function(){e()};var o=s.default.account.getAccount();console.log("\u767b\u9646sdk"),o&&""!=o?t.goVerified():jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","doLogin","()V")})},e.prototype.goVerified=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getVerifiedInfo","()V")},e.prototype.openAppBox=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jumpLeisureSubject","()V")},e.prototype.javaCallBack=function(t,e){switch(console.log("javaCallBack",t,e),t){case"login":if("Fail"!=e){var o=JSON.parse(e);s.default.account.setAccount(o.ssoid),s.default.account.setBaseUserInfoByKey("nickName",o.userName),s.default.account.setBaseUserInfoByKey("bindState",1),s.default.account.saveBaseUserInfo(),u.default.bindAccount({nickName:o.userName},function(){})}this.goVerified();break;case"verified":"Exit"==e?d.default.showUI(p.default,null,{okBtnStr:"\u9000\u51fa",tipStr:"\u9632\u6c89\u8ff7\u8ba4\u8bc1\u5931\u8d25\uff01\u65e0\u6cd5\u8fdb\u5165\u6e38\u620f\uff01",showNoBtn:!1,cbFun:function(t){void 0===t&&(t=!0),cc.director.end()}}):(this._loginOver&&this._loginOver(),this._loginOver=null)}},e.prototype.sendEvent=function(t,e){void 0===e&&(e="");var o="onEvent",n="(Ljava/lang/String;)V";"stagestart"==t?(o="startLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagecomplete"==t?(o="finishLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagefail"==t||"stagequit"==t?(o="failLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):(n="(Ljava/lang/String;Ljava/lang/String;)V",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,t,e))},e.prototype.updateLeaderBoardScore=function(t,e,o){void 0===o&&(o=""),e&&e()},e.prototype.getLeaderBoardConnect=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getLeaderBoardMain=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getPlayerEntryAsync=function(t,e){e&&e()},e.prototype.shareData=function(t,e){e&&e()},e.prototype.loadTextureByURL=function(t,e){e&&e()},e.prototype.showBannerAd=function(t,e){void 0===e&&(e=!0)},e.prototype.hideBannerAd=function(){},e.prototype.onlyShowBannerAd=function(){},e.prototype.onlyHideBannerAd=function(){},e.prototype.showVideoAd=function(t){t&&t()},e.prototype.showInsertAd=function(t){t&&t()},e.prototype.getThridConfig=function(){var t={ysgg:"1",tscpkg:"0",ptcpkg:"1",bannerkg:"1",ysggtest:"1",tscpkgtest:"0",ptcpkgtest:"1",bannerkgtest:"1",httckg:"1",httckgtest:"1",gameConfig:"1"};return console.log("this._thridConfig  : ",t),t},e.prototype.createUserInfoButton=function(t,e){var o,n=this;console.log("ly.createUserInfoButton"),o={btnNode:null,show:function(){this.btnNode&&(this.btnNode.active=!0)},hide:function(){this.btnNode&&(this.btnNode.active=!1)},destroy:function(){this.btnNode.destroy(),o=null}};var i=new cc.Node;return i.parent=t,i.setContentSize(t.getContentSize()),d.default.onRegisterBtnEvent(i,function(){if(console.log("\u70b9\u51fbly\u6388\u6743\u6309\u94ae\uff01"),n._isSdkLogin){var t=s.default.account.getAccount();t&&""!=t?l.default.request("https://xyx.lfungame.com/login/get_wx_login_user_msg",{user_id:t},function(t){do{if(!t)break;var o=void 0;if("object"==typeof t?o=t:"string"==typeof t&&t.length>0&&(o=JSON.parse(t)),!o.data){console.error("\u670d\u52a1\u5668\u4e0b\u53d1\u6570\u636e\u6709\u8bef, no data, sData=",o);break}return n._userInfo.userInfo.nickName=o.data.nick_name,n._userInfo.userInfo.avatarUrl=o.data.head_image,void e(n._userInfo.userInfo)}while(0);e&&e()},"",null,"GET"):e&&e()}else e&&e()}),o.btnNode=i,o},e}(r.default);o.default=h,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/UIHelp":"UIHelp","../../../logic/ui/pause/UIPrompt":"UIPrompt","../../event/EventMng":"EventMng","../../network/XmlHttp":"XmlHttp","./SdkBase":"SdkBase"}],SdkAndroidZQ:[function(t,e,o){"use strict";cc._RF.push(e,"1c385YhhCpPJ6QYqZftoldb","SdkAndroidZQ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../data/Config"),a=t("../../../data/ConstantCf"),c=t("../../../GameDataCenter"),s=t("../../../logic/others/ServerCtr"),l=t("../../../logic/others/UIHelp"),d=t("../../../logic/ui/pause/UIPrompt"),u=t("../../event/EventMng"),p=function(t){function e(){var e=t.call(this)||this;return e.code="",e._loginOver=null,e._videoCallBack=null,e}return i(e,t),e.prototype.initSdk=function(t){cc.game.on(cc.game.EVENT_SHOW,function(t){cc.log("EVENT_SHOW"),u.default.emit(a.EGameEvent.GAME_SHOW,t)}),cc.game.on(cc.game.EVENT_HIDE,function(t){cc.log("EVENT_HIDE"),u.default.emit(a.EGameEvent.GAME_HIDE,t)}),cc.director.on("JSCALLFUN",this.javaCallBack.bind(this),this),t&&t(!0)},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e){if(r.default.gameCf.isVerified){t._loginOver=function(){e()};var o=c.default.account.getAccount();if(console.log("\u767b\u9646sdk"),o&&""!=o)return void t.goVerified();jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","doLogin","()V")}else e()})},e.prototype.goVerified=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getVerifiedInfo","()V")},e.prototype.openAppBox=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jumpLeisureSubject","()V")},e.prototype.onVibrate=function(t){void 0===t&&(t=0),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","onVibrate","()V")},e.prototype.javaCallBack=function(t,e){var o=this;switch(console.log("javaCallBack",t,e),t){case"login":if("Fail"!=e){var n=JSON.parse(e);c.default.account.setAccount(n.ssoid),c.default.account.setBaseUserInfoByKey("nickName",n.userName),c.default.account.setBaseUserInfoByKey("bindState",1),c.default.account.saveBaseUserInfo(),s.default.bindAccount({nickName:n.userName},function(){})}this.goVerified();break;case"verified":"Exit"==e?l.default.showUI(d.default,null,{okBtnStr:"\u9000\u51fa",tipStr:"\u9632\u6c89\u8ff7\u8ba4\u8bc1\u5931\u8d25\uff01\u65e0\u6cd5\u8fdb\u5165\u6e38\u620f\uff01",showNoBtn:!1,cbFun:function(t){void 0===t&&(t=!0),cc.director.end()}}):setTimeout(function(){o._loginOver&&o._loginOver(),o._loginOver=null},100);break;case"video":this._videoCallBack&&this._videoCallBack(e)}},Object.defineProperty(e.prototype,"videoCallBack",{set:function(t){this._videoCallBack=t},enumerable:!1,configurable:!0}),e.prototype.sendEvent=function(t,e){void 0===e&&(e="")},e}(t("./SdkBase").default);o.default=p,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/UIHelp":"UIHelp","../../../logic/ui/pause/UIPrompt":"UIPrompt","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkAndroid:[function(t,e,o){"use strict";cc._RF.push(e,"2af87r3gtVGxaHBxDJ+5ZUh","SdkAndroid");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../data/Config"),a=t("../../../data/ConstantCf"),c=t("../../../GameDataCenter"),s=t("../../../logic/others/ServerCtr"),l=t("../../../logic/others/UIHelp"),d=t("../../../logic/ui/pause/UIPrompt"),u=t("../../event/EventMng"),p=function(t){function e(){var e=t.call(this)||this;return e.code="",e._loginOver=null,e._videoCallBack=null,e}return i(e,t),e.prototype.initSdk=function(t){cc.game.on(cc.game.EVENT_SHOW,function(t){cc.log("EVENT_SHOW"),u.default.emit(a.EGameEvent.GAME_SHOW,t)}),cc.game.on(cc.game.EVENT_HIDE,function(t){cc.log("EVENT_HIDE"),u.default.emit(a.EGameEvent.GAME_HIDE,t)}),cc.director.on("JSCALLFUN",this.javaCallBack.bind(this),this),t&&t(!0)},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e){if(r.default.gameCf.isVerified){t._loginOver=function(){e(!0)};var o=c.default.account.getAccount();if(console.log("\u767b\u9646sdk"),o&&""!=o)return void t.goVerified();jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","doLogin","()V")}else e(!0)})},e.prototype.goVerified=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getVerifiedInfo","()V")},e.prototype.openAppBox=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jumpLeisureSubject","()V")},e.prototype.onVibrate=function(t){void 0===t&&(t=0),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","onVibrate","()V")},e.prototype.javaCallBack=function(t,e){var o=this;switch(console.log("javaCallBack",t,e),t){case"login":if("Fail"!=e){var n=JSON.parse(e);c.default.account.setAccount(n.ssoid),c.default.account.setBaseUserInfoByKey("nickName",n.userName),c.default.account.setBaseUserInfoByKey("bindState",1),c.default.account.saveBaseUserInfo(),s.default.bindAccount({nickName:n.userName},function(){})}this.goVerified();break;case"verified":"Exit"==e?l.default.showUI(d.default,null,{okBtnStr:"\u9000\u51fa",tipStr:"\u9632\u6c89\u8ff7\u8ba4\u8bc1\u5931\u8d25\uff01\u65e0\u6cd5\u8fdb\u5165\u6e38\u620f\uff01",showNoBtn:!1,cbFun:function(t){void 0===t&&(t=!0),cc.director.end()}}):setTimeout(function(){o._loginOver&&o._loginOver(),o._loginOver=null},100);break;case"video":this._videoCallBack&&this._videoCallBack(e)}},Object.defineProperty(e.prototype,"videoCallBack",{set:function(t){this._videoCallBack=t},enumerable:!1,configurable:!0}),e.prototype.sendEvent=function(t,e){void 0===e&&(e="");var o="onEvent",n="(Ljava/lang/String;)V";"stagestart"==t?(o="startLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagecomplete"==t?(o="finishLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):"stagefail"==t||"stagequit"==t?(o="failLevel",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,e)):(n="(Ljava/lang/String;Ljava/lang/String;)V",jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",o,n,t,e))},e}(t("./SdkBase").default);o.default=p,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/UIHelp":"UIHelp","../../../logic/ui/pause/UIPrompt":"UIPrompt","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkBL:[function(t,e,o){"use strict";cc._RF.push(e,"8fb5b4zG+pH6Zp5ZmBX1Jxc","SdkBL");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../../data/Config"),c=(t("../../../logic/others/ServerCtr"),t("../../../logic/others/TipsMng")),s=t("../../event/EventMng"),l=t("../../../data/ConstantCf"),d=function(t){function e(){var e=t.call(this)||this;return e._wxUserInfo={code:"",userInfo:{encryptedData:"",iv:"",nickName:"",avatarUrl:"",gender:0,city:"",province:"",country:"",rawData:"",signature:""},query:{},systemInfo:null},e.weChatLoginStatus=!1,e.shareTimeId=null,e.shareDelayTime=1,e.createTimestamp=0,e.shareSuccessCallBack=null,e.shareFailCallBack=null,e}return i(e,t),e.prototype.loadSub=function(t){return new Promise(function(e,o){cc.sys.platform!=cc.sys.WECHAT_GAME?e():bl.loadSubpackage({name:t,success:function(){console.log("load subpackage successfully.",t),e()},fail:function(){o("\u52a0\u8f7d\u5b50\u5305\u5931\u8d25\uff01name:"+t)}})})},e.prototype.initSdk=function(t){console.log("bl init"),this.onNetworkStatusChange(function(t){t.isConnected||c.default.showTips("\u5f53\u524d\u7f51\u7edc\u8f83\u5dee,\u8bf7\u68c0\u6d4b\u60a8\u7684\u7f51\u7edc!")}),bl.launchSuccess(),this.initWxSdk(),t&&t(!0)},e.prototype.initWxSdk=function(){var t=this;this.getLaunchOptionsSync(),this.getSystemInfo(),this.showShareMenu(),this.onShareAppMessage(a.default.gameCf.shareTitle,a.default.gameCf.shareUrl,this._wxUserInfo.query.toString()),this.setKeepScreenOn(),this.onAudioInterruptionEnd(function(){}),this.onMemoryWarning(),this.onShow(function(e){console.log("bl_onShow:",e),t.checkPostShareEvent(),t.setKeepScreenOn(),cc.game.resume(),s.default.emit(l.EGameEvent.GAME_SHOW,e)}),this.onHide(function(){console.log("bl_hide"),s.default.emit(l.EGameEvent.GAME_HIDE),cc.game.pause()})},e.prototype.loginSdk=function(t){var e=this;return new Promise(function(o,n){var i;t?o():(i={success:function(t){e._wxUserInfo.code=t.code,o()},fail:function(t){console.log("login =======",t),n("\u5fae\u4fe1\u767b\u5f55\u5931\u8d25!")}},bl.login(i))})},e.prototype.createUserInfoButton=function(t,e){var o=this;console.log("bl.createUserInfoButton");var n=t,i=new cc.Size(n.width+10,n.height+10),r=cc.view.getFrameSize(),a=cc.director.getWinSize(),c=cc.director.getScene().getChildByName("Canvas").convertToNodeSpaceAR(n.convertToWorldSpaceAR(new cc.Vec2(0,0))),s={type:"text",text:"",style:{left:(.5*a.width+c.x-.5*i.width)/a.width*r.width,top:(.5*a.height-c.y-.5*i.height)/a.height*r.height,width:i.width/a.width*r.width,height:i.height/a.height*r.height,lineHeight:0,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}},l=bl.createUserInfoButton(s);return l.show(),l.onTap(function(t){if(console.log("onTap res: "+t),t.userInfo){for(var n in t.userInfo)!0===t.userInfo.hasOwnProperty(n)&&(o._wxUserInfo.userInfo[n]=t.userInfo[n]);o._wxUserInfo.userInfo.encryptedData=t.encryptedData,o._wxUserInfo.userInfo.iv=t.iv,o._wxUserInfo.userInfo.rawData=t.rawData,o._wxUserInfo.userInfo.signature=t.signature,console.log("this._wxUserInfo = ",o._wxUserInfo),l.destroy(),e(o._wxUserInfo.userInfo)}else bl.showToast({title:"\u6388\u6743\u5931\u8d25"}),e()}),l},e.prototype.authorize=function(t,e){var o={scope:t,success:function(){e&&e(!0)},fail:function(){e&&e(!1)}};bl.authorize(o)},e.prototype.createBannerAd=function(t){return bl.createBannerAd(t)},e.prototype.createRewardedVideoAd=function(t){return bl.createRewardedVideoAd({adUnitId:t})},e.prototype.showShareMenu=function(){bl.showShareMenu({withShareTicket:!0,success:function(t){cc.log("\u5f00\u542f\u5206\u4eab\uff1a"+JSON.stringify(t))},fail:function(t){cc.log("\u5206\u4eab\u5931\u8d25\uff1a"+JSON.stringify(t))}})},e.prototype.navigateToMiniProgram=function(t,e,o,n){var i={appId:t,path:e||"",extraData:o||"",envVersion:"release",success:function(){cc.log("go success"),n&&n(!0)},fail:function(t){cc.log("fail",t),n&&n(!1)}};bl.navigateToMiniProgram(i)},e.prototype.getShareInfo=function(t,e,o){console.log("get shareInfo:",t);var n={shareTicket:t,success:e,fail:o};bl.getShareInfo(n)},e.prototype.getUpdateManager=function(t){var e=bl.getUpdateManager();e.onCheckForUpdate(function(e){console.log("onCheckForUpdate",e),e.hasUpdate||t(!0)}),e.onUpdateReady(function(){bl.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u68c0\u6d4b\u5230\u65b0\u7248\u672c\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(o){o.confirm?e.applyUpdate():o.cancel&&t(!0)}})}),e.onUpdateFailed(function(){console.error("\u65b0\u7684\u7248\u672c\u4e0b\u8f7d\u5931\u8d25"),t(!1),bl.showModal({title:"\u5df2\u7ecf\u6709\u65b0\u7248\u672c\u4e86\u54df~",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u4e0a\u7ebf\u5566~\uff0c\u8bf7\u60a8\u5220\u9664\u5f53\u524d\u5c0f\u7a0b\u5e8f\uff0c\u91cd\u65b0\u641c\u7d22\u6253\u5f00\u54df~"})})},e.prototype.getLaunchOptionsSync=function(){var t=bl.getLaunchOptionsSync();this._wxUserInfo.query=t.query},e.prototype.getSystemInfo=function(t){var e=this,o={success:function(o){console.log("getSystemInfo =",o),e._wxUserInfo.systemInfo=o,t&&t(!0)},fail:function(){t&&t(!1)},complete:function(){t&&t(!1)}};bl.getSystemInfo(o)},e.prototype.onShareAppMessage=function(t,e,o){void 0===t&&(t=""),void 0===e&&(e=""),void 0===o&&(o=""),bl.onShareAppMessage(function(){return{title:t,imageUrl:e,query:o}})},e.prototype.setKeepScreenOn=function(){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};bl.setKeepScreenOn(t)},e.prototype.onNetworkStatusChange=function(t){console.log("wx onNetworkStatusChange"),bl.onNetworkStatusChange(function(e){console.log("\u7f51\u7edc\u72b6\u6001\uff1a",e.isConnected,"\u7f51\u7edc\u7c7b\u578b",e.networkType),t&&t(e)})},e.prototype.onAudioInterruptionEnd=function(t){bl.onAudioInterruptionEnd(t)},e.prototype.onMemoryWarning=function(){var t=this;bl.onMemoryWarning(function(){console.error("onMemoryWarningReceive,\u5185\u5b58\u8b66\u544a!!!"),t.onGameCollectGC()})},e.prototype.onGameCollectGC=function(){bl.triggerGC()},e.prototype.onShow=function(t){bl.onShow(t)},e.prototype.onHide=function(t){bl.onHide(t)},e.prototype.shareAppMessage=function(t,e,o,n,i){var r=this;clearTimeout(this.shareTimeId),this.shareSuccessCallBack=n,this.shareFailCallBack=i;var a={title:t,imageUrl:e,query:o,success:function(){console.log("share success"),r.shareSuccessCallBack&&r.shareSuccessCallBack(),r.shareSuccessCallBack=null,r.shareFailCallBack=null},fail:function(){console.log("share fail"),r.shareFailCallBack&&r.shareFailCallBack(),r.shareSuccessCallBack=null,r.shareFailCallBack=null}};console.error("shareAppMessage:",a),bl.shareAppMessage(a)},e.prototype.checkPostShareEvent=function(){if(null!=this.shareTimeId){var t=(new Date).getTime()-this.createTimestamp;console.log("\u5206\u4eab\u754c\u9762\u79bb\u5f00\u7684\u65f6\u5dee = ",t),t<1e3*this.shareDelayTime&&(clearTimeout(this.shareTimeId),this.shareTimeId=null,this.createTimestamp=0,this.shareSuccessCallBack=null,this.shareFailCallBack=null,c.default.showTips("\u8bf7\u5206\u4eab\u5230\u7fa4\u54e6~"))}},e.prototype.getOpenDataContext=function(){return bl.getOpenDataContext()},e.prototype.postMessage=function(){},e.prototype.getCode=function(){return this._wxUserInfo.code},e.prototype.getQueryStr=function(){return JSON.stringify(this._wxUserInfo.query)},e.prototype.getUserInfo=function(){return this._wxUserInfo},e.prototype.onVibrate=function(t){void 0===t&&(t=0)},e}(r.default);o.default=d,cc._RF.pop()},{"../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/TipsMng":"TipsMng","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkBaidu:[function(t,e,o){"use strict";cc._RF.push(e,"cd4f4AvmkxEII7fzUaIROme","SdkBaidu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../../data/Config"),c=function(t){function e(){var e=t.call(this)||this;return e._userInfo={code:"",userInfo:{encryptedData:"",iv:"",nickName:"",avatarUrl:"",gender:0,city:"",province:"",country:"",rawData:"",signature:""},query:{},systemInfo:null},e._sdk=window.swan,e}return i(e,t),e.prototype.loadSub=function(t){var e=this;return new Promise(function(o,n){cc.sys.platform!=cc.sys.BAIDU_GAME?o():e._sdk.loadSubpackage({name:t,success:function(){console.log("load subpackage successfully.",t),o()},fail:function(){n("\u52a0\u8f7d\u5b50\u5305\u5931\u8d25\uff01name:"+t)}}).onProgressUpdate(function(t){console.log("\u5206\u5305\u4e0b\u8f7d\u8fdb\u5ea6\u767e\u5206\u6bd4",t.progress),console.log("\u5df2\u7ecf\u4e0b\u8f7d\u7684\u6570\u636e\u957f\u5ea6",t.totalBytesWritten),console.log("\u6570\u636e\u603b\u957f\u5ea6",t.totalBytesExpectedToWrite)})})},e.prototype.initSdk=function(t){var e=this;this.getLaunchOptionsSync(),this.onShow(function(t){console.log("qg_onShow:",t),e.setKeepScreenOn(),cc.game.resume()}),this.onHide(function(){console.log("qg_hide"),cc.game.pause()}),this.onShareAppMessage(a.default.gameCf.shareTitle,a.default.gameCf.shareUrl,this._userInfo.query.toString()),this.showShareMenu(),t&&t(!0)},e.prototype.getLaunchOptionsSync=function(){if(cc.sys.platform==cc.sys.BAIDU_GAME){var t=this._sdk.getLaunchOptionsSync();this._userInfo.query=t.query,console.log("login query",t.query)}},e.prototype.onShareAppMessage=function(t,e,o){void 0===t&&(t=null),void 0===e&&(e=null),cc.sys.platform==cc.sys.BAIDU_GAME&&this._sdk.onShareAppMessage(function(){return{title:t,imageUrl:e,query:o}})},e.prototype.showShareMenu=function(){cc.sys.platform==cc.sys.BAIDU_GAME&&this._sdk.showShareMenu({withShareTicket:!0,success:function(t){cc.log("\u5f00\u542f\u5206\u4eab\uff1a"+JSON.stringify(t))},fail:function(t){cc.log("\u5206\u4eab\u5931\u8d25\uff1a"+JSON.stringify(t))}})},e.prototype.setKeepScreenOn=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};this._sdk.setKeepScreenOn(t)}},e.prototype.loginSdk=function(t){var e=this;return new Promise(function(o,n){if(cc.sys.platform==cc.sys.BAIDU_GAME){t?o(!0):(i={success:function(t){e._userInfo.code=t.code,o(!0)},fail:function(t){console.log("login =======",t),n("\u767e\u5ea6\u5c0f\u6e38\u620f\u767b\u5f55\u5931\u8d25!")}},e._sdk.login(i))}else n("\u4e0d\u662f\u767e\u5ea6\u5c0f\u6e38\u620f\u5e73\u53f0!");var i})},e.prototype.getCode=function(){return this._userInfo.code},e.prototype.onShow=function(t){cc.sys.platform==cc.sys.BAIDU_GAME&&this._sdk.onShow(t)},e.prototype.onHide=function(t){cc.sys.platform==cc.sys.BAIDU_GAME&&this._sdk.onHide(t)},e.prototype.createBannerAd=function(t){if(cc.sys.platform==cc.sys.BAIDU_GAME)return console.log(" swan.createBannerAd !!!!!"+JSON.stringify(t)),this._sdk.createBannerAd(t)},e.prototype.createRewardedVideoAd=function(t){if(cc.sys.platform==cc.sys.BAIDU_GAME)return this._sdk.createRewardedVideoAd(t)},e.prototype.navigateToMiniProgram=function(t,e,o){var n=this;return new Promise(function(i,r){if(cc.sys.platform==cc.sys.BAIDU_GAME){var a={appKey:t,path:e||"",extraData:o||{},success:function(){console.log("go success"),i()},fail:function(t){console.log("fail",t),r(new Error(t.errMsg))}};n._sdk.navigateToMiniProgram(a)}else r("\u4e0d\u662f\u767e\u5ea6\u5c0f\u6e38\u620f\u5e73\u53f0")})},e.prototype.postMessage=function(t){cc.sys.platform==cc.sys.BAIDU_GAME&&this._sdk.getOpenDataContext().postMessage(t)},e.prototype.createUserInfoButton=function(t,e){console.log("swan.createUserInfoButton");var o=t,n=new cc.Size(o.width+10,o.height+10),i=cc.view.getFrameSize(),r=cc.director.getWinSize(),a=cc.director.getScene().getChildByName("Canvas").convertToNodeSpaceAR(o.convertToWorldSpaceAR(new cc.Vec2(0,0))),c={type:"text",text:"",style:{left:(.5*r.width+a.x-.5*n.width)/r.width*i.width,top:(.5*r.height-a.y-.5*n.height)/r.height*i.height,width:n.width/r.width*i.width,height:n.height/r.height*i.height,lineHeight:0,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}},s=this._sdk.createUserInfoButton(c);return s.show(),s.onTap(function(t){var o=t.userinfo,n=t.data,i=t.iv,r=t.swanid;console.log("onTap res: ",o,n,i,r),o?(s.destroy(),e({nickName:o.nickname,avatarUrl:o.headimgurl})):e()}),s},e.prototype.onVibrate=function(t){void 0===t&&(t=0),t?swan.vibrateShort({}):swan.vibrateLong({})},e}(r.default);o.default=c,cc._RF.pop()},{"../../../data/Config":"Config","./SdkBase":"SdkBase"}],SdkBase:[function(t,e,o){"use strict";cc._RF.push(e,"322e1vmmw1K4JOk95xf0B2I","SdkBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.channelId=""}return t.prototype.loadSub=function(){return new Promise(function(t){t(null)})},t.prototype.initSdk=function(t){t&&t()},t.prototype.loginSdk=function(){return new Promise(function(t){t()})},t.prototype.loginOk=function(){},t.prototype.loadOk=function(){},t.prototype.updateLeaderBoardScore=function(t,e,o){void 0===o&&(o=""),e&&e()},t.prototype.getLeaderBoardConnect=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},t.prototype.getLeaderBoardMain=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},t.prototype.getPlayerEntryAsync=function(t,e){e&&e()},t.prototype.shareData=function(t,e){e&&e()},t.prototype.loadTextureByURL=function(t,e){e&&e()},t.prototype.showBannerAd=function(t,e){void 0===e&&(e=!0)},t.prototype.hideBannerAd=function(){},t.prototype.onlyShowBannerAd=function(){},t.prototype.onlyHideBannerAd=function(){},t.prototype.showVideoAd=function(t){t&&t()},t.prototype.shareAppMessage=function(t,e,o,n){n&&n()},t.prototype.showInsertAd=function(t){t&&t()},t.prototype.getCode=function(){return""},t.prototype.getAnonymousCode=function(){return""},t.prototype.infoMapData=function(){return{}},t.prototype.createUserInfoButton=function(){return null},t.prototype.postMessage=function(){},t.prototype.getUserInfo=function(){return null},t.prototype.getQueryStr=function(){return""},t.prototype.onVibrate=function(t){void 0===t&&(t=0)},t.prototype.navigateToMiniProgram=function(){},t.prototype.createNativeAd=function(){},t.prototype.createInsertAd=function(){},t.prototype.ylGetCustom=function(){},t.prototype.getThridConfig=function(){},t.prototype.ThridSdkInit=function(){return new Promise(function(t){t(null)})},t.prototype.checkAddDesktop=function(t){t&&t(!1)},t.prototype.onAddDesktop=function(t){t&&t(!0)},t.prototype.gameRecorder=function(t,e){e&&e(!0)},t.prototype.userInfo=function(){return null},t.prototype.addQuickGame=function(){},t.prototype.sendEvent=function(t,e){void 0===e&&(e="")},t.prototype.openAppBox=function(){},t.prototype.sendLaunchData=function(){},t}();o.default=n,cc._RF.pop()},{}],SdkH5:[function(t,e,o){"use strict";cc._RF.push(e,"acb11UpLqdGGIE04JfRwL6v","SdkH5");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../event/EventMng"),c=t("../../../data/ConstantCf"),s=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.initSdk=function(t){t&&t(!0)},e.prototype.loginSdk=function(){return new Promise(function(t){cc.game.on(cc.game.EVENT_SHOW,function(t){cc.log("EVENT_SHOW"),a.default.emit(c.EGameEvent.GAME_SHOW,t)}),cc.game.on(cc.game.EVENT_HIDE,function(t){cc.log("EVENT_HIDE"),a.default.emit(c.EGameEvent.GAME_HIDE,t)}),t()})},e.prototype.updateLeaderBoardScore=function(t,e,o){void 0===o&&(o=""),e&&e()},e.prototype.getLeaderBoardConnect=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getLeaderBoardMain=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=0),e&&e()},e.prototype.getPlayerEntryAsync=function(t,e){e&&e()},e.prototype.shareData=function(t,e){e&&e()},e.prototype.loadTextureByURL=function(t,e){e&&e()},e.prototype.showBannerAd=function(t,e){void 0===e&&(e=!0)},e.prototype.hideBannerAd=function(){},e.prototype.onlyShowBannerAd=function(){},e.prototype.onlyHideBannerAd=function(){},e.prototype.showVideoAd=function(t){t&&t()},e.prototype.showInsertAd=function(t){t&&t()},e.prototype.getThridConfig=function(){var t={ysgg:"1",tscpkg:"0",ptcpkg:"1",bannerkg:"1",ysggtest:"1",tscpkgtest:"0",ptcpkgtest:"1",bannerkgtest:"1",httckg:"1",httckgtest:"1",gameConfig:"1"};return console.log("this._thridConfig  : ",t),t},e}(r.default);o.default=s,cc._RF.pop()},{"../../../data/ConstantCf":"ConstantCf","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkOppo:[function(t,e,o){"use strict";cc._RF.push(e,"9e38dogarNB7Yw4SbXW+xLw","SdkOppo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../data/ConstantCf"),a=t("../../event/EventMng"),c=function(t){function e(){var e=t.call(this)||this;return e.code="",e._thridConfig=null,e}return i(e,t),e.prototype.loadSub=function(){return new Promise(function(){})},e.prototype.initSdk=function(t){var e=this;this.InitAdService(),this.onShow(function(t){console.log("qg_onShow:",t),e.setKeepScreenOn(),cc.game.resume(),setTimeout(function(){a.default.emit(r.EGameEvent.GAME_SHOW)},1e3)}),this.onHide(function(){console.log("qg_hide"),a.default.emit(r.EGameEvent.GAME_HIDE),cc.game.pause()}),t&&t(!0)},e.prototype.ThridSdkInit=function(){var t=this;return new Promise(function(e,o){qg.ylInitSDK(function(n){console.log("res  : ",n),t.ylGetCustom(e,o)})})},e.prototype.setKeepScreenOn=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};qg.setKeepScreenOn(t)}},e.prototype.InitAdService=function(){qg.initAdService({appId:"30244531",isDebug:!1,success:function(){console.log("success")},fail:function(t){console.log("fail:"+t.code+t.msg)},complete:function(){console.log("complete")}})},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e,o){var n={success:function(o){console.log("res",o),t.code=o.token,e(o)},fail:function(t){console.log("login =======",t),o(new Error(t.errMsg))}};qg.login(n)})},e.prototype.getCode=function(){return this.code},e.prototype.infoMapData=function(){return{oppoToken:this.code}},e.prototype.checkAddDesktop=function(t){console.log("checkAddDesktop   ---------"),qg.hasShortcutInstalled({success:function(e){console.log("checkAddDesktop success",e),t&&t(e)},fail:function(e){console.log("checkAddDesktop fail",e),t&&t(!0)},complete:function(){}})},e.prototype.onAddDesktop=function(t){console.log("--onAddDesktop--"),qg.installShortcut({success:function(){console.log("\u521b\u5efa\u6210\u529f\uff01\uff01\uff01"),t&&t(!0)},fail:function(e){console.log("onAddDesktop  : ",e),t&&t(!1)},complete:function(){}})},e.prototype.onShow=function(t){cc.sys.platform==cc.sys.OPPO_GAME&&qg.onShow(t)},e.prototype.onHide=function(t){cc.sys.platform==cc.sys.OPPO_GAME&&qg.onHide(t)},e.prototype.createBannerAd=function(t){if(cc.sys.platform==cc.sys.OPPO_GAME)return console.log(" qg.createBannerAd !!!!!"+JSON.stringify(t)),qg.createBannerAd(t)},e.prototype.createNativeAd=function(t){if(cc.sys.platform==cc.sys.OPPO_GAME)return qg.createNativeAd({adUnitId:t})},e.prototype.createRewardedVideoAd=function(t){if(cc.sys.platform==cc.sys.OPPO_GAME)return qg.createRewardedVideoAd({posId:t})},e.prototype.createInsertAd=function(t){if(cc.sys.platform==cc.sys.OPPO_GAME)return qg.createInsertAd({adUnitId:t})},e.prototype.navigateToMiniProgram=function(t,e,o){if(cc.sys.platform==cc.sys.OPPO_GAME)return new Promise(function(n,i){var r={pkgName:t,path:e||"",extraData:o||"",success:function(){console.log("go success"),n(null)},fail:function(t){console.log("fail",t),i(new Error(t.errMsg))}};qg.navigateToMiniGame(r)})},e.prototype.onShowLoading=function(t){return void 0===t&&(t="\u6e38\u620f\u52a0\u8f7d\u4e2d..."),new Promise(function(e,o){var n={title:t,mask:!0,success:function(){console.log("showLoading = \u6210\u529f"),e(null)},fail:function(){console.log("showLoading = \u5931\u8d25"),o()},complete:function(){}};qg.setLoadingProgress({progress:0}),qg.loadingComplete(n)})},e.prototype.ylGetCustom=function(t,e){var o=this;try{qg.ylGetCustom(function(e){for(var n={},i=0;i<e.length;i++)n[e[i].name]=e[i].value;o._thridConfig=n,console.log("ylGetCustom   \uff1a ",o._thridConfig),t()})}catch(n){console.error(n),e()}},e.prototype.getThridConfig=function(){return console.log("this._thridConfig  : ",this._thridConfig),this._thridConfig},e}(t("./SdkBase").default);o.default=c,cc._RF.pop()},{"../../../data/ConstantCf":"ConstantCf","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkQQ:[function(t,e,o){"use strict";cc._RF.push(e,"702dc85gJxAmItWGpwEluck","SdkQQ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../../data/Config"),c=(t("../../../logic/others/ServerCtr"),t("../../../logic/others/TipsMng")),s=t("../../event/EventMng"),l=t("../../../data/ConstantCf"),d=t("../AdMgr"),u=t("../../../GameController"),p=function(t){function e(){var e=t.call(this)||this;return e._wxUserInfo={code:"",userInfo:{encryptedData:"",iv:"",nickName:"",avatarUrl:"",gender:0,city:"",province:"",country:"",rawData:"",signature:""},query:{},systemInfo:null},e.weChatLoginStatus=!1,e.shareTimeId=null,e.shareDelayTime=1,e.createTimestamp=0,e.shareSuccessCallBack=null,e.shareFailCallBack=null,e.isShowAddColorSign=!1,e._isShowAddDesk=!1,e}return i(e,t),e.prototype.loadSub=function(t){return new Promise(function(e,o){cc.sys.platform!=cc.sys.WECHAT_GAME?e():cc.loader.downloader.loadSubpackage(t,function(n){n?o("\u52a0\u8f7d\u5b50\u5305\u5931\u8d25\uff01name:"+t):(console.log("load subpackage successfully.",t),e())})})},e.prototype.initSdk=function(t){console.log("qq init"),this.onNetworkStatusChange(function(t){t.isConnected||c.default.showTips("\u5f53\u524d\u7f51\u7edc\u8f83\u5dee,\u8bf7\u68c0\u6d4b\u60a8\u7684\u7f51\u7edc!")}),this.initWxSdk(),t&&t(!0)},e.prototype.initWxSdk=function(){var t=this;this.getLaunchOptionsSync(),this.getSystemInfo(),this.showShareMenu(),this.onShareAppMessage(a.default.gameCf.shareTitle,a.default.gameCf.shareUrl,this._wxUserInfo.query.toString()),this.setKeepScreenOn(),this.onAudioInterruptionEnd(function(){}),this.onMemoryWarning(),this.onShow(function(e){console.log("qq_onShow:",e),t.setKeepScreenOn(),s.default.emit(l.EGameEvent.GAME_SHOW,e),s.default.emit(l.EGameEvent.QQ_FRIENDPVP,e)}),this.onHide(function(){console.log("qq_hide"),s.default.emit(l.EGameEvent.GAME_HIDE)})},e.prototype.loginSdk=function(t){var e=this;return new Promise(function(o,n){var i;t?o():(i={success:function(t){e._wxUserInfo.code=t.code,o()},fail:function(t){console.log("login =======",t),n("\u5fae\u4fe1\u767b\u5f55\u5931\u8d25!")}},qq.login(i))})},e.prototype.createUserInfoButton=function(t,e){var o=this;console.log("qq.createUserInfoButton");var n=t,i=new cc.Size(n.width+10,n.height+10),r=cc.view.getFrameSize(),a=cc.director.getWinSize(),c=cc.director.getScene().getChildByName("Canvas").convertToNodeSpaceAR(n.convertToWorldSpaceAR(new cc.Vec2(0,0))),s={type:"text",text:"",style:{left:(.5*a.width+c.x-.5*i.width)/a.width*r.width,top:(.5*a.height-c.y-.5*i.height)/a.height*r.height,width:i.width/a.width*r.width,height:i.height/a.height*r.height,lineHeight:0,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}},l=qq.createUserInfoButton(s);return l.show(),l.onTap(function(t){if(console.log("onTap res: "+t),t.userInfo){for(var n in t.userInfo)!0===t.userInfo.hasOwnProperty(n)&&(o._wxUserInfo.userInfo[n]=t.userInfo[n]);o._wxUserInfo.userInfo.encryptedData=t.encryptedData,o._wxUserInfo.userInfo.iv=t.iv,o._wxUserInfo.userInfo.rawData=t.rawData,o._wxUserInfo.userInfo.signature=t.signature,console.log("this._wxUserInfo = ",o._wxUserInfo),l.destroy(),e(o._wxUserInfo.userInfo)}else qq.showToast({title:"\u6388\u6743\u5931\u8d25"}),e()}),l},e.prototype.authorize=function(t,e){var o={scope:t,success:function(){e&&e(!0)},fail:function(){e&&e(!1)}};qq.authorize(o)},e.prototype.createBannerAd=function(t){return qq.createBannerAd(t)},e.prototype.createRewardedVideoAd=function(t){return qq.createRewardedVideoAd({adUnitId:t})},e.prototype.showShareMenu=function(){qq.showShareMenu({withShareTicket:!0,success:function(t){cc.log("\u5f00\u542f\u5206\u4eab\uff1a"+JSON.stringify(t))},fail:function(t){cc.log("\u5206\u4eab\u5931\u8d25\uff1a"+JSON.stringify(t))}})},e.prototype.navigateToMiniProgram=function(t,e,o,n){var i={appId:t,path:e||"",extraData:o||"",envVersion:"release",success:function(){cc.log("go success"),n&&n(!0)},fail:function(t){cc.log("fail",t),n&&n(!1)}};qq.navigateToMiniProgram(i)},e.prototype.getShareInfo=function(t,e,o){console.log("get shareInfo:",t);var n={shareTicket:t,success:e,fail:o};qq.getShareInfo(n)},e.prototype.getUpdateManager=function(t){var e=qq.getUpdateManager();e.onCheckForUpdate(function(e){console.log("onCheckForUpdate",e),e.hasUpdate||t(!0)}),e.onUpdateReady(function(){qq.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u68c0\u6d4b\u5230\u65b0\u7248\u672c\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(o){o.confirm?e.applyUpdate():o.cancel&&t(!0)}})}),e.onUpdateFailed(function(){console.error("\u65b0\u7684\u7248\u672c\u4e0b\u8f7d\u5931\u8d25"),t(!1),qq.showModal({title:"\u5df2\u7ecf\u6709\u65b0\u7248\u672c\u4e86\u54df~",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u4e0a\u7ebf\u5566~\uff0c\u8bf7\u60a8\u5220\u9664\u5f53\u524d\u5c0f\u7a0b\u5e8f\uff0c\u91cd\u65b0\u641c\u7d22\u6253\u5f00\u54df~"})})},e.prototype.getLaunchOptionsSync=function(){var t=qq.getLaunchOptionsSync();this._wxUserInfo.query=t.query},e.prototype.getSystemInfo=function(t){var e=this,o={success:function(o){console.log("getSystemInfo =",o),e._wxUserInfo.systemInfo=o,t&&t(!0)},fail:function(){t&&t(!1)},complete:function(){t&&t(!1)}};qq.getSystemInfo(o)},e.prototype.onShareAppMessage=function(t,e,o){void 0===t&&(t=""),void 0===e&&(e=""),void 0===o&&(o="");var n=function(){return window.GameGlobal&&window.GameGlobal&&window.GameGlobal.tdAppSdk&&window.GameGlobal.tdAppSdk.share&&window.GameGlobal.tdAppSdk.share({title:t,path:o}),{title:t,imageUrl:e,query:o}};qq.aldOnShareAppMessage?qq.aldOnShareAppMessage(n):qq.onShareAppMessage(n)},e.prototype.setKeepScreenOn=function(){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};qq.setKeepScreenOn(t)},e.prototype.onNetworkStatusChange=function(t){console.log("wx onNetworkStatusChange"),qq.onNetworkStatusChange(function(e){console.log("\u7f51\u7edc\u72b6\u6001\uff1a",e.isConnected,"\u7f51\u7edc\u7c7b\u578b",e.networkType),t&&t(e)})},e.prototype.onAudioInterruptionEnd=function(t){qq.onAudioInterruptionEnd(t)},e.prototype.onMemoryWarning=function(){var t=this;qq.onMemoryWarning(function(){console.error("onMemoryWarningReceive,\u5185\u5b58\u8b66\u544a!!!"),t.onGameCollectGC()})},e.prototype.onGameCollectGC=function(){qq.triggerGC()},e.prototype.onShow=function(t){qq.onShow(t)},e.prototype.onHide=function(t){qq.onHide(t)},e.prototype.shareAppMessage=function(t,e,o,n,i){var r=this;this.shareSuccessCallBack=n,this.shareFailCallBack=i,d.default.instance.adSdk.onShare({title:t,imageUrl:e,query:o}).then(function(t){t?(console.log("share success"),r.shareSuccessCallBack&&r.shareSuccessCallBack(),r.shareSuccessCallBack=null,r.shareFailCallBack=null):(console.log("share fail"),r.shareFailCallBack&&r.shareFailCallBack(),r.shareSuccessCallBack=null,r.shareFailCallBack=null)})},e.prototype.getOpenDataContext=function(){return qq.getOpenDataContext()},e.prototype.postMessage=function(t){qq.getOpenDataContext().postMessage(t)},e.prototype.getCode=function(){return this._wxUserInfo.code},e.prototype.getQueryStr=function(){return JSON.stringify(this._wxUserInfo.query)},e.prototype.getUserInfo=function(){return this._wxUserInfo},e.prototype.onVibrate=function(t){void 0===t&&(t=0),t?qq.vibrateShort({}):qq.vibrateLong({})},e.prototype.addQuickGame=function(){if(!this.isShowAddColorSign){this.isShowAddColorSign=!0;var t=d.default.instance.adSdk;t.isQQ()&&t.sdk.addColorSign()}},e.prototype.checkAddDesktop=function(t){console.log("checkAddDesktop   ---------"),d.default.instance.adSdk.isQQ()?(t&&t(this._isShowAddDesk),this._isShowAddDesk=!0):t&&t(!0)},e.prototype.loginOk=function(){var t=qq.getLaunchOptionsSync(),e=t.scene+"_"+this._wxUserInfo.systemInfo.AppPlatform;t.referrerInfo&&(e=e+"_"+JSON.stringify(t.referrerInfo)),u.default.sendEvent("\u6e20\u9053\u573a\u666f\u503c",e),t.query&&t.query.via&&u.default.sendEvent("\u6e20\u9053\u5206\u7c7b",t.query.via+"_"+(t.query.from||""))},e}(r.default);o.default=p,cc._RF.pop()},{"../../../GameController":"GameController","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/TipsMng":"TipsMng","../../event/EventMng":"EventMng","../AdMgr":"AdMgr","./SdkBase":"SdkBase"}],SdkQTT:[function(t,e,o){"use strict";cc._RF.push(e,"0bb4c7UvYJE+JIkHyURLg+i","SdkQTT");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../../logic/others/ServerCtr"),c=t("../../../logic/others/AudioCtr"),s=function(t){function e(){var e=t.call(this)||this;return e._userInfo={code:"",userInfo:{encryptedData:"",iv:"",nickName:"",avatarUrl:"",gender:0,city:"",province:"",country:"",rawData:"",signature:""},query:{},systemInfo:null,platform:"",appid:"",game_name:""},e._sdk=window.qttGame,e}return i(e,t),e.prototype.loadSub=function(){return new Promise(function(t){t()})},e.prototype.initSdk=function(t){document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState?c.default.resumeBgAudio():c.default.pauseBgAudio()}),t&&t(!0)},e.prototype.reportData=function(t){console.log("reportData   : ",t),this._sdk.reportData(t)},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e){t._sdk.ready(function(){console.log("initSdk  ------------");var o=new Object,n=location.href;if(-1!=n.indexOf("?"))for(var i=n.split("?")[1],r=(i=i.split("#")[0]).split("&"),a=0;a<r.length;a++)o[r[a].split("=")[0]]=unescape(r[a].split("=")[1]);var c=o.app_id,s=o.app_name;t._userInfo.code=o.ticket,t._userInfo.platform=o.platform,t._userInfo.appid=c,t._userInfo.game_name=s,t._sdk.reportData({type:"ready",app_id:t._userInfo.appid,game_name:t._userInfo.game_name,extend_info:{}}),e(!0)})})},e.prototype.loginOk=function(){t.prototype.loadOk.call(this),this._sdk.reportData({type:"login",open_id:a.default.getOpenID(),app_id:this._userInfo.appid,game_name:this._userInfo.game_name,extend_info:{}})},e.prototype.loadOk=function(){t.prototype.loadOk.call(this),this._sdk.reportData({type:"load",open_id:a.default.getOpenID(),app_id:this._userInfo.appid,game_name:this._userInfo.game_name,extend_info:{}}),this._sdk.reportData({type:"start",open_id:a.default.getOpenID(),app_id:this._userInfo.appid,game_name:this._userInfo.game_name,extend_info:{}})},e.prototype.getCode=function(){return this._userInfo.code},e.prototype.userInfo=function(){return this._userInfo},e}(r.default);o.default=s,cc._RF.pop()},{"../../../logic/others/AudioCtr":"AudioCtr","../../../logic/others/ServerCtr":"ServerCtr","./SdkBase":"SdkBase"}],SdkTT:[function(t,e,o){"use strict";cc._RF.push(e,"ea6c0q6UaVNAKbtA6TfQ6tl","SdkTT");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../../data/Config"),c=t("../../../logic/others/ServerCtr"),s=t("../../../logic/others/TipsMng"),l=t("../../event/EventMng"),d=t("../../../data/ConstantCf"),u=t("../../../logic/others/UIHelp"),p=t("../../../GameDataCenter"),h=t("../../../GameController"),f=function(t){function e(){var e=t.call(this)||this;return e._wxUserInfo={code:"",anonymousCode:"",userInfo:{encryptedData:"",iv:"",nickName:"",avatarUrl:"",gender:0,city:"",province:"",country:"",rawData:"",signature:""},query:{},systemInfo:null},e.weChatLoginStatus=!1,e.shareTimeId=null,e.shareDelayTime=1,e.createTimestamp=0,e.shareSuccessCallBack=null,e.shareFailCallBack=null,e._isShowOpenSetting=!1,e._gameRecorderManager=null,e._videoPath="",e._stopEndFun=null,e._shareScene="",e._isAddDesk=-1,e}return i(e,t),e.prototype.loadSub=function(){return new Promise(function(t){t()})},e.prototype.initSdk=function(t){console.log("tt init"),this.onNetworkStatusChange(function(t){t.isConnected||s.default.showTips("\u5f53\u524d\u7f51\u7edc\u8f83\u5dee,\u8bf7\u68c0\u6d4b\u60a8\u7684\u7f51\u7edc!")}),this.initWxSdk(),t&&t(!0)},e.prototype.initWxSdk=function(){var t=this;this.getLaunchOptionsSync(),this.getSystemInfo(),this.showShareMenu(),this.onShareAppMessage(a.default.gameCf.shareTitle,a.default.gameCf.shareUrl),this.setKeepScreenOn(),this.onAudioInterruptionEnd(function(){}),this.onMemoryWarning(),this.onShow(function(e){if(console.log("tt_onShow:",e),t._gameRecorderManager&&t.gameRecorder("resume"),t.checkPostShareEvent(),t.setKeepScreenOn(),cc.game.resume(),Object.keys(e.query).length>0){var o=e.query;o.scene=e.scene,n=o,c.default.sendServerBuyQuantity(n,void 0)}var n;l.default.emit(d.EGameEvent.GAME_SHOW,e)}),this.onHide(function(){console.log("tt_hide"),t._gameRecorderManager&&t.gameRecorder("pause"),l.default.emit(d.EGameEvent.GAME_HIDE),cc.game.pause()})},e.prototype.loginSdk=function(t){var e=this;return new Promise(function(o,n){var i=function(){var t={force:!1,success:function(t){e._wxUserInfo.code=t.code,e._wxUserInfo.anonymousCode=t.anonymousCode,o()},fail:function(t){console.log("login =======",t),n("\u767b\u5f55\u5931\u8d25!")}};tt.login(t)};tt.checkSession({success:function(e){console.log("checkSession success",e),t?o():i()},fail:function(t){console.log("checkSession fail",t),i()}})})},e.prototype.createUserInfoButton=function(t,e){var o,n=this;console.log("tt.createUserInfoButton"),o={btnNode:null,show:function(){this.btnNode&&(this.btnNode.active=!0)},hide:function(){this.btnNode&&(this.btnNode.active=!1)},destroy:function(){this.btnNode.destroy(),o=null}};var i=new cc.Node;return i.parent=t,i.setContentSize(t.getContentSize()),u.default.onRegisterBtnEvent(i,function(){console.log("\u70b9\u51fbTT\u6388\u6743\u6309\u94ae\uff01"),n.authorizeUserInfo(e)}),o.btnNode=i,o},e.prototype.authorizeUserInfo=function(t){var e=this,o=function(){tt.getUserInfo({success:function(o){if(console.log("getUserInfo \u8c03\u7528\u6210\u529f "+o.userInfo),o.userInfo){for(var n in o.userInfo)!0===o.userInfo.hasOwnProperty(n)&&(e._wxUserInfo.userInfo[n]=o.userInfo[n]);t&&t(e._wxUserInfo.userInfo)}else t&&t()},fail:function(e){console.log("getUserInfo \u8c03\u7528\u5931\u8d25",e),t&&t()}})};tt.getSetting({success:function(n){console.log(n),n.authSetting&&n.authSetting["scope.userInfo"]?o():tt.authorize({scope:"scope.userInfo",success:function(){console.log("authorize \u6210\u529f"),o()},fail:function(n){console.log("authorize \u5931\u8d25",n),e._isShowOpenSetting?t&&t():(e._isShowOpenSetting=!0,tt.openSetting({success:function(e){e.authSetting&&e.authSetting["scope.userInfo"]?o():t&&t()}}))}})}})},e.prototype.authorize=function(t,e){var o={scope:t,success:function(){e&&e(!0)},fail:function(){e&&e(!1)}};tt.authorize(o)},e.prototype.createBannerAd=function(t){return tt.createBannerAd(t)},e.prototype.createRewardedVideoAd=function(t){return tt.createRewardedVideoAd({adUnitId:t})},e.prototype.showShareMenu=function(){tt.showShareMenu({withShareTicket:!0,success:function(t){cc.log("\u5f00\u542f\u5206\u4eab\uff1a"+JSON.stringify(t))},fail:function(t){cc.log("\u5206\u4eab\u5931\u8d25\uff1a"+JSON.stringify(t))}})},e.prototype.navigateToMiniProgram=function(t,e,o,n){var i={appId:t,path:e||"",extraData:o||"",envVersion:"release",success:function(){cc.log("go success"),n&&n(!0)},fail:function(t){cc.log("fail",t),n&&n(!1)}};tt.navigateToMiniProgram(i)},e.prototype.getShareInfo=function(t,e,o){console.log("get shareInfo:",t);var n={shareTicket:t,success:e,fail:o};tt.getShareInfo(n)},e.prototype.getUpdateManager=function(t){var e=tt.getUpdateManager();e.onCheckForUpdate(function(e){console.log("onCheckForUpdate",e),e.hasUpdate||t(!0)}),e.onUpdateReady(function(){tt.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u68c0\u6d4b\u5230\u65b0\u7248\u672c\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(o){o.confirm?e.applyUpdate():o.cancel&&t(!0)}})}),e.onUpdateFailed(function(){console.error("\u65b0\u7684\u7248\u672c\u4e0b\u8f7d\u5931\u8d25"),t(!1),tt.showModal({title:"\u5df2\u7ecf\u6709\u65b0\u7248\u672c\u4e86\u54df~",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u4e0a\u7ebf\u5566~\uff0c\u8bf7\u60a8\u5220\u9664\u5f53\u524d\u5c0f\u7a0b\u5e8f\uff0c\u91cd\u65b0\u641c\u7d22\u6253\u5f00\u54df~"})})},e.prototype.getLaunchOptionsSync=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){var t=tt.getLaunchOptionsSync();this._wxUserInfo.query=t.query}},e.prototype.getSystemInfo=function(t){var e=this,o={success:function(o){console.log("getSystemInfo =",o),e._wxUserInfo.systemInfo=o,t&&t(!0)},fail:function(){t&&t(!1)},complete:function(){t&&t(!1)}};tt.getSystemInfo(o)},e.prototype.onShareAppMessage=function(t,e,o){var n=this;void 0===t&&(t=""),void 0===e&&(e=""),void 0===o&&(o=""),tt.onShareAppMessage(function(){var i=o;""==i&&(i=n.getSelfQuery());var r=a.default.playCf.topic||"\u70ed\u95e8\u6e38\u620f";return{title:t,imageUrl:e,query:i,extra:{videoTopics:[r]}}})},e.prototype.getSelfQuery=function(){var t="channelId="+this.channelId;return p.default.account&&p.default.account.getBaseUserInfo()&&(t=t+"&charId="+p.default.account.getBaseUserInfo().charId),t},e.prototype.setKeepScreenOn=function(){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};tt.setKeepScreenOn(t)},e.prototype.onNetworkStatusChange=function(t){console.log("wx onNetworkStatusChange"),tt.onNetworkStatusChange(function(e){console.log("\u7f51\u7edc\u72b6\u6001\uff1a",e.isConnected,"\u7f51\u7edc\u7c7b\u578b",e.networkType),t&&t(e)})},e.prototype.onAudioInterruptionEnd=function(t){tt.onAudioInterruptionEnd(t)},e.prototype.onMemoryWarning=function(){var t=this;tt.onMemoryWarning(function(){console.error("onMemoryWarningReceive,\u5185\u5b58\u8b66\u544a!!!"),t.onGameCollectGC()})},e.prototype.onGameCollectGC=function(){tt.triggerGC()},e.prototype.onShow=function(t){tt.onShow(t)},e.prototype.onHide=function(t){tt.onHide(t)},e.prototype.shareAppMessage=function(t,e,o,n,i){var r=this;clearTimeout(this.shareTimeId),this.shareSuccessCallBack=n,this.shareFailCallBack=i;var a={title:t,imageUrl:e,query:this.getSelfQuery()};console.error("shareAppMessage:",a),tt.shareAppMessage(a),this.createTimestamp=(new Date).getTime(),this.shareTimeId=setTimeout(function(){console.log("share success"),r.shareSuccessCallBack&&r.shareSuccessCallBack(),r.shareSuccessCallBack=null,r.shareFailCallBack=null,clearTimeout(r.shareTimeId),r.shareTimeId=null,r.createTimestamp=0},1e3*this.shareDelayTime)},e.prototype.checkPostShareEvent=function(){if(null!=this.shareTimeId){var t=(new Date).getTime()-this.createTimestamp;console.log("\u5206\u4eab\u754c\u9762\u79bb\u5f00\u7684\u65f6\u5dee = ",t),t<1e3*this.shareDelayTime&&(clearTimeout(this.shareTimeId),this.shareTimeId=null,this.createTimestamp=0,this.shareSuccessCallBack=null,this.shareFailCallBack=null,s.default.showTips("\u8bf7\u5206\u4eab\u5230\u7fa4\u54e6~"))}},e.prototype.getOpenDataContext=function(){return tt.getOpenDataContext()},e.prototype.postMessage=function(t){tt.getOpenDataContext().postMessage(t)},e.prototype.getCode=function(){return this._wxUserInfo.code},e.prototype.getAnonymousCode=function(){return this._wxUserInfo.anonymousCode},e.prototype.getQueryStr=function(){return JSON.stringify(this._wxUserInfo.query)},e.prototype.getUserInfo=function(){return this._wxUserInfo},e.prototype.onVibrate=function(t){void 0===t&&(t=0),t?tt.vibrateShort({}):tt.vibrateLong({})},e.prototype.gameRecorder=function(t,e,o){var n=this;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)switch(console.log("gameRecorder",t),this._stopEndFun=null,this._shareScene=null,t){case"start":this._gameRecorderManager||(this._gameRecorderManager=tt.getGameRecorderManager(),this._gameRecorderManager.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb\u56de\u8c03"),n._videoPath=""}),this._gameRecorderManager.onPause(function(){console.log("\u5f55\u5c4f\u6682\u505c\u56de\u8c03")}),this._gameRecorderManager.onResume(function(){console.log("\u5f55\u5c4f\u6062\u590d\u56de\u8c03")}),this._gameRecorderManager.onStop(function(t){console.log("\u5f55\u5c4f\u505c\u6b62\u56de\u8c03",t.videoPath),n._videoPath=t.videoPath||"",n._stopEndFun&&n._stopEndFun(n._videoPath),n._stopEndFun=null})),this._gameRecorderManager.start({duration:300});break;case"pause":this._gameRecorderManager&&this._gameRecorderManager.pause();break;case"resume":this._gameRecorderManager&&this._gameRecorderManager.resume();break;case"stop":this._stopEndFun=e,this._gameRecorderManager&&this._gameRecorderManager.stop();break;case"videoShare":if(this._shareScene=o,this._videoPath&&this._videoPath.length>0){console.log("gameRecorder","\u5f00\u59cb\u89c6\u9891\u5206\u4eab");var i=this.getSelfQuery(),r="";""==r&&(r=a.default.playCf.topic||"\u70ed\u95e8\u6e38\u620f");var c=a.default.playCf.ttVideo_title||"\u7cbe\u5f69\u89c6\u9891",s=a.default.playCf.ttVideo_desc||"\u7cbe\u5f69\u89c6\u9891",l=a.default.playCf.video_title||"\u7cbe\u5f69\u89c6\u9891";tt.shareAppMessage({channel:"video",title:c,desc:s,imageUrl:"",templateId:"",query:i,extra:{videoPath:this._videoPath,videoTopics:[r],hashtag_list:[r],video_title:l,withVideoId:!0,defaultBgm:""},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e&&e(!0),h.default.sendEvent("\u5f55\u5c4f\u5206\u4eab\u6210\u529f")},fail:function(t){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25",t)}})}else console.log("gameRecorder","\u6ca1\u6709\u5f55\u5c4f\u6587\u4ef6"),e&&e(!1)}else e&&e(!0)},e.prototype.sendLaunchData=function(){var t=tt.getLaunchOptionsSync();t&&t.query&&t.query.channelId&&(this.channelId=t.query.channelId||""),this._wxUserInfo.query=t.query,h.default.sendEvent("\u542f\u52a8\u53c2\u6570",JSON.stringify(t))},e.prototype.loadOk=function(){this.sendLaunchData()},e.prototype.checkAddDesktop=function(t){var e=this;console.log("checkAddDesktop   ---------"),this._isAddDesk>-1?t&&t(!!this._isAddDesk):tt.checkShortcut({success:function(o){console.log("checkAddDesktop success",o),o&&o.status&&o.status.exist?(e._isAddDesk=1,t&&t(!0)):(e._isAddDesk=0,t&&t(!1))},fail:function(o){console.log("checkAddDesktop fail",o),e._isAddDesk=1,t&&t(!0)}})},e.prototype.onAddDesktop=function(t){var e=this;console.log("--onAddDesktop--"),tt.addShortcut({success:function(o){console.log("onAddDesktop success",o),e._isAddDesk=1,t&&t(!0)},fail:function(o){console.log("onAddDesktop fail",o),e._isAddDesk=0,t&&t(!1)}})},e}(r.default);o.default=f,cc._RF.pop()},{"../../../GameController":"GameController","../../../GameDataCenter":"GameDataCenter","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/TipsMng":"TipsMng","../../../logic/others/UIHelp":"UIHelp","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkUC:[function(t,e,o){"use strict";cc._RF.push(e,"e0a3dvG7nBFNZ9UF5Ah3zje","SdkUC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=(t("../../../logic/others/ServerCtr"),t("../../../logic/others/UIHelp")),c=t("../../../logic/others/AudioCtr"),s=function(t){function e(){var e=t.call(this)||this;return e._userInfo={code:"",userInfo:{nickName:"",avatarUrl:""},query:{},systemInfo:null},e.shareTimeId=null,e.shareDelayTime=1,e.createTimestamp=0,e.shareSuccessCallBack=null,e.shareFailCallBack=null,e}return i(e,t),e.prototype.loadSub=function(){return new Promise(function(t){t()})},e.prototype.initSdk=function(t){console.log("uc init"),this.getLaunchOptionsSync(),this.getSystemInfo(),uc.requestScreenOrientation({orientaiton:2,success:function(t){console.log(t)},fail:function(t){console.error(t)}}),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState?c.default.resumeBgAudio():c.default.pauseBgAudio()}),t&&t(!0)},e.prototype.loginSdk=function(t){var e=this;return new Promise(function(o,n){var i=function(){o()};t?o():uc.isLogin({success:function(t){console.log(t),t&&t.isLogin?uc.login({success:function(t){console.log("\u767b\u5f55\u6210\u529f",t.code),e._userInfo.code=t.code,o()},fail:function(t){console.log("\u767b\u5f55\u5931\u8d25",t),n("uc\u767b\u5f55\u5931\u8d25!")}}):i()},fail:function(t){console.error(t),i()}})})},e.prototype.createUserInfoButton=function(t,e){var o,n=this;o={btnNode:null,show:function(){this.btnNode&&(this.btnNode.active=!0)},hide:function(){this.btnNode&&(this.btnNode.active=!1)},destroy:function(){this.btnNode.destroy(),o=null}};var i=new cc.Node;return i.parent=t,i.setContentSize(t.getContentSize()),a.default.onRegisterBtnEvent(i,function(){console.log("\u70b9\u51fbUC\u6388\u6743\u6309\u94ae\uff01");var t=function(t){void 0===t&&(t=!1),t?uc.getUserInfo({success:function(t){console.log(t),n._userInfo.userInfo.nickName=t.nickname,n._userInfo.userInfo.avatarUrl=t.avatar_url,e(n._userInfo.userInfo)},fail:function(t){uc.showToast({title:"\u7528\u6237\u4fe1\u606f\u83b7\u53d6\u5931\u8d25!"}),console.error(t),e()}}):uc.getGuestInfo({success:function(t){console.log(t),n._userInfo.userInfo.nickName=t.nickname,n._userInfo.userInfo.avatarUrl=t.avatar_url,e(n._userInfo.userInfo)},fail:function(t){uc.showToast({title:"\u7528\u6237\u4fe1\u606f\u83b7\u53d6\u5931\u8d25!"}),console.error(t),e()}})};uc.getSetting({success:function(e){console.log(e),e.userInfo?t(!0):uc.authorize({scope:"userInfo",success:function(e){console.log(e),t(e&&e.userInfo)},fail:function(e){console.error(e),t(!1)}})},fail:function(e){console.error(e),t(!1)}})}),o.btnNode=i,o},e.prototype.createBannerAd=function(t){return uc.createBannerAd(t)},e.prototype.createRewardedVideoAd=function(){return uc.createRewardVideoAd()},e.prototype.getLaunchOptionsSync=function(){var t=this;uc.getLaunchOptionsSync({success:function(e){var o=JSON.stringify(e);console.log("getLaunchOptionsSync success",o),t._userInfo.query=o.query},fail:function(t){console.log("getLaunchOptionsSync fail",JSON.stringify(t))}}),uc.getLaunchOptionsSync()},e.prototype.getSystemInfo=function(){var t=this;uc.getSystemInfo({success:function(e){t._userInfo.systemInfo=e},fail:function(){}})},e.prototype.shareAppMessage=function(t,e,o,n,i){uc.shareAppMessage({title:t,imageUrl:e,query:o,target:"wechat",success:function(t){console.log("shareAppMessage share success",JSON.stringify(t)),n&&n()},fail:function(t){console.log("shareAppMessage share fail",JSON.stringify(t)),i&&i()}})},e.prototype.getCode=function(){return this._userInfo.code},e.prototype.getQueryStr=function(){return JSON.stringify(this._userInfo.query)},e.prototype.getUserInfo=function(){return this._userInfo},e}(r.default);o.default=s,cc._RF.pop()},{"../../../logic/others/AudioCtr":"AudioCtr","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/UIHelp":"UIHelp","./SdkBase":"SdkBase"}],SdkVivo:[function(t,e,o){"use strict";cc._RF.push(e,"71331HpX+5OwoPzqPCIk59u","SdkVivo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../data/ConstantCf"),a=t("../../event/EventMng"),c=function(t){function e(){var e=t.call(this)||this;return e.code="",e._thridConfig=null,e}return i(e,t),e.prototype.loadSub=function(){return new Promise(function(){})},e.prototype.initSdk=function(t){var e=this;this.onShow(function(t){console.log("qg_onShow:",t),e.setKeepScreenOn(),cc.game.resume(),setTimeout(function(){a.default.emit(r.EGameEvent.GAME_SHOW)},1e3)}),this.onHide(function(){console.log("qg_hide"),a.default.emit(r.EGameEvent.GAME_HIDE),cc.game.pause()}),t&&t(!0)},e.prototype.setKeepScreenOn=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};qg.setKeepScreenOn(t)}},e.prototype.InitAdService=function(){qg.initAdService({appId:"30244531",isDebug:!1,success:function(){console.log("success")},fail:function(t){console.log("fail:"+t.code+t.msg)},complete:function(){console.log("complete")}})},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e,o){try{qg.getSystemInfoSync().platformVersionCode>=1053?qg.login().then(function(n){n.data.token?(console.log("res",n),t.code=n.data.token,e(n)):o(new Error(n))},function(t){console.log("\u767b\u5f55\u5931\u8d25",t),o(new Error(t))}):qg.authorize({type:"code",success:function(o){t.code=o.code,e(o)},fail:function(t,e){console.log("\u767b\u5f55\u5931\u8d25",e),o(new Error("handling fail, fail code:"+e))}})}catch(n){o(new Error(n))}})},e.prototype.ThridSdkInit=function(){var t=this;return new Promise(function(e,o){console.log("------ThridSdkInit---------");try{qg.ylInitSDK(function(n){console.log("res  : ",n),t.ylGetCustom(e,o)})}catch(n){console.log("error : ",n),o(n)}})},e.prototype.getCode=function(){return this.code},e.prototype.checkAddDesktop=function(t){console.log("checkAddDesktop   ---------"),qg.hasShortcutInstalled({success:function(e){console.log("checkAddDesktop success",e),t&&t(e)},fail:function(e){console.log("checkAddDesktop fail",e),t&&t(!0)},complete:function(){}})},e.prototype.onAddDesktop=function(t){console.log("--onAddDesktop--"),qg.installShortcut({success:function(){console.log("\u521b\u5efa\u6210\u529f\uff01\uff01\uff01"),t&&t(!0)},fail:function(e){console.log("onAddDesktop  : ",e),t&&t(!1)},complete:function(){}})},e.prototype.onShow=function(t){cc.sys.platform==cc.sys.VIVO_GAME&&qg.onShow(t)},e.prototype.onHide=function(t){cc.sys.platform==cc.sys.VIVO_GAME&&qg.onHide(t)},e.prototype.createBannerAd=function(t){if(cc.sys.platform==cc.sys.VIVO_GAME)return console.log(" qg.createBannerAd !!!!!"+JSON.stringify(t)),qg.createBannerAd(t)},e.prototype.createNativeAd=function(t){if(cc.sys.platform==cc.sys.VIVO_GAME)return console.log(" qg.createNativeAd !!!!!"+JSON.stringify(t)),qg.createNativeAd(t)},e.prototype.createRewardedVideoAd=function(t){if(cc.sys.platform==cc.sys.VIVO_GAME)return qg.createRewardedVideoAd({posId:t})},e.prototype.createInsertAd=function(){return null.load(),null},e.prototype.navigateToMiniProgram=function(t,e,o){if(cc.sys.platform==cc.sys.VIVO_GAME)return new Promise(function(n,i){var r={pkgName:t,path:e||"",extraData:o||"",success:function(){console.log("go success"),n(null)},fail:function(t){console.log("fail",t),i(new Error(t.errMsg))}};qg.navigateToMiniGame(r)})},e.prototype.onShowLoading=function(t){return void 0===t&&(t="\u6e38\u620f\u52a0\u8f7d\u4e2d..."),new Promise(function(e,o){var n={title:t,mask:!0,success:function(){console.log("showLoading = \u6210\u529f"),e(null)},fail:function(){console.log("showLoading = \u5931\u8d25"),o()},complete:function(){}};qg.setLoadingProgress({progress:0}),qg.loadingComplete(n)})},e.prototype.ylGetCustom=function(t,e){var o=this;try{qg.ylGetCustom(function(e){for(var n={},i=0;i<e.length;i++)n[e[i].name]=e[i].value;o._thridConfig=n,console.log("ylGetCustom   \uff1a ",o._thridConfig),t()})}catch(n){console.error(n),e()}},e.prototype.getThridConfig=function(){return console.log("this._thridConfig  : ",this._thridConfig),this._thridConfig},e}(t("./SdkBase").default);o.default=c,cc._RF.pop()},{"../../../data/ConstantCf":"ConstantCf","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkWx:[function(t,e,o){"use strict";cc._RF.push(e,"7dd79Ji5HJDqbVIwybkj31H","SdkWx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SdkBase"),a=t("../../../data/Config"),c=t("../../../logic/others/ServerCtr"),s=t("../../../logic/others/TipsMng"),l=t("../../event/EventMng"),d=t("../../../data/ConstantCf"),u=t("../../../GameDataCenter"),p=function(t){function e(){var e=t.call(this)||this;return e._wxUserInfo={code:"",userInfo:{encryptedData:"",iv:"",nickName:"",avatarUrl:"",gender:0,city:"",province:"",country:"",rawData:"",signature:""},query:{},systemInfo:null},e.weChatLoginStatus=!1,e.shareTimeId=null,e.shareDelayTime=1,e.createTimestamp=0,e.shareSuccessCallBack=null,e.shareFailCallBack=null,e}return i(e,t),e.prototype.loadSub=function(t){return new Promise(function(e,o){cc.sys.platform!=cc.sys.WECHAT_GAME?e():cc.loader.downloader.loadSubpackage(t,function(n){n?o("\u52a0\u8f7d\u5b50\u5305\u5931\u8d25\uff01name:"+t):(console.log("load subpackage successfully.",t),e())})})},e.prototype.initSdk=function(t){console.log("wx init"),this.onNetworkStatusChange(function(t){t.isConnected||s.default.showTips("\u5f53\u524d\u7f51\u7edc\u8f83\u5dee,\u8bf7\u68c0\u6d4b\u60a8\u7684\u7f51\u7edc!")}),this.initWxSdk(),t&&t(!0)},e.prototype.initWxSdk=function(){var t=this;this.getLaunchOptionsSync(),this.getSystemInfo(),this.showShareMenu(),this.onShareAppMessage(a.default.gameCf.shareTitle,a.default.gameCf.shareUrl,this._wxUserInfo.query.toString()),this.setKeepScreenOn(),this.onAudioInterruptionEnd(function(){}),this.onMemoryWarning(),this.onShow(function(e){if(console.log("wx_onShow:",e),t.checkPostShareEvent(),t.setKeepScreenOn(),cc.game.resume(),Object.keys(e.query).length>0){var o=e.query;o.scene=e.scene,n=o,c.default.sendServerBuyQuantity(n,void 0)}var n;l.default.emit(d.EGameEvent.GAME_SHOW,e)}),this.onHide(function(){console.log("wx_hide"),l.default.emit(d.EGameEvent.GAME_HIDE),cc.game.pause()})},e.prototype.loginSdk=function(t){var e=this;return new Promise(function(o,n){if(cc.sys.platform==cc.sys.WECHAT_GAME){t?o():(i={success:function(t){e._wxUserInfo.code=t.code,o()},fail:function(t){console.log("login =======",t),n("\u5fae\u4fe1\u767b\u5f55\u5931\u8d25!")}},wx.login(i))}else n("\u4e0d\u662f\u5fae\u4fe1\u5c0f\u6e38\u620f\u5e73\u53f0!");var i})},e.prototype.createUserInfoButton=function(t,e){var o=this;console.log("wx.createUserInfoButton");var n=t,i=new cc.Size(n.width+10,n.height+10),r=cc.view.getFrameSize(),a=cc.director.getWinSize(),c=cc.director.getScene().getChildByName("Canvas").convertToNodeSpaceAR(n.convertToWorldSpaceAR(new cc.Vec2(0,0))),s={type:"text",text:"",style:{left:(.5*a.width+c.x-.5*i.width)/a.width*r.width,top:(.5*a.height-c.y-.5*i.height)/a.height*r.height,width:i.width/a.width*r.width,height:i.height/a.height*r.height,lineHeight:0,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}},l=wx.createUserInfoButton(s);return l.show(),l.onTap(function(t){if(console.log("onTap res: "+t),t.userInfo){for(var n in t.userInfo)!0===t.userInfo.hasOwnProperty(n)&&(o._wxUserInfo.userInfo[n]=t.userInfo[n]);o._wxUserInfo.userInfo.encryptedData=t.encryptedData,o._wxUserInfo.userInfo.iv=t.iv,o._wxUserInfo.userInfo.rawData=t.rawData,o._wxUserInfo.userInfo.signature=t.signature,console.log("this._wxUserInfo = ",o._wxUserInfo),l.destroy(),e(o._wxUserInfo.userInfo)}else wx.showToast({title:"\u6388\u6743\u5931\u8d25"}),e()}),l},e.prototype.authorize=function(t,e){if(cc.sys.platform==cc.sys.WECHAT_GAME){var o={scope:t,success:function(){e&&e(!0)},fail:function(){e&&e(!1)}};wx.authorize(o)}else e&&e(!1)},e.prototype.createBannerAd=function(t){if(cc.sys.platform==cc.sys.WECHAT_GAME)return wx.createBannerAd(t)},e.prototype.createRewardedVideoAd=function(t){if(cc.sys.platform==cc.sys.WECHAT_GAME)return wx.createRewardedVideoAd({adUnitId:t})},e.prototype.showShareMenu=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.showShareMenu({withShareTicket:!0,success:function(t){cc.log("\u5f00\u542f\u5206\u4eab\uff1a"+JSON.stringify(t))},fail:function(t){cc.log("\u5206\u4eab\u5931\u8d25\uff1a"+JSON.stringify(t))}})},e.prototype.navigateToMiniProgram=function(t,e,o,n){if(cc.sys.platform==cc.sys.WECHAT_GAME){var i={appId:t,path:e||"",extraData:o||"",envVersion:"release",success:function(){cc.log("go success"),n&&n(!0)},fail:function(t){cc.log("fail",t),n&&n(!1)}};wx.navigateToMiniProgram(i)}else n&&n(!1)},e.prototype.getShareInfo=function(t,e,o){if(cc.sys.platform==cc.sys.WECHAT_GAME){console.log("get shareInfo:",t);var n={shareTicket:t,success:e,fail:o};wx.getShareInfo(n)}},e.prototype.getUpdateManager=function(t){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log("onCheckForUpdate",e),e.hasUpdate||t(!0)}),e.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u68c0\u6d4b\u5230\u65b0\u7248\u672c\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(o){o.confirm?e.applyUpdate():o.cancel&&t(!0)}})}),e.onUpdateFailed(function(){console.error("\u65b0\u7684\u7248\u672c\u4e0b\u8f7d\u5931\u8d25"),t(!1),wx.showModal({title:"\u5df2\u7ecf\u6709\u65b0\u7248\u672c\u4e86\u54df~",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u4e0a\u7ebf\u5566~\uff0c\u8bf7\u60a8\u5220\u9664\u5f53\u524d\u5c0f\u7a0b\u5e8f\uff0c\u91cd\u65b0\u641c\u7d22\u6253\u5f00\u54df~"})})}else t(!1)},e.prototype.getLaunchOptionsSync=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t=wx.getLaunchOptionsSync();this._wxUserInfo.query=t.query}},e.prototype.getSystemInfo=function(t){var e=this;if(cc.sys.platform==cc.sys.WECHAT_GAME){var o={success:function(o){console.log("getSystemInfo =",o),e._wxUserInfo.systemInfo=o,t&&t(!0)},fail:function(){t&&t(!1)},complete:function(){t&&t(!1)}};wx.getSystemInfo(o)}else t&&t(!1)},e.prototype.onShareAppMessage=function(t,e,o){var n=this;if(void 0===t&&(t=""),void 0===e&&(e=""),void 0===o&&(o=""),cc.sys.platform==cc.sys.WECHAT_GAME){var i=function(){var i=o;return""==i&&(i=n.getSelfQuery()),{title:t,imageUrl:e,query:i}};wx.aldOnShareAppMessage?wx.aldOnShareAppMessage(i):wx.onShareAppMessage(i),wx.onShareTimeline&&wx.onShareTimeline(i)}},e.prototype.setKeepScreenOn=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};wx.setKeepScreenOn(t)}},e.prototype.onNetworkStatusChange=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&(console.log("wx onNetworkStatusChange"),wx.onNetworkStatusChange(function(e){console.log("\u7f51\u7edc\u72b6\u6001\uff1a",e.isConnected,"\u7f51\u7edc\u7c7b\u578b",e.networkType),t&&t(e)}))},e.prototype.onAudioInterruptionEnd=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.onAudioInterruptionEnd(t)},e.prototype.onMemoryWarning=function(){var t=this;cc.sys.platform==cc.sys.WECHAT_GAME&&wx.onMemoryWarning(function(){console.error("onMemoryWarningReceive,\u5185\u5b58\u8b66\u544a!!!"),t.onGameCollectGC()})},e.prototype.onGameCollectGC=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.triggerGC()},e.prototype.onShow=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.onShow(t)},e.prototype.onHide=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.onHide(t)},e.prototype.shareAppMessage=function(t,e,o,n,i){var r=this;if(clearTimeout(this.shareTimeId),this.shareSuccessCallBack=n,this.shareFailCallBack=i,cc.sys.platform==cc.sys.WECHAT_GAME){var a={title:t,imageUrl:e,query:o};console.error("shareAppMessage:",a),wx.aldShareAppMessage?wx.aldShareAppMessage(a):wx.shareAppMessage(a),this.createTimestamp=(new Date).getTime(),this.shareTimeId=setTimeout(function(){console.log("share success"),r.shareSuccessCallBack&&r.shareSuccessCallBack(),r.shareSuccessCallBack=null,r.shareFailCallBack=null,clearTimeout(r.shareTimeId),r.shareTimeId=null,r.createTimestamp=0},1e3*this.shareDelayTime)}else this.shareTimeId=setTimeout(function(){r.shareSuccessCallBack&&r.shareSuccessCallBack(),r.shareSuccessCallBack=null,r.shareFailCallBack=null,clearTimeout(r.shareTimeId),r.shareTimeId=null,r.createTimestamp=0},1e3*this.shareDelayTime)},e.prototype.checkPostShareEvent=function(){if(null!=this.shareTimeId){var t=(new Date).getTime()-this.createTimestamp;console.log("\u5206\u4eab\u754c\u9762\u79bb\u5f00\u7684\u65f6\u5dee = ",t),t<1e3*this.shareDelayTime&&(clearTimeout(this.shareTimeId),this.shareTimeId=null,this.createTimestamp=0,this.shareSuccessCallBack=null,this.shareFailCallBack=null,s.default.showTips("\u8bf7\u5206\u4eab\u5230\u7fa4\u54e6~"))}},e.prototype.getOpenDataContext=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME)return wx.getOpenDataContext()},e.prototype.postMessage=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.getOpenDataContext().postMessage(t)},e.prototype.getCode=function(){return this._wxUserInfo.code},e.prototype.getQueryStr=function(){return JSON.stringify(this._wxUserInfo.query)},e.prototype.getUserInfo=function(){return this._wxUserInfo},e.prototype.onVibrate=function(t){void 0===t&&(t=0),t?wx.vibrateShort({}):wx.vibrateLong({})},e.prototype.getSelfQuery=function(){var t="channelId="+this.channelId;return u.default.account&&u.default.account.getBaseUserInfo()&&(t=t+"&charId="+u.default.account.getBaseUserInfo().charId),t},e}(r.default);o.default=p,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../../logic/others/ServerCtr":"ServerCtr","../../../logic/others/TipsMng":"TipsMng","../../event/EventMng":"EventMng","./SdkBase":"SdkBase"}],SdkXM:[function(t,e,o){"use strict";cc._RF.push(e,"d8964nE7kdFq4wi5Rh++WaF","SdkXM");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.code="",e._thridConfig=null,e}return i(e,t),e.prototype.initSdk=function(t){this.onShow(function(t){console.log("qg_onShow:",t),cc.game.resume()}),this.onHide(function(){console.log("qg_hide"),cc.game.pause()}),t&&t(!0)},e.prototype.setKeepScreenOn=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t={keepScreenOn:!0,success:function(t){console.log("setKeepScreenOn success ",t)},fail:function(t){console.log("setKeepScreenOn fail ",t)}};qg.setKeepScreenOn(t)}},e.prototype.loginSdk=function(){var t=this;return new Promise(function(e,o){var n={success:function(o){console.log("res",o),t.code=o.appAccountId,e(o)},fail:function(t){console.log("login =======",t),o(new Error(t.errMsg))}};qg.login(n)})},e.prototype.getCode=function(){return this.code},e.prototype.infoMapData=function(){return{oppoToken:this.code}},e.prototype.checkAddDesktop=function(t){console.log("checkAddDesktop   ---------"),qg.getShortcut().hasInstalled({success:function(e){console.log("checkAddDesktop success",e),t&&t(e)},fail:function(e){console.log("checkAddDesktop fail",e),t&&t(!0)},complete:function(){}})},e.prototype.onAddDesktop=function(t){console.log("--onAddDesktop--"),qg.getShortcut().install({success:function(){console.log("\u521b\u5efa\u6210\u529f\uff01\uff01\uff01"),t&&t(!0)},fail:function(e){console.log("onAddDesktop  : ",e),t&&t(!1)},complete:function(){}})},e.prototype.onShow=function(t){cc.sys.platform==cc.sys.OPPO_GAME&&qg.onShow(t)},e.prototype.onHide=function(t){cc.sys.platform==cc.sys.OPPO_GAME&&qg.onHide(t)},e.prototype.authorizeUserInfo=function(t){qg.getUserInfo({success:function(e){console.log("getUserInfo \u8c03\u7528\u6210\u529f "+e.userInfo),e.userInfo?t&&t(e.userInfo):t&&t()},fail:function(e){console.log("getUserInfo \u8c03\u7528\u5931\u8d25",e),t&&t()}})},e.prototype.onVibrate=function(t){void 0===t&&(t=0),t?qg.vibrateShort({}):qg.vibrateLong({})},e}(t("./SdkBase").default);o.default=r,cc._RF.pop()},{"./SdkBase":"SdkBase"}],ServerCtr:[function(t,e,o){"use strict";cc._RF.push(e,"1f985t+6adEcJnb6Ui9rWrw","ServerCtr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../data/Config"),i=t("../../GameDataCenter"),r=t("../../comFrame/network/XmlHttp"),a=t("../../GameController"),c=t("../../comFrame/utils/ComFun"),s=function(){function t(){this._upToServerData={},this._upIngToServerData=null,this._bInLoging=!1}return t.prototype.sendDataToServer=function(t){var e=this;console.log("\u66f4\u65b0\u6570\u636e\u5230\u670d\u52a1\u56681:",t);var o=!this._upIngToServerData;o&&(this._upIngToServerData={}),this.dataAddToData(this._upToServerData,t);var i=function(){if(console.log("\u66f4\u65b0\u6570\u636e\u5230\u670d\u52a1\u56682:",e._upToServerData),e._upIngToServerData){e.dataAddToData(e._upIngToServerData,e._upToServerData),e._upToServerData={};var t=e._upIngToServerData;e.syncUserData(t,function(t){t?e._upIngToServerData=null:(console.error("\u66f4\u65b0\u6570\u636e\u5230\u670d\u52a1\u5668\u5931\u8d25\uff01",t),setTimeout(i,3e3))})}};o&&setTimeout(i,1e3*n.default.playCf.synDataSpace)},t.prototype.syncUserData=function(t,e){cc.log("\u53d1\u9001\u7528\u6237\u6570\u636e",t),this.sendServerData("/user",t,function(t){e&&e(t)})},t.prototype.strToHexCharCode=function(t){if(""===t)return"";var e=escape(t);return encodeURI(e)},t.prototype.dataAddToData=function(t,e,o){for(var n in void 0===o&&(o=!1),e)if(e.hasOwnProperty(n)){var i=e[n],r=t[n];if(o&&r){var a=typeof i;"number"==a?r+=i:"object"==a&&(r=r.concat(i))}else r=i;t[n]=r}},t.prototype.sendServerData=function(t,e,o,i,a){var c=this;return new Promise(function(s,l){console.log("sendServerData:",t,e);var d=n.default.sdkCf.url||"";0!=d.length?r.default.request(d+t,e,function(e){var n="";do{if(!e){n="\u670d\u52a1\u5668\u5f02\u5e38\uff01";break}var i=void 0;if("object"==typeof e?i=e:"string"==typeof e&&e.length>0&&(i=JSON.parse(e)),!i||200!=i.code){if(401==i.code){"/login"!=t&&"/info"!=t&&c.getLoginData();break}console.error("\u670d\u52a1\u5668\u4e0b\u53d1\u6570\u636e\u6709\u8bef,sData=",i),n="\u670d\u52a1\u5668\u4e0b\u53d1\u6570\u636e\u6709\u8bef:"+e;break}return cc.log("sendServerData recive:",i.data),o&&o(i.data||{}),void s(i.data)}while(0);o&&o(),l(n)},c.getToken(),i,a):s()})},t.prototype.getToken=function(){return i.default.account.getServerToken()},t.prototype.setToken=function(t){return i.default.account.setServerToken(t)},t.prototype.getOpenID=function(){return i.default.account.getServerToken()},t.prototype.setOpenID=function(t){return i.default.account.setOpenID(t)},t.prototype.getAccount=function(){var t=i.default.account.getAccount();return""==t&&(t=c.default.generateUUID(),i.default.account.setAccount(t)),t},t.prototype.getAccountPass=function(){var t=i.default.account.getPassword();return""==t&&(t="p123456",i.default.account.setPassword(t)),t},t.prototype.getLoginData=function(t){var e=this;return new Promise(function(o,i){if(e._bInLoging)i("\u767b\u5f55\u4e2d\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01");else{e.setToken(""),e._bInLoging=!0;var r={},c=a.default.sdkManager.getCode();n.default.playCf.isGuest||(c&&""!=c?(r.openId=c,r.isLogin="1"):""!=a.default.sdkManager.getAnonymousCode()&&(r.openId=a.default.sdkManager.getAnonymousCode(),r.isLogin="0")),r.openId||(r.openId=e.getAccount(),r.debug="1"),e.sendServerData("/loginAuth",r,null,t).then(function(t){!t&&e.setToken(""),e._bInLoging=!1,o(t)}).catch(function(t){e._bInLoging=!1,e.setToken(""),i(t)})}})},t.prototype.getInfoData=function(t){var e=this;return new Promise(function(o,n){e.sendServerData("/user",{},null,t,"GET").then(function(t){!t&&e.setToken(""),o(t)}).catch(function(t){e.setToken(""),n(t)})})},t.prototype.getActivityDeploy=function(t,e){this.sendServerData("/getsites",null,t,e,"GET")},t.prototype.getServerShareData=function(t,e,o){void 0===o&&(o=1);var n={};n.moduleId=t,n.type=o,this.sendServerData("/inviteShare",n,e)},t.prototype.sendServerVideoData=function(t,e){var o={};o.moduleId=t,this.sendServerData("/watchVideo",o,e)},t.prototype.sendServerBuyQuantity=function(t,e){var o={};o.query=t,this.sendServerData("/buyQuantity",o,e)},t.prototype.bindAccount=function(t,e){var o={};o.userInfo=t,this.sendServerData("/bindAccount",o,e)},t.prototype.sendSyncRecordy=function(t,e){this.sendServerData("/syncRecord",t,e)},t.prototype.sendWxSubscribe=function(){return this.sendServerData("/user",{isSubscribe:1})},t}();o.default=new s,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../../comFrame/network/XmlHttp":"XmlHttp","../../comFrame/utils/ComFun":"ComFun","../../data/Config":"Config"}],ShaderAni:[function(t,e,o){"use strict";cc._RF.push(e,"4d587cbZTRGfYFnpmt3y9E7","ShaderAni");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderSprite=null,e.shaderMaterial=null,e.shaderSpriteFrames=[],e.transitionTime=1,e._loading=!1,e._time=0,e._endCallFun=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.playAct=function(t,e){void 0===e&&(e=!1),this._time=0,this._endCallFun=t,this.shaderSprite.spriteFrame=this.shaderSpriteFrames[e?1:0],this.setMaterialProperty(e),this._loading=!0,this.node.opacity=255,cc.tween(this.node).delay(.6*this.transitionTime).to(.4*this.transitionTime,{opacity:0}).start()},e.prototype.setMaterialProperty=function(t){void 0===t&&(t=!1);var e=this.shaderSpriteFrames[t?0:1].getTexture(),o=this.shaderSpriteFrames[t?1:0].getTexture();this.shaderMaterial.setProperty("texture2",e),this.shaderMaterial.setProperty("texture",o),this.shaderMaterial.setProperty("ratio",e.width/e.height),this.shaderSprite.setMaterial(0,this.shaderMaterial)},e.prototype.update=function(t){this._loading&&(this._time+=t,this._time>=this.transitionTime&&(this._time=this.transitionTime,this._loading=!1,this._endCallFun&&this._endCallFun()),this.shaderMaterial.setProperty("time",this._time/this.transitionTime))},r([s({type:cc.Sprite,tooltip:"shaderSprite"})],e.prototype,"shaderSprite",void 0),r([s({type:cc.Material,tooltip:"shader Material"})],e.prototype,"shaderMaterial",void 0),r([s({type:[cc.SpriteFrame],tooltip:" shaderSpriteFrames"})],e.prototype,"shaderSpriteFrames",void 0),r([s({tooltip:"\u52a8\u753b\u65f6\u95f4"})],e.prototype,"transitionTime",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SingletonFactory:[function(t,e,o){"use strict";cc._RF.push(e,"fe5c0cy0KJJ5oiCqfnH+wDM","SingletonFactory"),Object.defineProperty(o,"__esModule",{value:!0}),o.SingletonFactory=void 0;var n=function(){function t(){}return t.getInstance=function(e){if(!t.instances.has(e)){var o=new e;return t.instances.set(e,o),o}return t.instances.get(e)},t.instances=new Map,t}();o.SingletonFactory=n,cc._RF.pop()},{}],SocialBase:[function(t,e,o){"use strict";cc._RF.push(e,"70705gVirVKHL60SY1qLF53","SocialBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainNode=null,e._toRight=!1,e._isMoving=!1,e._radian=0,e._longR=300,e._shortR=0,e}return i(e,t),e.prototype.onLoad=function(){this.mainNode.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()})},e.prototype.start=function(){this._toRight=!0},e.prototype.update=function(t){this._isMoving&&(this._toRight?this._radian=this._radian+4*t:this._radian=this._radian-4*t,this.updatePos())},e.prototype.setPic=function(){},e.prototype.setMove=function(t){this._isMoving=t},e.prototype.setMoveNext=function(t){this._radian=this._radian+t,this._toRight=t>0,this.updatePos()},e.prototype.setRadian=function(t){this._radian=t},e.prototype.getRadian=function(){return this._radian},e.prototype.updatePos=function(){this.mainNode.x=this._longR*Math.cos(this._radian),this.mainNode.y=this._shortR;var t=Math.sin(this._radian)+1;this.mainNode.scale=1-.8*t/2,this.mainNode.zIndex=100*this.mainNode.scale,console.log("\u5f27\u5ea6_radian = "+this._radian+", cos = "+Math.cos(this._radian)+", sin = "+Math.sin(this._radian))},r([s({type:cc.Node,tooltip:"mainNode"})],e.prototype,"mainNode",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SpriteNumNode:[function(t,e,o){"use strict";cc._RF.push(e,"8cce0dTawBKX5/0jS80nJqd","SpriteNumNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprites=[],e.spritesFrames=[],e._curNum=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){this._curNum=t;for(var e=0;e<this.sprites.length;e++)this.sprites[e].spriteFrame=this.spritesFrames[t>e?1:0]},Object.defineProperty(e.prototype,"curNum",{get:function(){return this._curNum},enumerable:!1,configurable:!0}),r([s({type:[cc.Sprite]})],e.prototype,"sprites",void 0),r([s({type:[cc.SpriteFrame]})],e.prototype,"spritesFrames",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],StartAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"a75c5KjmkNCLZaoBQLhGlH/","StartAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../data/Config"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SpriteNode=null,e.AddLightNode=null,e.ExtraNode=null,e.spotlLight=null,e._BgNode=null,e._spriteAniTime=1,e._playState=!1,e._updateTime=0,e._intensity=2,e}return i(e,t),e.prototype.onLoad=function(){this._BgNode=cc.director.getScene().getChildByName("Canvas").getChildByName("bg"),this.initNode()},e.prototype.start=function(){},e.prototype.update=function(t){if(this._playState){if(this._updateTime+=t,this._updateTime>this._spriteAniTime)return this._playState=!1,void(this._updateTime=0);var e=this._updateTime/this._spriteAniTime,o=this._intensity*e;this.setLightIntensity(o)}},e.prototype.onDestroy=function(){},e.prototype.initNode=function(){this._BgNode.opacity=0,a.default.playCf.StartState=!1,this.SpriteNode.active=!1,this.AddLightNode.active=!1,this.ExtraNode.active=!1,this.setLightIntensity(0)},e.prototype.setLightIntensity=function(t){this.spotlLight.intensity=t},e.prototype.playAnimation=function(t){var e=this;this.initNode(),a.default.playCf.StartState=!0;var o=function(){e.SpriteNode.scale=0,e.SpriteNode.active=!0,e._playState=!0,cc.Tween.stopAllByTarget(e.SpriteNode),cc.tween(e.SpriteNode).to(e._spriteAniTime,{scale:1},{easing:"backOut"}).call(function(){t&&t(),n()}).start()},n=function(){e.AddLightNode.opacity=0,e.AddLightNode.active=!0,cc.Tween.stopAllByTarget(e.AddLightNode),cc.tween(e.AddLightNode).to(1,{opacity:255}).call(function(){e.ExtraNode.active=!0}).start()};this._BgNode?(e._BgNode.opacity=0,cc.Tween.stopAllByTarget(e._BgNode),cc.tween(e._BgNode).to(.5,{opacity:255}).call(function(){o()}).start()):o()},r([l({type:cc.Node,tooltip:"\u7cbe\u7075\u8282\u70b9"})],e.prototype,"SpriteNode",void 0),r([l({type:cc.Node,tooltip:"\u706f\u5149\u8282\u70b9"})],e.prototype,"AddLightNode",void 0),r([l({type:cc.Node,tooltip:"\u5176\u4ed6\u8282\u70b9"})],e.prototype,"ExtraNode",void 0),r([l(cc.Light)],e.prototype,"spotlLight",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../data/Config":"Config"}],StartScene:[function(t,e,o){"use strict";cc._RF.push(e,"e8b6ekdbe1JtaDjJrZjsR3R","StartScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameController"),c=t("../ui/start/LoginNode"),s=t("../../data/ConstantCf"),l=t("../ui/common/LoadHelper"),d=cc._decorator,u=d.ccclass,p=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loginNode=null,e}return i(e,t),e.prototype.onLoad=function(){a.default.isInit?this.endLogin():this.beginLogin()},e.prototype.beginLogin=function(){var t=this;this.loginNode.beginLogin(function(){t.endLogin()})},e.prototype.endLogin=function(){l.default.runScene(s.ESceneName.MainScene)},r([p({type:c.default,tooltip:"\u767b\u5f55node"})],e.prototype,"loginNode",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../GameController":"GameController","../../data/ConstantCf":"ConstantCf","../ui/common/LoadHelper":"LoadHelper","../ui/start/LoginNode":"LoginNode"}],StripCtr:[function(t,e,o){"use strict";cc._RF.push(e,"8ad87ad0H1JeqKKmzm/hON6","StripCtr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/Config"),c=t("../../others/StripItem"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stripListNode=null,e.stripPrefab=null,e.PillarPool=new cc.NodePool,e._updateTime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){cc.isValid(this)&&(this._updateTime+=t,this._updateTime>=a.default.playCf.StripUpdateTime&&(this._updateTime=0,this.updateTime()))},e.prototype.onDestroy=function(){},e.prototype.updateTime=function(){if(0==a.default.playCf.CutToState&&1==a.default.playCf.StartState){var t=Math.random();a.default.playCf.StripShowProb>=t&&this.creatorPillar()}},e.prototype.creatorPillar=function(t){var e=this;void 0===t&&(t=-1);var o=this.PillarPool.get();null==o&&(o=cc.instantiate(this.stripPrefab)),o.active=!0,o.parent=this.stripListNode,o.position=cc.v3();var n=a.default.playCf.MapDotPos,i=n[-1==t?Math.floor(Math.random()*n.length):t];o.getComponent(c.default).onInit(i,function(t){t.active=!1,e.PillarPool.put(t)})},r([d({type:cc.Node,tooltip:"\u67f1\u5b50\u7236\u8282\u70b9"})],e.prototype,"stripListNode",void 0),r([d({type:cc.Prefab,tooltip:"\u67f1\u5b50\u9884\u5236\u4f53"})],e.prototype,"stripPrefab",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../data/Config":"Config","../../others/StripItem":"StripItem"}],StripItem:[function(t,e,o){"use strict";cc._RF.push(e,"79874IzLSZBeb530Psluki+","StripItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../comFrame/event/EventMng"),c=t("../../data/Config"),s=t("../../data/ConstantCf"),l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainNode=null,e.stripNode=null,e._posData=null,e._EndCallback=null,e}return i(e,t),e.prototype.onLoad=function(){a.default.on(s.EGameEvent.ADD_StripACTION_SPEED,this.addSpeedAction.bind(this),this)},e.prototype.start=function(){},e.prototype.onDestroy=function(){a.default.off(s.EGameEvent.ADD_StripACTION_SPEED,this.addSpeedAction.bind(this),this)},e.prototype.onInit=function(t,e){t&&(this.stripNode.scaleY=0,this._EndCallback=e,this._posData=t,this.initMainNode(),this.playStartAction())},e.prototype.initMainNode=function(){this.mainNode.position=cc.v3(this._posData.x,this._posData.y,this._posData.z),this.mainNode.eulerAngles=cc.v3(this._posData.angleX,this._posData.angleY,this._posData.angleZ)},e.prototype.playStartAction=function(){var t=this,e=this.getActionTime();cc.Tween.stopAllByTarget(this.stripNode),cc.tween(this.stripNode).to(e,{scaleY:15}).call(function(){var e=Math.floor(Math.random()*c.default.playCf.MapStripPauseTime);t.scheduleOnce(t.playEndAction.bind(t),e)}).start()},e.prototype.playEndAction=function(){var t=this,e=this.getActionTime();cc.Tween.stopAllByTarget(this.stripNode),cc.tween(this.stripNode).to(e,{scaleY:0}).call(function(){t._EndCallback&&t._EndCallback(t.node)}).start()},e.prototype.addSpeedAction=function(){this.unscheduleAllCallbacks(),cc.Tween.stopAllByTarget(this.stripNode),this.playEndAction()},e.prototype.getActionTime=function(){return c.default.playCf.CutToState?Math.random():2+1*Math.random()},r([u({type:cc.Node,tooltip:"\u4e3b\u8282\u70b9"})],e.prototype,"mainNode",void 0),r([u({type:cc.Node,tooltip:"\u6761\u8282\u70b9"})],e.prototype,"stripNode",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../comFrame/event/EventMng":"EventMng","../../data/Config":"Config","../../data/ConstantCf":"ConstantCf"}],TTAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"3e5e97YfBJJhpWDNJXPuxWA","TTAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../others/UIHelp"),l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moreGameBtnNode=null,e}return i(e,t),e.prototype.start=function(){a.default.on(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),s.default.onRegisterBtnEvent(this.moreGameBtnNode,this.onShowMoreGame.bind(this)),this.moreGameBtnNode.active=!1},e.prototype.onDestroy=function(){a.default.off(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this)},e.prototype.onShowUI=function(t){var e=t.ui;console.log("ad onShowUI",e),"UIGame"==e&&this.showInsertAd()},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui)},e.prototype.onShowAdPage=function(t){void 0===t&&(t=!1)},e.prototype.onShowMoreGame=function(){"ios"!==tt.getSystemInfoSync().platform&&tt.showMoreGamesModal({appLaunchOptions:[],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}})},e.prototype.showInsertAd=function(){var t=tt.createInterstitialAd({adUnitId:""});t&&t.load().then(function(){t.show()}).catch(function(t){console.log(t)})},r([u(cc.Node)],e.prototype,"moreGameBtnNode",void 0),r([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp"}],TipsCtr:[function(t,e,o){"use strict";cc._RF.push(e,"a5926iLbW5OWpw3jCqN/JX3","TipsCtr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.desLab=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showAct=function(t,e,o){this.desLab.string=t,this.node.opacity=255,this.node.runAction(cc.sequence(cc.moveBy(.5,0,200),cc.callFunc(function(){e()}),cc.delayTime(1),cc.fadeOut(.2),cc.callFunc(o)))},r([s({type:cc.Label,tooltip:"\u6587\u672clab"})],e.prototype,"desLab",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TipsMng:[function(t,e,o){"use strict";cc._RF.push(e,"a97e34qNP5IlKYvwzjDx7AT","TipsMng"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../ui/common/TipsCtr"),i=function(){function t(){this._tipsPrefab=null,this._tipsPool=new cc.NodePool("tipsNodes"),this._tipsStrQueue=[],this._bShowAct=!1,this._tipsRootNode=null}return t.prototype.loadTipsPrefab=function(t){var e=this;cc.loader.loadRes("prefabs/common/tipsNode",cc.Prefab,function(o,n){o||(e._tipsPrefab=n,t&&t())})},t.prototype.showTipsAct=function(){var t=this;if(!this._bShowAct&&0!=this._tipsStrQueue.length){this._bShowAct=!0;var e=function(){if(0!=t._tipsStrQueue.length){var o=t._tipsPool.get();o||(o=cc.instantiate(t._tipsPrefab)),o.parent=t._tipsRootNode,o.y=0;var i=o.getComponent(n.default),r=t._tipsStrQueue.shift();i.showAct(r,e,function(){t._tipsPool.put(o)})}else t._bShowAct=!1};this._tipsRootNode||(this._tipsRootNode=new cc.Node("tipsRootNode"),cc.game.addPersistRootNode(this._tipsRootNode),this._tipsRootNode.position=new cc.Vec3(.5*cc.winSize.width,.5*cc.winSize.height,0)),this._tipsPrefab?e():this.loadTipsPrefab(function(){e()})}},t.prototype.showTips=function(t){this._tipsStrQueue.push(t),this.showTipsAct()},t}();o.default=new i,cc._RF.pop()},{"../ui/common/TipsCtr":"TipsCtr"}],TopResNode:[function(t,e,o){"use strict";cc._RF.push(e,"3f866GOtvpJwJgvtQz0z1Ik","TopResNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../others/AudioCtr"),l=t("../../others/UIHelp"),d={},u=[cc.v2(-250,-110),cc.v2(0,-110),cc.v2(250,-110),cc.v2(-250,-200),cc.v2(0,-200),cc.v2(250,-200)],p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topResParent=null,e.resNodes=[],e.resSpriteFrames=[],e.resCutNode=null,e.resCutIconSprite=null,e.resCutNumLabel=null,e._collectNodePool=new cc.NodePool,e}return i(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),this.resCutNode.active=!1,a.default.on(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.on(c.EGameEvent.RES_COLLECT,this.showResCollectAct.bind(this),this),a.default.on(c.EGameEvent.RES_UISHOW,this.showTopRes.bind(this),this),a.default.on(c.EGameEvent.RES_NUMCUT,this.showResCut.bind(this),this)},e.prototype.onDestroy=function(){a.default.off(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.off(c.EGameEvent.RES_COLLECT,this.showResCollectAct.bind(this),this),a.default.off(c.EGameEvent.RES_UISHOW,this.showTopRes.bind(this),this),a.default.off(c.EGameEvent.RES_NUMCUT,this.showResCut.bind(this),this)},e.prototype.onShowUI=function(t){var e=t.ui;if(e){console.log("res onShowUI",e);var o=d[e];this.showTopRes(o)}},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui),this.topResParent.active=!1},e.prototype.showTopRes=function(t){if(void 0===t&&(t=[]),t.length>0){this.topResParent.active=!0;for(var e=0;e<this.resNodes.length;e++)this.resNodes[e].active=!1;for(e=0;e<t.length;e++){var o=t[e];null!=o&&(this.resNodes[o].active=!0,this.resNodes[o].position=cc.v3(u[e]))}}else this.topResParent.active=!1},e.prototype.showResCollectAct=function(t){if(this.resNodes[t.itemId].active){for(var e=Math.min(t.num||1,10),o=0;o<e;o++)this.createOneCollectAct(t.itemId,t.collectNode);t.actEnd&&this.scheduleOnce(t.actEnd,.7)}else t.actEnd&&t.actEnd()},e.prototype.createOneCollectAct=function(t,e,o){var n=this;void 0===o&&(o=400);var i=this._collectNodePool.get();i||((i=new cc.Node).scale=.6,i.addComponent(cc.Sprite));var r=e?this.node.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0))):cc.v2(0,0);i.parent=this.node,i.getComponent(cc.Sprite).spriteFrame=this.resSpriteFrames[t],i.position=cc.v3(0,.5*-this.node.height);var a=cc.v2((Math.random()-.5)*o,(Math.random()-.5)*o);cc.tween(i).by(.3,{position:cc.v3(a)},{easing:"sineOut"}).to(.3+.5*Math.random(),{position:cc.v3(r)},{easing:"sineIn"}).call(function(){s.default.playAudio(c.EAUDIOPATH.EFFECT_RES_DDD),n._collectNodePool.put(i),cc.tween(e).to(.05,{scale:1.2}).to(.05,{scale:1}).start()}).start()},e.prototype.showResCut=function(t){var e=this;t.endCall&&l.default.showNoTouchLayer(!0),this.resCutNode.active=!0,this.resCutIconSprite.spriteFrame=this.resSpriteFrames[t.itemId||0],this.resCutNumLabel.string=(t.num||0).toLocaleString(),this.resCutNode.position=cc.v3(this.node.convertToNodeSpaceAR(t.worldPos||cc.v2(0,0))),this.resCutNode.opacity=255,cc.tween(this.resCutNode).by(.3,{y:50}).to(.2,{opacity:0}).delay(.2).call(function(){e.resCutNode.active=!1,t.endCall&&l.default.showNoTouchLayer(!1),t.endCall&&t.endCall()}).start()},r([f(cc.Node)],e.prototype,"topResParent",void 0),r([f([cc.Node])],e.prototype,"resNodes",void 0),r([f([cc.SpriteFrame])],e.prototype,"resSpriteFrames",void 0),r([f(cc.Node)],e.prototype,"resCutNode",void 0),r([f(cc.Sprite)],e.prototype,"resCutIconSprite",void 0),r([f(cc.Label)],e.prototype,"resCutNumLabel",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf","../../others/AudioCtr":"AudioCtr","../../others/UIHelp":"UIHelp"}],UIActBase:[function(t,e,o){"use strict";cc._RF.push(e,"8d52dl7h3JEuYvDDIUUTtY2","UIActBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.menu,a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.playOpenAct=function(){return new Promise(function(t){t()})},e.prototype.playCloseAct=function(){return new Promise(function(t){t()})},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],UIActDown:[function(t,e,o){"use strict";cc._RF.push(e,"c5b571RUhZMP4l/DexuanWd","UIActDown");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./UIActBase"),c=cc._decorator,s=c.ccclass,l=c.menu,d=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveNode=null,e._zeroPosY=0,e}return i(e,t),e.prototype.onLoad=function(){this._zeroPosY=this.moveNode.y},e.prototype.playOpenAct=function(){var t=this;return new Promise(function(e){if(t.moveNode){t.moveNode.y=t._zeroPosY;var o=t.moveNode.y;t.moveNode.y+=cc.view.getVisibleSize().height,cc.tween(t.moveNode).to(.3,{y:o}).call(function(){e()}).start()}else e()})},e.prototype.playCloseAct=function(){var t=this;return new Promise(function(e){if(t.moveNode){t.moveNode.y=t._zeroPosY;var o=t._zeroPosY+cc.view.getVisibleSize().height;cc.tween(t.moveNode).to(.3,{y:o}).call(function(){e()}).start()}else e()})},r([d({tooltip:"\u79fb\u52a8\u7684node",type:cc.Node})],e.prototype,"moveNode",void 0),r([s,l("UI/Act/UIActDown")],e)}(a.default);o.default=u,cc._RF.pop()},{"./UIActBase":"UIActBase"}],UIActLeft:[function(t,e,o){"use strict";cc._RF.push(e,"61d69WQurFEA6wvV1T4Mxj3","UIActLeft");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./UIActBase"),c=cc._decorator,s=c.ccclass,l=c.menu,d=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveNode=null,e._zeroPosX=0,e}return i(e,t),e.prototype.onLoad=function(){this._zeroPosX=this.moveNode.x},e.prototype.playOpenAct=function(){var t=this;return new Promise(function(e){if(t.moveNode){cc.Tween.stopAllByTarget(t.moveNode),t.moveNode.x=t._zeroPosX;var o=t.moveNode.x;t.moveNode.x+=cc.view.getVisibleSize().width,cc.tween(t.moveNode).to(.2,{x:o}).call(function(){e()}).start()}else e()})},e.prototype.playCloseAct=function(){var t=this;return new Promise(function(e){if(t.moveNode){cc.Tween.stopAllByTarget(t.moveNode),t.moveNode.x=t._zeroPosX;var o=t._zeroPosX+cc.view.getVisibleSize().width;cc.tween(t.moveNode).to(.2,{x:o}).call(function(){e()}).start()}else e()})},r([d({tooltip:"\u79fb\u52a8\u7684node",type:cc.Node})],e.prototype,"moveNode",void 0),r([s,l("UI/Act/UIActDown")],e)}(a.default);o.default=u,cc._RF.pop()},{"./UIActBase":"UIActBase"}],UIActScale:[function(t,e,o){"use strict";cc._RF.push(e,"308f8DzLz9MopuEZzXGpNp1","UIActScale");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./UIActBase"),c=cc._decorator,s=c.ccclass,l=c.menu,d=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scaleNode=null,e._zeroScale=0,e}return i(e,t),e.prototype.onLoad=function(){this._zeroScale=this.scaleNode.scale},e.prototype.playOpenAct=function(){var t=this;return new Promise(function(e){t.scaleNode?(t.scaleNode.scale=.1,cc.tween(t.scaleNode).to(.2,{scale:1.1*t._zeroScale}).to(.1,{scale:t._zeroScale}).call(function(){e()}).start()):e()})},e.prototype.playCloseAct=function(){var t=this;return new Promise(function(e){t.scaleNode?(t.scaleNode.scale=t._zeroScale,cc.tween(t.scaleNode).to(.1,{scale:1.1*t._zeroScale}).to(.2,{scale:.1}).call(function(){e()}).start()):e()})},r([d({tooltip:"\u7f29\u653e\u7684node",type:cc.Node})],e.prototype,"scaleNode",void 0),r([s,l("UI/Act/UIActScale")],e)}(a.default);o.default=u,cc._RF.pop()},{"./UIActBase":"UIActBase"}],UIActUp:[function(t,e,o){"use strict";cc._RF.push(e,"b9bb9ELoGZOt4lCJo9tor6p","UIActUp");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./UIActBase"),c=cc._decorator,s=c.ccclass,l=c.menu,d=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveNode=null,e._zeroPosY=0,e}return i(e,t),e.prototype.onLoad=function(){this._zeroPosY=this.moveNode.y},e.prototype.playOpenAct=function(){var t=this;return new Promise(function(e){if(t.moveNode){cc.Tween.stopAllByTarget(t.moveNode),t.moveNode.y=t._zeroPosY;var o=t.moveNode.y;t.moveNode.y-=cc.view.getVisibleSize().height,cc.tween(t.moveNode).to(.5,{y:o}).call(function(){e()}).start()}else e()})},e.prototype.playCloseAct=function(){var t=this;return new Promise(function(e){if(t.moveNode){cc.Tween.stopAllByTarget(t.moveNode),t.moveNode.y=t._zeroPosY;var o=t._zeroPosY-cc.view.getVisibleSize().height;cc.tween(t.moveNode).to(.5,{y:o}).call(function(){e()}).start()}else e()})},r([d({tooltip:"\u79fb\u52a8\u7684node",type:cc.Node})],e.prototype,"moveNode",void 0),r([s,l("UI/Act/UIActDown")],e)}(a.default);o.default=u,cc._RF.pop()},{"./UIActBase":"UIActBase"}],UIAdFullPage:[function(t,e,o){"use strict";cc._RF.push(e,"e047acoqh5G5I5QXTUB5snR","UIAdFullPage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PosAdItem"),c=t("../../others/UIHelp"),s=t("../../../comFrame/ui/UIBase"),l=t("../../../comFrame/sdk/AdMgr"),d=cc._decorator,u=d.ccclass,p=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adBigPosPrefab=null,e.scrollView=null,e.okBtnNode=null,e.adPosPrefab=null,e.topScrollView=null,e._moveDic=1,e._moveTopDic=1,e._closeCallFun=null,e._isMissTouch=!1,e}var o;return i(e,t),o=e,e.prototype.onInit=function(t){this._closeCallFun=t.closeCallFun,this._isMissTouch=t.isMissTouch||!1},e.prototype.onUILoad=function(){var t=this;c.default.onRegisterBtnEvent(this.okBtnNode,this.onClose.bind(this)),this.node.on(a.NavigateFail,function(){t.autoScrollTo()},this),l.default.instance.getShuffleAdData(4).then(function(e){if(e){for(var o=0;o<e.length;o++){var n=e[o];(i=cc.instantiate(t.adBigPosPrefab)).parent=t.scrollView.content,i.scale=.85,i.getComponent(a.default).setData(n,!0)}for(o=0;o<e.length;o++){var i;n=e[o],(i=cc.instantiate(t.adPosPrefab)).parent=t.topScrollView.content,i.scale=.85,i.getComponent(a.default).setData(n,!0)}t.scrollView.node.on("scroll-ended",function(){cc.log("scroll-ended"),t.autoScrollTo()},t),t.autoScrollTo(),t.topScrollView.node.on("scroll-ended",function(){cc.log("scroll-ended"),t.autoTopScrollTo()},t),t.autoTopScrollTo()}else t.onClose()}),this._isMissTouch?(this.okBtnNode.active=!0,l.default.instance.beginMisClickTouch([this.okBtnNode],1,1)):(this.okBtnNode.active=!1,this.scheduleOnce(function(){t.okBtnNode.active=!0},1.5))},e.prototype.onClose=function(){c.default.closeUI(o),this._closeCallFun&&this._closeCallFun(),l.default.instance.showBanner()},e.prototype.autoScrollTo=function(){var t=this;this.scrollView.content.height<=this.scrollView.node.height||(this.scrollView.unscheduleAllCallbacks(),this.scrollView.schedule(function(){var e,o;(e=t.scrollView.content.y)>=(o=t.scrollView.content.height-t.scrollView.node.height)-5?t._moveDic=-1:e<=5&&(t._moveDic=1),cc.log(e,o,t._moveDic),e+=t._moveDic*(.85*t.adBigPosPrefab.data.height+10),cc.tween(t.scrollView.content).to(.5,{y:e}).start()},2))},e.prototype.autoTopScrollTo=function(){var t=this;this.topScrollView.unscheduleAllCallbacks(),this.topScrollView.schedule(function(){var e,o;(e=-t.topScrollView.content.x)>=(o=t.topScrollView.content.width-t.topScrollView.node.width)-5?t._moveTopDic=-1:e<=5&&(t._moveTopDic=1),cc.log(e,o,t._moveTopDic),e+=t._moveTopDic*(.85*t.adPosPrefab.data.width+10),cc.tween(t.topScrollView.content).to(.5,{x:-e}).start()},2)},e.prefabUrl="ui/adNode/UIAdFullPage",e.className="UIAdFullPage",r([p({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adBigPosPrefab",void 0),r([p({type:cc.ScrollView,tooltip:"ScrollView"})],e.prototype,"scrollView",void 0),r([p({type:cc.Node,tooltip:"\u7ee7\u7eed\u6309\u94aenode"})],e.prototype,"okBtnNode",void 0),r([p({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([p({type:cc.ScrollView,tooltip:"ScrollView"})],e.prototype,"topScrollView",void 0),o=r([u],e)}(s.default);o.default=h,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/ui/UIBase":"UIBase","../../others/UIHelp":"UIHelp","./PosAdItem":"PosAdItem"}],UIAdPage:[function(t,e,o){"use strict";cc._RF.push(e,"e007cYSc7lLcqWPhBbTuYqV","UIAdPage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PosAdItem"),c=t("../../others/UIHelp"),s=t("../../../comFrame/ui/UIBase"),l=t("../../../comFrame/sdk/AdMgr"),d=cc._decorator,u=d.ccclass,p=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adPosPrefab=null,e.scrollView=null,e.okBtnNode=null,e._moveDic=1,e._closeCallFun=null,e}var o;return i(e,t),o=e,e.prototype.onInit=function(t){this._closeCallFun=t.closeCallFun},e.prototype.onUILoad=function(){var t=this;c.default.onRegisterBtnEvent(this.okBtnNode,this.onClose.bind(this)),this.node.on(a.NavigateFail,function(){t.autoScrollTo()},this),l.default.instance.getShuffleAdData(2).then(function(e){if(e)for(var o=0;o<e.length;o++){var n=e[o],i=cc.instantiate(t.adPosPrefab);i.parent=t.scrollView.content,i.getComponent(a.default).setData(n,!0)}else t.onClose()}),this.scrollView.node.on("scroll-ended",function(){cc.log("scroll-ended"),t.autoScrollTo()},this),this.okBtnNode.active=!0,l.default.instance.beginMisClickTouch([this.okBtnNode],1,1),this.scheduleOnce(function(){t.autoScrollTo()},1)},e.prototype.onClose=function(){c.default.closeUI(o),this._closeCallFun&&this._closeCallFun(),l.default.instance.showBanner()},e.prototype.autoScrollTo=function(){var t=this.scrollView.content.y,e=this.scrollView.content.height-this.scrollView.node.height;t>=e-5?this._moveDic=-1:t<=5&&(this._moveDic=1),cc.log(t,e,this._moveDic),1==this._moveDic?this.scrollView.scrollToBottom(.05*(e-t),!1):-1==this._moveDic&&this.scrollView.scrollToTop(.05*t,!1)},e.prefabUrl="ui/adNode/UIAdPage",e.className="UIAdPage",r([p({type:cc.Prefab,tooltip:"\u5bfc\u51fa\u4f4dPrefab"})],e.prototype,"adPosPrefab",void 0),r([p({type:cc.ScrollView,tooltip:"ScrollView"})],e.prototype,"scrollView",void 0),r([p({type:cc.Node,tooltip:"\u7ee7\u7eed\u6309\u94aenode"})],e.prototype,"okBtnNode",void 0),o=r([u],e)}(s.default);o.default=h,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/ui/UIBase":"UIBase","../../others/UIHelp":"UIHelp","./PosAdItem":"PosAdItem"}],UIBase:[function(t,e,o){"use strict";cc._RF.push(e,"6bcd7voruFETqsE+GQQjNzK","UIBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../event/EventMng"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFullScene=!1,e._notifyEventList={},e}return i(e,t),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!1,configurable:!0}),e.getBundleName=function(){return this.bundleName},e.getUrl=function(){return"prefabs/"+this.prefabUrl},e.getName=function(){return this.className},e.prototype.init=function(t){this.onInit(t||{})},e.prototype.onLoad=function(){this._notifyEventList={},this.onUILoad()},e.prototype.onDestroy=function(){this.onUIDestroy()},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.touchEvent,this),this.onShow()},e.prototype.onDisable=function(){for(var t in this.node.off(cc.Node.EventType.TOUCH_END,this.touchEvent,this),this.onHide(),this._notifyEventList)this._notifyEventList.hasOwnProperty(t)&&a.default.off(t,this._notifyEventList[t],this);this._notifyEventList={}},e.prototype.initEvent=function(t,e){a.default.on(t,e,this),this._notifyEventList[t]=e},e.prototype.touchEvent=function(t){t.stopPropagation()},e.prototype.start=function(){this.onStart()},e.prototype.update=function(t){this.onUpdate(t)},e.prototype.onInit=function(){},e.prototype.onUILoad=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onShow=function(){},e.prototype.onOpenAct=function(){},e.prototype.onCloseAct=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onUpdate=function(){},e.prototype.onClose=function(){},e.bundleName="",r([l({tooltip:"\u662f\u5426\u5168\u5c4f"})],e.prototype,"isFullScene",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../event/EventMng":"EventMng"}],UICircle:[function(t,e,o){"use strict";cc._RF.push(e,"9c0bb+s/3JM15w6SRFyCiKg","UICircle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../../comFrame/ui/UIBase"),s=t("../other/CircleItem"),l=t("../../../data/ConstantCf"),d=t("../other/CircleLine"),u=t("../../../comFrame/event/EventMng"),p=cc._decorator,h=p.ccclass,f=p.property;(function(t){t[t.MOVE=0]="MOVE",t[t.CLICK=1]="CLICK"})(a||(a={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UINode=null,e.meNode=null,e.circleContent=null,e.circlePrefab=null,e.lineContent=null,e.linePrefab=null,e.controlNode=null,e._circleList=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],e._startMove=!1,e._startPos=null,e._offsetY=250,e._initCircleNum=5,e._circleAddNum=6,e._circlePosList=[],e._circleAngle=[],e._showCircleList=[],e._moveMaxX=0,e._moveMaxY=0,e._touchMode=a.MOVE,e._circlePool=new cc.NodePool,e._linePool=new cc.NodePool,e._circleScale=[1,.8,.6],e._fullScreen=!1,e}return i(e,t),e.prototype.onUILoad=function(){this.getAllCirclePosList(),u.default.on(l.EGameEvent.ROTATE_CIRCLE_DIR,this.onRotateCircleDir.bind(this),this),this.controlNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.controlNode.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.controlNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.controlNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.onUIDestroy=function(){u.default.off(l.EGameEvent.ROTATE_CIRCLE_DIR,this.onRotateCircleDir.bind(this),this)},e.prototype.onRotateCircleDir=function(t){this.UINode.position=cc.v3(),this._fullScreen=t.isRotate,this.UINode.angle=this._fullScreen?-90:0,this.refreshItem()},e.prototype.getShowCircleIdList=function(){for(var t=[],e=0;e<this._circlePosList.length;++e){var o=this._circlePosList[e],n=this.UINode.position,i=o.pos,r=cc.winSize.width/2+this._offsetY,a=cc.winSize.height/2+cc.winSize.height/3;1==this._fullScreen?Math.abs(n.x+i.y)<=r&&Math.abs(n.y+i.x)<=a&&t.push(e):Math.abs(n.x+i.x)<=r&&Math.abs(n.y+i.y)<=a&&t.push(e)}return t},e.prototype.refreshItem=function(){var t=this.getShowCircleIdList();if(t.toString()!=this._showCircleList.toString()){this._showCircleList=t,this.recycleCircleNode(),this.recycleLineNode();for(var e=0;e<this._showCircleList.length;++e){var o=this._showCircleList[e],n=this._circlePosList[o],i=e+"",r=this._circlePool.get();null==r&&(r=cc.instantiate(this.circlePrefab)),r.active=!0,r.name=i,r.parent=this.circleContent,r.position=n.pos;var a=r.getComponent(s.default),c=this._circleList.length>o;a.refreshData(c,n.zoom);var l=n.lineId>=0?this._circlePosList[n.lineId].pos:this.meNode.position;this.createrLine(c,n.pos,l)}}},e.prototype.recycleCircleNode=function(){for(var t=this.circleContent.childrenCount,e=0;e<t;++e){var o=this.circleContent.children[0];this._circlePool.put(o)}},e.prototype.createrLine=function(t,e,o){var n=this._linePool.get();null==n&&(n=cc.instantiate(this.linePrefab)),n.parent=this.lineContent,n.getComponent(d.default).initNode(t,e,o)},e.prototype.recycleLineNode=function(){for(var t=this.lineContent.childrenCount,e=0;e<t;++e){var o=this.lineContent.children[0];this._linePool.put(o)}},e.prototype.getAllCirclePosList=function(){var t=this._circleList.length;this._circleAngle=[];var e=this.viaCircleCountGetTurns(t),o=this.viaTurnsGetCircleCount(e+2);this._circlePosList=[];for(var n=0;n<o;++n){var i=n+1,r=this.getCircle(n+1),a=this.circleContent.getChildByName("getCirclePos");null==a&&((a=cc.instantiate(this.circlePrefab)).name="getCirclePos",a.parent=this.circleContent),a.active=!1,a.angle=r.angle,this._circleAngle[n]=r.angle;var c=a.getComponent(s.default);c.getCirclePos(r.y);var l=this.getCircleLineId(i,r.angle),d=this.circleContent.convertToNodeSpaceAR(c.getUiNodePos()),u=this._circleScale[Math.floor(Math.random()*this._circleScale.length)];this._circlePosList[n]={pos:cc.v3(Math.floor(d.x),Math.floor(d.y),0),lineId:l,zoom:u}}this._moveMaxX=Math.max(e*this._offsetY-(cc.winSize.width/3+20),0),this._moveMaxY=Math.max(e*this._offsetY-(cc.winSize.height/3+20),0),this.refreshItem()},e.prototype.getCircle=function(t){var e=this.viaIdGetCircleNumber(t),o=e.ID,n=e.CIRCLENUM,i=this._offsetY,r=e.ADDCOUNT,a=-360/n;return{y:i*r,angle:(r%2==0?a/2:0)+(o-1)%n*a}},e.prototype.viaIdGetCircleNumber=function(t){for(var e=t,o=this._initCircleNum,n=1;e>o;)e-=o,o+=this._circleAddNum,n+=1;return{ID:e,CIRCLENUM:o,ADDCOUNT:n}},e.prototype.viaCircleCountGetTurns=function(t){var e=0;if(t>0){var o=this._initCircleNum;for(e=1;t>o;)t-=o,o+=this._circleAddNum,e+=1}return e},e.prototype.viaTurnsGetCircleCount=function(t){if(0==t)return 0;for(var e=this._initCircleNum,o=this._initCircleNum,n=1;n<t;++n)e+=o+=this._circleAddNum;return e},e.prototype.getCircleLineId=function(t,e){var o=this,n=-1,i=this.viaCircleCountGetTurns(t);if(i>1){for(var r=[],a=this.viaTurnsGetCircleCount(i-2),c=this.viaTurnsGetCircleCount(i-1),s=-360/(c-a)/2,l=a;l<c;++l){var d=this._circleAngle[l];if(0==d){if(-360-s>=e||e>=s){r.push(l);break}}else if(d-s>=e&&d+s<=e){r.push(l);break}}var u=t-1,p=c,h=this.viaTurnsGetCircleCount(i)-1,f=u-1,y=u+1,_=function(){o._circlePosList[f].lineId!=u&&r.push(f)},g=function(){r.push(y)};u==p?g():u==h?_():(_(),g()),n=r[Math.floor(Math.random()*r.length)]}return n},e.prototype.onTouchStart=function(t){this._startMove||(this._touchMode=a.CLICK,this._startMove=!0,this._startPos={x:t.getLocation().x,y:t.getLocation().y})},e.prototype.onTouchMove=function(t){if(this._startMove&&null!=this._startPos){this._touchMode=a.MOVE;var e=t.getLocation(),o=e.x-this._startPos.x,n=e.y-this._startPos.y,i=Math.min(this._moveMaxX,Math.max(this.UINode.position.x+o,-this._moveMaxX)),r=Math.min(this._moveMaxY,Math.max(this.UINode.position.y+n,-this._moveMaxY));this.UINode.position=cc.v3(i,r,0),this.refreshItem(),this._startPos={x:t.getLocation().x,y:t.getLocation().y}}},e.prototype.onTouchCancel=function(){this._startMove=!1},e.prototype.onTouchEnd=function(t){this.onTouchCancel(t)},e.prefabUrl="ui/main/UICircle",e.className="UICircle",r([f({type:cc.Node,tooltip:"UINode"})],e.prototype,"UINode",void 0),r([f({type:cc.Node,tooltip:"meNode"})],e.prototype,"meNode",void 0),r([f({type:cc.Node,tooltip:"\u7236\u8282\u70b9"})],e.prototype,"circleContent",void 0),r([f({type:cc.Prefab,tooltip:"\u9884\u5236\u4f53"})],e.prototype,"circlePrefab",void 0),r([f({type:cc.Node,tooltip:"\u7ebf"})],e.prototype,"lineContent",void 0),r([f({type:cc.Prefab,tooltip:"\u9884\u5236\u4f53"})],e.prototype,"linePrefab",void 0),r([f({type:cc.Node,tooltip:"\u63a7\u5236"})],e.prototype,"controlNode",void 0),r([h],e)}(c.default);o.default=y,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/ui/UIBase":"UIBase","../../../data/ConstantCf":"ConstantCf","../other/CircleItem":"CircleItem","../other/CircleLine":"CircleLine"}],UIExcharge:[function(t,e,o){"use strict";cc._RF.push(e,"1c2d3h5G8pFxozDh+342F5q","UIExcharge");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/ui/UIBase"),c=t("../../others/UIHelp"),s=(t("../../others/GameCtr"),t("../../others/TipsMng")),l=(t("../../../data/ConstantCf"),t("../../../GameDataCenter")),d=(t("../../others/ServerCtr"),cc._decorator),u=d.ccclass,p=(d.menu,d.property),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.okBtn=null,e.noBtn=null,e.dhmEditBox=null,e._cbFun=null,e}var o;return i(e,t),o=e,e.prototype.onUILoad=function(){c.default.onRegisterBtnEvent(this.okBtn.node,this.onClickOk.bind(this)),c.default.onRegisterBtnEvent(this.noBtn.node,this.onClickNo.bind(this))},e.prototype.onInit=function(t){this._cbFun=t.closeCallFun},e.prototype.onClickOk=function(){var t=this.dhmEditBox.string;this.dhmIsValid(t)&&s.default.showTips("\u5151\u6362\u7801\u4e0d\u5b58\u5728!")},e.prototype.onClickNo=function(){this.onClose()},e.prototype.onClose=function(){c.default.closeUI(o),this._cbFun&&this._cbFun()},e.prototype.dhmIsValid=function(t){return t&&""!=t?!(l.default.account.dhmIds.indexOf(t)>-1&&(s.default.showTips("\u5151\u6362\u7801\u5df2\u5151\u6362!"),1)):(s.default.showTips("\u8bf7\u8f93\u5165\u5151\u6362\u7801!"),!1)},e.prefabUrl="ui/excharge/UIExcharge",e.className="UIExcharge",r([p({type:cc.Button,tooltip:"\u786e\u5b9a\u6309\u94ae"})],e.prototype,"okBtn",void 0),r([p({type:cc.Button,tooltip:"\u53d6\u6d88\u6309\u94ae"})],e.prototype,"noBtn",void 0),r([p({type:cc.EditBox,tooltip:"\u5151\u6362\u7801EditBox"})],e.prototype,"dhmEditBox",void 0),o=r([u],e)}(a.default);o.default=h,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../comFrame/ui/UIBase":"UIBase","../../../data/ConstantCf":"ConstantCf","../../others/GameCtr":"GameCtr","../../others/ServerCtr":"ServerCtr","../../others/TipsMng":"TipsMng","../../others/UIHelp":"UIHelp"}],UIFriend:[function(t,e,o){"use strict";cc._RF.push(e,"80ec0lE/tpJJ5pzjgqUOivF","UIFriend");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/ui/UIBase"),c=t("../other/SocialBase"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentNode=null,e.rolePrefab=null,e.clubPrefab=null,e._startPosx=0,e._touchPos=cc.v2(),e.mEggs=[],e._turnStart=!1,e}return i(e,t),e.prototype.onUILoad=function(){this._startPosx=this.node.x,this.addEggs(1),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.start=function(){},e.prototype.onInit=function(){},e.prototype.update=function(){this._turnStart&&this.stopEggs()},e.prototype.onUIDestroy=function(){},e.prototype.onTouchStart=function(t){var e=t.getTouches();this._touchPos=this.node.convertToNodeSpaceAR(e[0].getStartLocation())},e.prototype.onTouchMove=function(t){var e=t.getTouches(),o=this.node.convertToNodeSpaceAR(e[0].getStartLocation()),n=this.node.convertToNodeSpaceAR(e[0].getLocation()),i=o.sub(n);if(!1===this._turnStart)for(var r=0;r<this.mEggs.length;r++)this.mEggs[r].getComponent(c.default).setMoveNext(-i.x/2e3);var a=0;for(r=0;r<this.mEggs.length;r++)this.mEggs[r].zIndex>this.mEggs[a].zIndex&&(a=r);for(r=0;r<this.mEggs.length;r++)if(r!=a){var s=new cc.Color(80,80,80);this.mEggs[r].color=s}else s=new cc.Color(255,255,255),this.mEggs[r].color=s},e.prototype.onTouchEnd=function(){this._turnStart=!0},e.prototype.onTouchCancel=function(){this._turnStart=!0},e.prototype.setStartJurse=function(t,e){return e-t},e.prototype.addEggs=function(t){this.contentNode.removeAllChildren(),this.mEggs=[];for(var e=0;e<1;e++){var o=cc.instantiate(this.rolePrefab),n=o.getComponent(c.default),i=e;0===e?i=0:(i=e+1-1)>=1&&(i-=1),o.name=i+1+"";var r=t,a="guanqiaPic/0"+t;n.setPic(r,a);var s=360*e,l=s*Math.PI/180;console.log("\u89d2\u5ea6angle = "+s+", \u5f27\u5ea6radian = "+l),n.setRadian(360*e*Math.PI/180-Math.PI/2),n.updatePos(),o.parent=this.contentNode,this.mEggs.push(o)}var d=0;for(e=0;e<this.mEggs.length;e++)this.mEggs[e].zIndex>this.mEggs[d].zIndex&&(d=e);for(this._startPosx=this.mEggs[d].x,e=0;e<this.mEggs.length;e++)if(e!=d){var u=new cc.Color(80,80,80);this.mEggs[e].color=u}else u=new cc.Color(255,255,255),this.mEggs[e].color=u},e.prototype.moveEggs=function(){for(var t=0;t<this.mEggs.length;t++)this.mEggs[t].getComponent(c.default).setMove(!0)},e.prototype.stopEggs=function(){var t=0;this.moveEggs();for(var e=0;e<this.mEggs.length;e++)this.mEggs[e].zIndex>this.mEggs[t].zIndex&&(t=e);for(this.mEggs[t]&&this.mEggs[t].x>=this._startPosx-10&&this.mEggs[t].x<=this._startPosx+10&&(cc.log("\u9009\u62e9\u4e86"+this.mEggs[t].name),this.stopMove(),this.mEggs[t].x=this._startPosx,this._turnStart=!1),e=0;e<this.mEggs.length;e++)if(e!=t){var o=new cc.Color(80,80,80);this.mEggs[e].color=o}else o=new cc.Color(255,255,255),this.mEggs[e].color=o},e.prototype.stopMove=function(){for(var t=0;t<this.mEggs.length;t++)this.mEggs[t].getComponent(c.default).setMove(!1)},e.prefabUrl="ui/main/UIFriend",e.className="UIFriend",r([d({type:cc.Node,tooltip:"\u514b\u9686\u8282\u70b9\u7684\u7236\u8282\u70b9"})],e.prototype,"contentNode",void 0),r([d({type:cc.Prefab,tooltip:"\u89d2\u8272\u9884\u5236\u4f53"})],e.prototype,"rolePrefab",void 0),r([d({type:cc.Prefab,tooltip:"\u4ff1\u4e50\u90e8\u9884\u5236\u4f53"})],e.prototype,"clubPrefab",void 0),r([l],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../comFrame/ui/UIBase":"UIBase","../other/SocialBase":"SocialBase"}],UIGuide:[function(t,e,o){"use strict";cc._RF.push(e,"b81f9S4/olBroLKef/dp/h1","UIGuide");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IGuideBtnType=void 0;var a,c=t("../../../comFrame/ui/UIBase"),s=t("../../others/UIHelp");(function(t){t[t.None=0]="None",t[t.Default=1]="Default",t[t.Clear=2]="Clear",t[t.Help=3]="Help"})(a=o.IGuideBtnType||(o.IGuideBtnType={}));var l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.roleNode=null,e.dialogNode=null,e.desLab=null,e.fingerNode=null,e.nextBtn=null,e.clearBtn=null,e.helpBtn=null,e.guide_Animation=null,e._guideStep=0,e._guideData=null,e._delayShow=0,e._saveNodeParents=[],e._showFun=null,e._closeFun=null,e._bHasNext=!1,e._guideFun=null,e._isShowFg=!1,e._fgNode=null,e}var o;return i(e,t),o=e,e.prototype.onUILoad=function(){var t=this;if(this._guideData){this.bgNode.active=!1,this.fingerNode.active=!1,this.dialogNode.scale=0;var e=this._guideData[this._guideStep];this.roleNode.y+=e.offset_y,this.dialogNode.y+=e.offset_y,this._isShowFg=e.isTrigger,this.scheduleOnce(function(){t._isShowFg?t.showGuide():t.playAction("guide_role",function(){t._showFun&&t._showFun(),t.showGuide()})},this._delayShow)}else this.onClose()},e.prototype.onEnable=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onInit=function(t){this._guideData=t.guideData,this._delayShow=t.delay||0,this._showFun=t.showFun,this._closeFun=t.closeFun,this._bHasNext=t.bHasNext,this._guideStep=0},e.prototype.showGuide=function(){var t=this;this.fingerNode.active=!1;var e=cc.director.getScene().getChildByName("Canvas");this._saveNodeParents=[];var o=this._guideData[this._guideStep];this._guideFun=o.callback,this._guideStep++,this.desLab.string=o.des,this.nextBtn.active=o.btnType==a.Default,this.clearBtn.active=o.btnType==a.Clear,this.helpBtn.active=o.btnType==a.Help,this.bgNode.active=o.isShowBg;var n=function(){var n=null;if(t._fgNode=null,""!=o.nodePath){if(!(n=cc.find(o.nodePath,e)))return void t.onClose();var i=o.bgPath&&cc.find(o.bgPath,e);if(i||(i=n),t._isShowFg)t.fingerNode.removeFromParent(),t.fingerNode.parent=n.parent,t._fgNode=n,t._fgNode.on(cc.Node.EventType.TOUCH_START,t.onTouchBtn,t);else{var r=i.parent,c=i.convertToWorldSpaceAR(cc.v3(0,0));i.parent=t.node,i.position=t.node.convertToNodeSpaceAR(c).add(t.node.position),n.on(cc.Node.EventType.TOUCH_START,t.onTouchBtn,t),t._saveNodeParents.push([i,r,n])}}o.btnType!=a.None&&o.btnType!=a.Help||!o.delay||t.scheduleOnce(function(){t.onTouchBtn()},o.delay),t.fingerNode.setSiblingIndex(t.fingerNode.parent.childrenCount-1),t.fingerNode.active=!1,o.isShowFg&&t.scheduleOnce(function(){t.fingerNode.active=!0},1);var s=o.addPos?o.addPos:cc.v3(0,0,0);n&&(t.fingerNode.position=n.position.add(s)),cc.Tween.stopAllByTarget(t.fingerNode),o.isShowFg&&cc.tween(t.fingerNode).repeatForever(cc.tween(t.fingerNode).to(.3,{scale:.8}).to(.2,{scale:1})).start()};this._isShowFg?n():this.playAction("guide_dialog",n)},e.prototype.onTouchBtn=function(){console.log("UIGuide onTouchBtn"),this.unscheduleAllCallbacks(),this._guideFun&&this._guideFun(),this.onClose()},e.prototype.onClose=function(t){var e=this;void 0===t&&(t=0),this._isShowFg&&(this.fingerNode.removeFromParent(),this.fingerNode.active=!1,this.fingerNode.parent=this.node,this._fgNode&&this._fgNode.off(cc.Node.EventType.TOUCH_START,this.onTouchBtn,this));for(var n=0;n<this._saveNodeParents.length;n++){var i=this._saveNodeParents[n],r=i[0].convertToWorldSpaceAR(cc.v2(0,0));i[2].off(cc.Node.EventType.TOUCH_START,this.onTouchBtn,this),i[0].parent=i[1],i[0].position=i[1].convertToNodeSpaceAR(cc.v3(r))}this.scheduleOnce(function(){e._guideData[e._guideStep]?e.showGuide():(e._isShowFg?s.default.closeUI(o):e.playAction("guide_hide",function(){s.default.closeUI(o)}),e._closeFun&&e._closeFun())},t)},e.prototype.playAction=function(t,e){"guide_hide"==t?s.default.closeUI(o):(this.guide_Animation.play(t),this.guide_Animation.once("finished",function(){e&&e()}))},e.prefabUrl="ui/other/UIGuide",e.className="UIGuide",r([u({type:cc.Node,tooltip:"\u80cc\u666fnode"})],e.prototype,"bgNode",void 0),r([u({type:cc.Node,tooltip:"\u89d2\u8272node"})],e.prototype,"roleNode",void 0),r([u({type:cc.Node,tooltip:"\u5bf9\u8bdd\u6846node"})],e.prototype,"dialogNode",void 0),r([u({type:cc.Label,tooltip:"\u63cf\u8ff0\u6587\u5b57Label"})],e.prototype,"desLab",void 0),r([u({type:cc.Node,tooltip:"\u624b\u6307"})],e.prototype,"fingerNode",void 0),r([u({type:cc.Node,tooltip:"\u70b9\u51fb\u7ee7\u7eed"})],e.prototype,"nextBtn",void 0),r([u({type:cc.Node,tooltip:"\u6e05\u7406\u6309\u94ae"})],e.prototype,"clearBtn",void 0),r([u({type:cc.Node,tooltip:"\u6e05\u7406\u6309\u94ae"})],e.prototype,"helpBtn",void 0),r([u({type:cc.Animation,tooltip:"\u52a8\u753b"})],e.prototype,"guide_Animation",void 0),o=r([d],e)}(c.default);o.default=p,cc._RF.pop()},{"../../../comFrame/ui/UIBase":"UIBase","../../others/UIHelp":"UIHelp"}],UIHelp:[function(t,e,o){"use strict";cc._RF.push(e,"c58d2Kf5RpG6K9YuVfU6lbn","UIHelp"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../comFrame/const/ViewZOrder"),i=t("../../comFrame/ui/UIMng"),r=t("./AudioCtr"),a=t("../../data/ConstantCf"),c=t("../../comFrame/network/XmlHttp"),s=t("../ui/common/WaitMng"),l=t("../ui/pause/UIPrompt"),d=t("../../GameController"),u=function(){function t(){}return t.onRegisterBtnEvent=function(t,e,o,n){if(void 0===o&&(o=null),void 0===n&&(n=a.EAUDIOPATH.EFFECT_CLICK),t){var i=t;i instanceof cc.Button&&(i=i.node),i.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation(),e&&e(t),n&&r.default.playAudio(n)},o||t)}},t.unRegisterBtnEvent=function(t,e,o){void 0===o&&(o=null),t.off(cc.Node.EventType.TOUCH_END,e,o)},t.setLabel=function(t,e){if("number"==typeof e?e=e.toString():null==e&&(e=""),t.getComponent(cc.RichText)){var o=t.color.toHEX("#rrggbb");t.getComponent(cc.RichText).string="<color="+o+">"+e+"</c>"}else t.getComponent(cc.Label).string=e},t.setBtnGrayState=function(t,e){var o=t.getComponent(cc.Button);o&&(o.interactable=!e,o.enableAutoGrayEffect=e)},t.isBtnGray=function(t){var e=t.getComponent(cc.Button);return!!e&&!e.interactable},t.showUI=function(t,e,o,r){void 0===r&&(r=!1);var a=t.getName();i.default.getInstance().openUI(t,n.ViewZorder.UI,function(t){!r&&s.default&&s.default.stopWait(),d.default.sendEvent("UI\u663e\u793a",a),e&&e(t)},null,o)},t.closeUI=function(t){i.default.getInstance().closeUI(t)},t.isShowingUI=function(t){return i.default.getInstance().isShowing(t)},t.preloadScene=function(t){return new Promise(function(e,o){cc.resources.preloadScene(t,function(n,i){n?o("\u9884\u52a0\u8f7d\u573a\u666f\u5931\u8d25\uff01"+t):e(i)})})},t.onFailTips=function(e,o,n){void 0===o&&(o="\u8bf7\u91cd\u8bd5!"),void 0===n&&(n="\u91cd\u8bd5"),t.showUI(l.default,null,{okBtnStr:n,tipStr:o,showNoBtn:!1,cbFun:function(t){void 0===t&&(t=!0),e&&e()}})},t.changeLabelNum=function(t,e,o,n,i,r){if(void 0===n&&(n=.2),void 0===i&&(i=""),void 0===r&&(r=!1),cc.log("changeLabelNum",e,o),t&&null!=o){var a=e,c=function(e){t.string=(r?e.toLocaleString():e)+i};if(isNaN(a))c(o);else{var s=20,l=n/s,d=(o-a)/s;t.node.stopAllActions();var u=cc.delayTime(l),p=cc.repeat(cc.sequence(u,cc.callFunc(function(){a+=d,c(Math.round(a)),--s<=0&&(t.node.stopAllActions(),c(o))})),s);t.node.runAction(p.easing(cc.easeInOut(.3)))}}},t.isIPhoneX=function(){return Math.max(cc.winSize.height,cc.winSize.width)/Math.min(cc.winSize.height,cc.winSize.width)>2},t.showNoTouchLayer=function(t){void 0===t&&(t=!1);var e=cc.director.getScene().getChildByName("Canvas");if(e){var o=e.getChildByName("NoTouchLayer");o||((o=new cc.Node("NoTouchLayer")).parent=e,o.zIndex=n.ViewZorder.Loading,o.setContentSize(e.getContentSize()),o.addComponent(cc.BlockInputEvents)),this._showNoTouchNum=Math.max(this._showNoTouchNum+(t?1:-1),0),cc.log("\u663e\u793a\u5c4f\u853d\u89e6\u6478\u5c42",this._showNoTouchNum),o.active=this._showNoTouchNum>0}else console.error("\u5f53\u524d\u573a\u666f"+cc.director.getScene().name+"\u65e0Canvas!!!")},t.onLoadHttpImage=function(t,e){var o=this;return void 0===e&&(e=""),new Promise(function(n,i){if(!t||""==e)return console.log("\u52a0\u8f7d\u7f51\u7edc\u56fe\u7247 no url"),void i("\u52a0\u8f7d\u7f51\u7edc\u56fe\u7247 no url");if(o._imageUrlDic&&o._imageUrlDic[e])return t.spriteFrame=o._imageUrlDic[e],void n(o._imageUrlDic[e]);var r=function(r,a){if(!r&&a){var c=new cc.SpriteFrame(a);if(c)return t&&(t.spriteFrame=c,o._imageUrlDic[e]=c),void n(c)}console.log("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef + errorInfo =",r,"/\u518d\u6b21\u91cd\u65b0\u52a0\u8f7d\u56fe\u7247",t.name),i("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef")};e.indexOf(".png")>-1||e.indexOf(".jpg")>-1?cc.assetManager.loadRemote(e,r):cc.assetManager.loadRemote(e,{ext:".jpg"},r)})},t.onLoadOnlyHttpImage=function(t,e){var o=this;if(void 0===t&&(t=""),e||""!=t){if(this._imageUrlDic)for(var n in this._imageUrlDic)if(n===t)return void(e&&e(this._imageUrlDic[t]));cc.assetManager.loadRemote(t,function(n,i){if(n)return console.log("\u52a0\u8f7d\u56fe\u7247\u9519\u8bef + errorInfo =",n,"/\u518d\u6b21\u91cd\u65b0\u52a0\u8f7d\u56fe\u7247"),void(e&&e());if(i){var r=new cc.SpriteFrame(i);o._imageUrlDic[t]=r,e&&e(r)}})}},t.setSprite=function(t,e,o){void 0===e&&(e=""),t&&""!=e&&cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){if(e)return console.error(e),void(o&&o());t.spriteFrame=n,o&&o(n)})},t.onLoadHttpTextData=function(t,e){void 0===t&&(t=""),""!=t&&(console.log(t),c.default.downloadFile(t,function(t){e&&e(t)}))},t.setNodePos=function(t,e,o,n){if(t&&t.isValid){var i=t.getPosition();null!=e&&(i.x=e),null!=o&&(i.y=o),null!=n&&(i.z=n),t.setPosition(i)}else Error("setNodePos: no node")},t.setNodePosX=function(e,o){void 0===o&&(o=0),t.setNodePos(e,o)},t.setNodePosY=function(e,o){void 0===o&&(o=0),t.setNodePos(e,null,o)},t.setNodePosZ=function(e,o){void 0===o&&(o=0),t.setNodePos(e,null,null,o)},t.addNodePos=function(t,e,o,n){if(void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=0),t&&t.isValid){var i=t.getPosition();i.x+=e,i.y+=o,i.z+=n,t.setPosition(i)}},t.addNodePosX=function(e,o){void 0===o&&(o=0),t.addNodePos(e,o)},t.addNodePosY=function(e,o){void 0===o&&(o=0),t.addNodePos(e,null,o)},t.addNodePosZ=function(e,o){void 0===o&&(o=0),t.addNodePos(e,null,null,o)},t.getRectInView=function(t,e){var o=e||cc.Camera.findCamera(t),n=t.getContentSize(),i=new cc.Vec2(0,0),r=new cc.Vec2(0,0);return o.getWorldToScreenPoint(t.convertToWorldSpaceAR(new cc.Vec2(.5*-n.width,.5*-n.height)),i),o.getWorldToScreenPoint(t.convertToWorldSpaceAR(new cc.Vec2(.5*n.width,.5*n.height)),r),new cc.Rect(i.x,i.y,r.x-i.x,r.y-i.y)},t.getMMSSBySecond=function(t){var e,o=Math.floor(t/60),n=Math.floor(t-60*o),i="";return o<=0||(i=o<10?"0"+o:""+o),(""==i?"00":i)+":"+(""==(e=n<=0?"":n<10?"0"+n:""+n)?"00":e)},t.getScoreStr=function(t){for(var e=t+"",o=0,n=e.length-1;n>=0;n--)++o%3==0&&0!=n&&(e=e.slice(0,n)+","+e.slice(n));return e},t.getDiffDay=function(t){var e=new Date(new Date((new Date).toLocaleDateString()).getTime()),o=new Date;o.setTime(1e3*t);var n=new Date(new Date(o.toLocaleDateString()).getTime());return e.getTime()-n.getTime()>0},t.checkUsePlat=function(t){for(var e=0;e<t.length;e++)if(cc.sys.platform==t[e])return!0;return!1},t.createMesh=function(t,e){for(var o=cc.gfx,n=new o.VertexFormat([{name:o.ATTR_POSITION,type:o.ATTR_TYPE_FLOAT32,num:3},{name:o.ATTR_NORMAL,type:o.ATTR_TYPE_FLOAT32,num:3},{name:o.ATTR_COLOR,type:o.ATTR_TYPE_UINT8,num:4,normalize:!0}]),i=[],r=0;r<t.positions.length;r++)i.push(e);var a=new cc.Mesh;return a.init(n,t.positions.length),a.setVertices(o.ATTR_POSITION,t.positions),a.setVertices(o.ATTR_NORMAL,t.normals),a.setVertices(o.ATTR_COLOR,i),a.setIndices(t.indices),a.setBoundingBox(t.minPos,t.maxPos),a},t._showNoTouchNum=0,t._imageUrlDic={},t}();o.default=u,cc._RF.pop()},{"../../GameController":"GameController","../../comFrame/const/ViewZOrder":"ViewZOrder","../../comFrame/network/XmlHttp":"XmlHttp","../../comFrame/ui/UIMng":"UIMng","../../data/ConstantCf":"ConstantCf","../ui/common/WaitMng":"WaitMng","../ui/pause/UIPrompt":"UIPrompt","./AudioCtr":"AudioCtr"}],UIInvite:[function(t,e,o){"use strict";cc._RF.push(e,"ffdb8a5wEpJ+I0b1LFj1MyX","UIInvite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../others/UIHelp"),c=t("../../../comFrame/ui/UIBase"),s=t("../../others/GameCtr"),l=t("../../../data/ConstantCf"),d=cc._decorator,u=d.ccclass,p=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiNode=null,e.downloadBtnNode=null,e.urlTxt=null,e.errorNode=null,e.errorTxt=null,e.phoneTxt=null,e.maskNode=null,e._phoneSystem=l.PhoneSystem.NONE,e}return i(e,t),e.prototype.onUILoad=function(){this.maskNode.active=!1,this.uiNode.active=!1,this.errorNode.active=!1,this.uiNode.active=!0,this.initInfo(),a.default.onRegisterBtnEvent(this.downloadBtnNode,this.onClickDownloadBtnNode.bind(this),this)},e.prototype.start=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onClickDownloadBtnNode=function(){var t=s.default.getH5RunEnvironment();t==l.H5RunEnvironment.WX||t==l.H5RunEnvironment.QQ?this.maskNode.active=!0:(s.default.webCopyString("\u590d\u5236\u6d4b\u8bd5:qgg2077"),window.inviteCall&&window.inviteCall.skipDownload&&window.inviteCall.skipDownload())},e.prototype.initInfo=function(){this.phoneTxt.string=this._phoneSystem==l.PhoneSystem.ANDROID?"Android":this._phoneSystem==l.PhoneSystem.IOS?"IOS":"null";var t=window.location.href;this.urlTxt.string=t},e.prefabUrl="ui/main/UIInvite",e.className="UIInvite",r([p({type:cc.Node,tooltip:"uiNode"})],e.prototype,"uiNode",void 0),r([p({type:cc.Node,tooltip:"\u4e0b\u8f7d\u6309\u94ae"})],e.prototype,"downloadBtnNode",void 0),r([p({type:cc.Label,tooltip:"\u5730\u5740\u6587\u672c"})],e.prototype,"urlTxt",void 0),r([p({type:cc.Node,tooltip:"errorNode"})],e.prototype,"errorNode",void 0),r([p({type:cc.Label,tooltip:"\u5f02\u5e38\u6587\u672c"})],e.prototype,"errorTxt",void 0),r([p({type:cc.Label,tooltip:"\u624b\u673a\u7cfb\u7edf"})],e.prototype,"phoneTxt",void 0),r([p({type:cc.Node,tooltip:"\u4e0b\u8f7d\u6309\u94ae"})],e.prototype,"maskNode",void 0),r([u],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../comFrame/ui/UIBase":"UIBase","../../../data/ConstantCf":"ConstantCf","../../others/GameCtr":"GameCtr","../../others/UIHelp":"UIHelp"}],UIMain:[function(t,e,o){"use strict";cc._RF.push(e,"72502JSy0hIkogze1n2lpkX","UIMain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../others/UIHelp"),c=t("../../../comFrame/ui/UIBase"),s=t("./UIMap"),l=cc._decorator,d=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startBtnNode=null,e}return i(e,t),e.prototype.onUILoad=function(){a.default.onRegisterBtnEvent(this.startBtnNode,this.onClickStartBtnNode.bind(this),this)},e.prototype.start=function(){},e.prototype.onUIDestroy=function(){a.default.unRegisterBtnEvent(this.startBtnNode,this.onClickStartBtnNode.bind(this),this)},e.prototype.onClickStartBtnNode=function(){a.default.showUI(s.default)},e.prefabUrl="ui/main/UIMain",e.className="UIMain",r([u({type:cc.Node,tooltip:"\u5f00\u59cb\u6e38\u620f\u6309\u94ae"})],e.prototype,"startBtnNode",void 0),r([d],e)}(c.default);o.default=p,cc._RF.pop()},{"../../../comFrame/ui/UIBase":"UIBase","../../others/UIHelp":"UIHelp","./UIMap":"UIMap"}],UIMap:[function(t,e,o){"use strict";cc._RF.push(e,"eac1fqoprZHTYjBoHfgQd+k","UIMap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../others/UIHelp"),s=t("../../../comFrame/ui/UIBase"),l=t("../../others/GameCtr"),d=t("../../../data/ConstantCf"),u=t("../../others/LineItem"),p=t("../../../data/Config"),h=t("../../../comFrame/utils/ComFun"),f=t("../../others/AndroidCtr"),y=t("../../others/CutToAnimation"),_=t("../../../comFrame/event/EventMng"),g=t("../../others/StartAnimation"),v=cc._decorator,m=v.ccclass,w=v.property;(function(t){t[t.MOVE=0]="MOVE",t[t.CLICK=1]="CLICK"})(a||(a={}));var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startAnimation=null,e.CameraNode=null,e.mainNode=null,e.controlNode=null,e.mapNode=null,e.CutToAni=null,e.startAnimationBtn=null,e.cutToBtn=null,e.lineListNode=null,e.linePrefab=null,e.dotNode=null,e.dot0=null,e._mapPos=cc.v3(0,0,0),e._mapSpeed=.5,e._startMove=!1,e._startPos=null,e.LinePool=new cc.NodePool,e._touchMode=a.MOVE,e}return i(e,t),e.prototype.onUILoad=function(){p.default.playCf.CutToState=!1,f.default.loadsuc(),this.mainNode.eulerAngles=this._mapPos,this.dotNode.active=!1,this.CameraNode.node.z=l.default.getCamera_z(),c.default.onRegisterBtnEvent(this.startAnimationBtn,this.onClickStartAnimation.bind(this),this),c.default.onRegisterBtnEvent(this.cutToBtn,this.onClickCutToBtn.bind(this),this),this.controlNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.controlNode.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.controlNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.controlNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),_.default.on(d.EGameEvent.BACKTO_CALLBACK,this.onBackToCallback.bind(this),this),_.default.on(d.EGameEvent.CONVERT_WORLD_POSITION,this.onConvertWorldPos.bind(this),this)},e.prototype.start=function(){this.onPlayStartAnimation()},e.prototype.update=function(){if(0==p.default.playCf.PlayCutToAction){var t=this.mainNode.eulerAngles.y+.4;this.mainNode.eulerAngles=cc.v3(this.mainNode.eulerAngles.x,t,this._mapPos.z)}},e.prototype.onUIDestroy=function(){c.default.unRegisterBtnEvent(this.startAnimationBtn,this.onClickStartAnimation.bind(this),this),c.default.unRegisterBtnEvent(this.cutToBtn,this.onClickCutToBtn.bind(this),this),_.default.off(d.EGameEvent.BACKTO_CALLBACK,this.onBackToCallback.bind(this),this)},e.prototype.onTouchStart=function(t){this._startMove||p.default.playCf.PlayCutToAction||(this._touchMode=a.CLICK,this._startMove=!0,this._startPos={x:t.getLocation().x,y:t.getLocation().y})},e.prototype.onTouchMove=function(t){if(this._startMove&&null!=this._startPos&&!p.default.playCf.PlayCutToAction){this._touchMode=a.MOVE;var e=t.getLocation(),o=(e.x-this._startPos.x)*this._mapSpeed,n=(e.y,this._startPos.y,this._mapSpeed,this.mainNode.eulerAngles),i=(Math.floor((Math.abs(n.y)+90)/180),n.x,n.y+o);this.mainNode.eulerAngles=cc.v3(this._mapPos.x,i,this._mapPos.z),this._startPos={x:t.getLocation().x,y:t.getLocation().y}}},e.prototype.onTouchCancel=function(t){if(this._startMove=!1,this._touchMode==a.CLICK)for(var e=this.CameraNode.getRay(t.getLocation()),o=cc.geomUtils.intersect.raycast(cc.director.getScene(),e),n=0;n<o.length;n++){var i=o[n];if(i&&i.node&&"dotItem"==i.node.name)break}},e.prototype.onTouchEnd=function(t){this.onTouchCancel(t)},e.prototype.initMapLine=function(){this.unscheduleAllCallbacks();for(var t=0;t<p.default.playCf.MapLineNumber;++t)this.setMapLine(.2*t)},e.prototype.setMapLine=function(t){void 0===t&&(t=0),this.scheduleOnce(this.createLine.bind(this),t)},e.prototype.createLine=function(){var t=this;if(!(p.default.playCf.CutToState||this.lineListNode.childrenCount>p.default.playCf.MapLineNumber)){var e=this.LinePool.get();null==e&&(e=cc.instantiate(this.linePrefab)),e.active=!0,e.parent=this.lineListNode,e.position=cc.v3();var o=l.default.getMapAtWillPos(2);e.getComponent(u.default).onInit(o,function(e){e.active=!1,t.LinePool.put(e),p.default.playCf.CutToState?0==t.lineListNode.childrenCount&&0==p.default.playCf.PlayCutToAction&&(p.default.playCf.PlayCutToAction=!0,t.CutToAni.onPlay()):t.setMapLine()})}},e.prototype.onClickStartAnimation=function(){window.sgg2077Call&&window.sgg2077Call.startActionFunc()},e.prototype.onClickCutToBtn=function(){window.sgg2077Call&&window.sgg2077Call.cutToFunc()},e.prototype.onBackToCallback=function(){p.default.playCf.CutToState=!1,this.initMapLine(),this.CutToAni.playLightAction()},e.prototype.onPlayStartAnimation=function(){var t=this;this.startAnimationBtn.active=!1,this.startAnimation.playAnimation(function(){t.initMapLine()})},e.prototype.createMapPosList=function(t){this.dotNode.active=!0,this.dotNode.position=cc.v3(),this.dot0.eulerAngles=t==d.MapPosType.LINE?cc.v3(-90,0,0):cc.v3();var e=[];if(t==d.MapPosType.LINE)for(var o=p.default.playCf.MapAngleCount,n=0;n<o;++n){var i=180*n/o;console.log("angleX = "+i);for(var r=0;r<1;++r){var a=360*r/1;this.dotNode.eulerAngles=cc.v3(i,a,0);var c=this.mainNode.convertToNodeSpaceAR(this.dot0.convertToWorldSpaceAR(cc.v3())),s={x:h.default.retainNumber(c.x,4),y:h.default.retainNumber(c.y,4),z:h.default.retainNumber(c.z,4),rotate:i,angleX:h.default.retainNumber(this.dot0.eulerAngles.x+this.dotNode.eulerAngles.x,4),angleY:h.default.retainNumber(this.dot0.eulerAngles.y+this.dotNode.eulerAngles.y,4),angleZ:h.default.retainNumber(this.dot0.eulerAngles.z+this.dotNode.eulerAngles.z,4)};e.push(s)}}else if(t==d.MapPosType.DOT){var l=Math.floor(36);for(n=0;n<l;++n){i=180*n/l;var u=90/(90-Math.abs(90-i)),f=Math.max(1,Math.floor(360/u));for(r=0;r<f;++r)a=360*r/f,this.dotNode.eulerAngles=cc.v3(i,a,0),c=this.mainNode.convertToNodeSpaceAR(this.dot0.convertToWorldSpaceAR(cc.v3())),s={x:h.default.retainNumber(c.x,4),y:h.default.retainNumber(c.y,4),z:h.default.retainNumber(c.z,4),rotate:i,angleX:h.default.retainNumber(this.dot0.eulerAngles.x+this.dotNode.eulerAngles.x,4),angleY:h.default.retainNumber(this.dot0.eulerAngles.y+this.dotNode.eulerAngles.y,4),angleZ:h.default.retainNumber(this.dot0.eulerAngles.z+this.dotNode.eulerAngles.z,4)},e.push(s)}}this.dotNode.eulerAngles=cc.v3(),console.log(JSON.stringify(e))},e.prototype.onConvertWorldPos=function(t){if(t&&t.pos){var e=t.pos,o=cc.Canvas.instance.node,n=new cc.Vec3;this.CameraNode._camera.worldToScreen(n,e,o.width,o.height),cc.v3(n.x,n.y,0)}},e.prefabUrl="ui/main/UIMap",e.className="UIMap",r([w({type:g.default,tooltip:"\u5f00\u573a\u52a8\u753b"})],e.prototype,"startAnimation",void 0),r([w({type:cc.Camera,tooltip:"3dNode"})],e.prototype,"CameraNode",void 0),r([w({type:cc.Node,tooltip:"3dNode"})],e.prototype,"mainNode",void 0),r([w({type:cc.Node,tooltip:"\u63a7\u5236"})],e.prototype,"controlNode",void 0),r([w({type:cc.Node,tooltip:"\u5730\u7403"})],e.prototype,"mapNode",void 0),r([w({type:y.default,tooltip:"\u5730\u7403"})],e.prototype,"CutToAni",void 0),r([w({type:cc.Node,tooltip:"\u5f00\u573a\u52a8\u753b\u6309\u94ae"})],e.prototype,"startAnimationBtn",void 0),r([w({type:cc.Node,tooltip:"\u8f6c\u573a\u6309\u94ae"})],e.prototype,"cutToBtn",void 0),r([w({type:cc.Node,tooltip:"\u7ebf\u7236\u8282\u70b9"})],e.prototype,"lineListNode",void 0),r([w({type:cc.Prefab,tooltip:"\u7ebf\u9884\u5236\u4f53"})],e.prototype,"linePrefab",void 0),r([w({type:cc.Node,tooltip:"\u70b9"})],e.prototype,"dotNode",void 0),r([w({type:cc.Node,tooltip:"\u70b9"})],e.prototype,"dot0",void 0),r([m],e)}(s.default);o.default=A,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/ui/UIBase":"UIBase","../../../comFrame/utils/ComFun":"ComFun","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../others/AndroidCtr":"AndroidCtr","../../others/CutToAnimation":"CutToAnimation","../../others/GameCtr":"GameCtr","../../others/LineItem":"LineItem","../../others/StartAnimation":"StartAnimation","../../others/UIHelp":"UIHelp"}],UIMng:[function(t,e,o){"use strict";cc._RF.push(e,"efee6ZF/xVCRIheEBjAYRDm","UIMng"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../const/ViewZOrder"),i=t("./uiAct/UIActBase"),r=t("../event/EventMng"),a=t("../../data/ConstantCf"),c=t("../../logic/ui/common/LoadHelper"),s=function(){function t(){this.uiList=[]}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,o,i,s){var l=this;if(void 0===e&&(e=n.ViewZorder.UI),this.getUI(t))return console.error("UIMng OpenUI 1: ui "+t.getName()+" is already exist, please check"),void(o&&o());cc.log("\u6253\u5f00UI",t.getUrl());var d=!1,u=function(n){if(!d){if(d=!0,cc.log("showUI",t.getUrl()),l.getUI(t))return console.error("UIMng OpenUI 2: ui "+t.getName()+" is already exist, please check"),void(o&&o());var i=cc.instantiate(n),c=i.getComponent(t);if(!c)return console.error(t.getUrl()+"\u6ca1\u6709\u7ed1\u5b9aUI\u811a\u672c!!!"),void(o&&o());c.init(s);var u=cc.director.getScene().getChildByName("Canvas");if(!u)return console.error("\u5f53\u524d\u573a\u666f"+cc.director.getScene().name+"Canvas!!!"),void(o&&o());c.isFullScene&&l.hideAllUI(),i.parent=u,i.getComponent(cc.Widget)&&i.getComponent(cc.Widget).updateAlignment(),i.zIndex=e,l.uiList.push(c),r.default.emit(a.EGameEvent.UI_SHOW,{ui:t.getName()}),c.tag=t,o&&o(c),l.openAct(i).then(function(){c.onOpenAct()})}};c.default.loadPrefab(t.getUrl(),t.getBundleName()).then(function(t){u(t)}).catch(function(t){if(t)return console.error("UIMng OpenUI: load ui error: "+t),void(o&&o())}),setTimeout(function(){d||(d=!0,l.openUI(t,e,o,i,s))},5e3)},t.prototype.clearDependsRes=function(t){cc.loader.getDependsRecursively(t).forEach(function(){})},t.prototype.closeUI=function(t){for(var e=!1,o=t.getName(),n=function(o){var n=i.uiList[o];if(n&&n.tag===t)return e=n.isFullScene,cc.isValid(n.node)&&i.closeAct(n.node).then(function(){n.onCloseAct(),n.node.destroy()}),i.uiList.splice(o,1),"break"},i=this,c=0;c<this.uiList.length&&"break"!==n(c);++c);if(t&&r.default.emit(a.EGameEvent.UI_HIDE,{ui:o}),e&&this.showAllUI(),this.uiList.length>0){var s=this.uiList[this.uiList.length-1];s&&s.tag&&r.default.emit(a.EGameEvent.UI_SHOW,{ui:s.tag.getName()})}else r.default.emit(a.EGameEvent.UI_SHOW,{ui:"None"})},t.prototype.closeAllUI=function(){if(0!=this.uiList.length)for(this.uiList[0].tag?this.closeUI(this.uiList[0].tag):this.uiList.splice(0,1);this.uiList.length>0;)this.uiList[0].tag?this.closeUI(this.uiList[0].tag):this.uiList.splice(0,1)},t.prototype.showUI=function(t){var e=this.getUI(t);e?e.node.active=!0:console.error("UIMng showUI: ui "+t.getName()+" not exist")},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t.prototype.isShowing=function(t){var e=this.getUI(t);return!!e&&e.node.active},t.prototype.hideAllUI=function(){if(0!=this.uiList.length)for(var t=0;t<this.uiList.length;t++)this.uiList[t].node.active=!1},t.prototype.showAllUI=function(){if(0!=this.uiList.length)for(var t=this.uiList.length-1;t>=0;t--){var e=this.uiList[t];if(e.node.active=!0,e.isFullScene)break}},t.prototype.getTopUI=function(){return this.uiList[this.uiList.length-1]?this.uiList[this.uiList.length-1].tag:null},t.prototype.getTopUIName=function(){var t=this.getTopUI();return t?t.getName():""},t.prototype.openAct=function(t){if(t&&cc.isValid(t)){var e=t.getComponent(i.default);if(e)return e.playOpenAct()}return new Promise(function(t){t()})},t.prototype.closeAct=function(t){if(t&&cc.isValid(t)){var e=t.getComponent(i.default);if(e)return e.playCloseAct()}return new Promise(function(t){t()})},t}();o.default=s,cc._RF.pop()},{"../../data/ConstantCf":"ConstantCf","../../logic/ui/common/LoadHelper":"LoadHelper","../const/ViewZOrder":"ViewZOrder","../event/EventMng":"EventMng","./uiAct/UIActBase":"UIActBase"}],UIPause:[function(t,e,o){"use strict";cc._RF.push(e,"04402hEksBI3LOX8723tvIE","UIPause");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/ui/UIBase"),c=t("../../others/UIHelp"),s=t("./UIPrompt"),l=t("../adNode/AdCtr"),d=t("../../../data/ConstantCf"),u=t("../common/LoadHelper"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backBtn=null,e.homeBtn=null,e.stageListBtn=null,e._closeCallFun=null,e}var o;return i(e,t),o=e,e.prototype.onUILoad=function(){c.default.onRegisterBtnEvent(this.backBtn.node,this.onClose.bind(this)),c.default.onRegisterBtnEvent(this.homeBtn.node,this.onBackHome.bind(this)),c.default.onRegisterBtnEvent(this.stageListBtn.node,this.onStageList.bind(this))},e.prototype.start=function(){},e.prototype.onInit=function(t){this._closeCallFun=t.closeCallFun},e.prototype.onBackHome=function(){var t=this;c.default.showUI(s.default,function(){},{tipStr:"\u662f\u5426\u7ed3\u675f\u5f53\u524d\u5173\u5361?",showNoBtn:!0,okBtnStr:"\u7ed3\u675f",cacelBtnStr:"\u518d\u8003\u8651\u4e00\u4e0b",cbFun:function(e){void 0===e&&(e=!0),t.onClose(),l.default.instance.showAdPage(function(){e&&u.default.runScene(d.ESceneName.MainScene)})}})},e.prototype.onStageList=function(){this._closeCallFun,this._closeCallFun=null,this.onClose()},e.prototype.onClose=function(){c.default.closeUI(o),this._closeCallFun&&this._closeCallFun()},e.prefabUrl="ui/UIPause",e.className="UIPause",e._debugMsgState=!1,r([f({type:cc.Button,tooltip:"\u8fd4\u56de\u6309\u94ae"})],e.prototype,"backBtn",void 0),r([f({type:cc.Button,tooltip:"\u8fd4\u56de\u4e3b\u754c\u9762"})],e.prototype,"homeBtn",void 0),r([f({type:cc.Button,tooltip:"\u5173\u5361\u5217\u8868\u6309\u94ae"})],e.prototype,"stageListBtn",void 0),o=r([h],e)}(a.default);o.default=y,cc._RF.pop()},{"../../../comFrame/ui/UIBase":"UIBase","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","../adNode/AdCtr":"AdCtr","../common/LoadHelper":"LoadHelper","./UIPrompt":"UIPrompt"}],UIPrompt:[function(t,e,o){"use strict";cc._RF.push(e,"9ca00P4ESRJMrBFXRKqCoKE","UIPrompt");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/ui/UIBase"),c=t("../../others/UIHelp"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.yesBtn=null,e.noBtn=null,e.tipsLab=null,e.closeBtnLab=null,e.yesBtnLab=null,e._params=null,e}var o;return i(e,t),o=e,e.prototype.onUILoad=function(){var t=this;c.default.onRegisterBtnEvent(this.yesBtn.node,function(){t.clickYesBtn()}),c.default.onRegisterBtnEvent(this.noBtn.node,function(){t.clickCacelBtn()}),this.tipsLab.string=this._params.tipStr,this.closeBtnLab.string=this._params.cacelBtnStr||"\u53d6\u6d88",this.yesBtnLab.string=this._params.okBtnStr||"\u786e\u5b9a",this.noBtn.node.active=!1,this.yesBtn.node.active=!1,this.yesBtn.node.x=this._params.showNoBtn?-120:0,this.yesBtn.node.active=!0,this.noBtn.node.active=!!this._params.showNoBtn},e.prototype.onInit=function(t){this._params=t},e.prototype.scaleBtnAct=function(t){t.scale=.7,cc.tween(t).to(.2,{scale:1}).start()},e.prototype.clickYesBtn=function(){this.onClose(!0)},e.prototype.clickCacelBtn=function(){this.onClose()},e.prototype.onClose=function(t){void 0===t&&(t=!1),c.default.closeUI(o),this._params.cbFun&&this._params.cbFun(t)},e.prefabUrl="common/UIPrompt",e.className="UIPrompt",r([d({type:cc.Button,tooltip:"\u786e\u5b9a\u6309\u94ae"})],e.prototype,"yesBtn",void 0),r([d({type:cc.Button,tooltip:"\u53d6\u6d88\u6309\u94ae"})],e.prototype,"noBtn",void 0),r([d({type:cc.Label,tooltip:"\u63d0\u793a\u6587\u5b57"})],e.prototype,"tipsLab",void 0),r([d({type:cc.Label,tooltip:"\u5173\u95ed\u6309\u94aelab"})],e.prototype,"closeBtnLab",void 0),r([d({type:cc.Label,tooltip:"\u786e\u5b9a\u6309\u94aelab"})],e.prototype,"yesBtnLab",void 0),o=r([l],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../comFrame/ui/UIBase":"UIBase","../../others/UIHelp":"UIHelp"}],UISupply:[function(t,e,o){"use strict";cc._RF.push(e,"8ba6dN/2t1KnIchWoQCeNK6","UISupply");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../others/UIHelp"),c=t("../../../comFrame/ui/UIBase"),s=t("../../../comFrame/sdk/AdShareMgr"),l=t("../../others/GameCtr"),d=t("../../../data/Config"),u=t("../../../data/ConstantCf"),p=t("../../../comFrame/event/EventMng"),h=cc._decorator,f=h.ccclass,y=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noBtnNode=null,e.itemNumLabel=null,e.itemSprite=null,e.itemSpriteFrames=[],e.iconSprite=null,e.iconSpriteFrames=[],e.titleSprite=null,e.titleSpriteFrame=[],e._EItemStrs=["\u94bb\u77f3\u83b7\u53d6","\u4f53\u529b\u83b7\u53d6","\u91d1\u5e01\u83b7\u53d6"],e._closeCallFun=null,e._itemReward=null,e._clientId=0,e}var o;return i(e,t),o=e,e.prototype.onUILoad=function(){var t=this;this._itemReward?(a.default.onRegisterBtnEvent(this.noBtnNode,this.onClose.bind(this,!1)),this.noBtnNode.active=!1,this.scheduleOnce(function(){t.noBtnNode.active=!0},d.default.playCf.closebtnDelay||0),this.titleSprite.spriteFrame=this.titleSpriteFrame[this._itemReward.itemId],this.itemSprite.spriteFrame=this.itemSpriteFrames[this._itemReward.itemId],this.iconSprite.spriteFrame=this.iconSpriteFrames[this._itemReward.itemId],this.itemNumLabel.string="+"+this._itemReward.num.toLocaleString()):this.onClose(!1)},e.prototype.onOpenAct=function(){p.default.emit(u.EGameEvent.RES_UISHOW,[this._itemReward.itemId])},e.prototype.onInit=function(t){this._closeCallFun=t.closeCallFun;var e=t?t.itemId:0,o=d.default.playCf.resShopCf||[];o[e]&&(this._itemReward={itemId:e,num:o[e]})},e.prototype.onClose=function(t){void 0===t&&(t=!1),a.default.closeUI(o),this._closeCallFun&&this._closeCallFun(t)},e.prototype.onGetReward=function(){var t=this;l.default.getReward([this._itemReward]),a.default.showNoTouchLayer(!0),this.scheduleOnce(function(){a.default.showNoTouchLayer(!1),t.onClose(!0)},1)},e.prototype.onAdShareChangeState=function(t){t==s.EAdShareEvent.EASE_USE_CLICK||(t==s.EAdShareEvent.EASE_USE_OK?this.onGetReward():s.EAdShareEvent.EASE_USE_FAIL)},e.prefabUrl="ui/main/UISupply",e.className="UISupply",r([y(cc.Node)],e.prototype,"noBtnNode",void 0),r([y(cc.Label)],e.prototype,"itemNumLabel",void 0),r([y(cc.Sprite)],e.prototype,"itemSprite",void 0),r([y([cc.SpriteFrame])],e.prototype,"itemSpriteFrames",void 0),r([y(cc.Sprite)],e.prototype,"iconSprite",void 0),r([y([cc.SpriteFrame])],e.prototype,"iconSpriteFrames",void 0),r([y(cc.Sprite)],e.prototype,"titleSprite",void 0),r([y([cc.SpriteFrame])],e.prototype,"titleSpriteFrame",void 0),o=r([f],e)}(c.default);o.default=_,cc._RF.pop()},{"../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdShareMgr":"AdShareMgr","../../../comFrame/ui/UIBase":"UIBase","../../../data/Config":"Config","../../../data/ConstantCf":"ConstantCf","../../others/GameCtr":"GameCtr","../../others/UIHelp":"UIHelp"}],UVAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"e3c3dHWNQxD77O9h4bGhRLz","UVAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.meshRender=null,e.zeroVec=new cc.Vec2(0,1),e.changeVec=new cc.Vec2(0,0),e.mainTilingScale=new cc.Vec2(1,1),e._uvOffset=new cc.Vec2(0,0),e._isPause=!1,e}return i(e,t),e.prototype.start=function(){if(this._uvOffset=this.zeroVec,1!=this.mainTilingScale.x||1!=this.mainTilingScale.y){var t=this.meshRender.getMaterial(0),e=t.getProperty("mainTiling",0);e&&t.setProperty("mainTiling",[e[0]*this.mainTilingScale.x,e[1]*this.mainTilingScale.y])}},e.prototype.changeUVOffset=function(t){this._isPause||(this._uvOffset.x+=this.changeVec.x*t,this._uvOffset.x>=1?this._uvOffset.x=0:this._uvOffset.x<=0&&(this._uvOffset.x=1),this._uvOffset.y+=this.changeVec.y*t,this._uvOffset.y>=1?this._uvOffset.y=0:this._uvOffset.y<=0&&(this._uvOffset.y=1),this.meshRender.getMaterial(0).setProperty("mainOffset",this._uvOffset.clone()))},Object.defineProperty(e.prototype,"isPause",{set:function(t){cc.log("isPause",t),this._isPause=t},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this.changeUVOffset(60*t)},r([s(cc.MeshRenderer)],e.prototype,"meshRender",void 0),r([s],e.prototype,"zeroVec",void 0),r([s],e.prototype,"changeVec",void 0),r([s],e.prototype,"mainTilingScale",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ViewZOrder:[function(t,e,o){"use strict";cc._RF.push(e,"ceb53+Gkr9Ht5impzc8XxGE","ViewZOrder"),Object.defineProperty(o,"__esModule",{value:!0}),o.ViewZorder=void 0;var n=function(){function t(){}return t.Scene=20,t.MenuPanel=80,t.UI=100,t.Dialog=200,t.ResTop=300,t.Tips=400,t.Guide=500,t.Notice=600,t.Loading=700,t}();o.ViewZorder=n,cc._RF.pop()},{}],VivoAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"c3c24OOwlZBQpigYCnRilSs","VivoAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../data/ConstantCf"),s=t("./NativeAd"),l=t("../../../comFrame/sdk/AdMgr"),d=t("../../../GameController"),u=t("../../others/UIHelp"),p=t("../../../comFrame/sdk/InsertAdMgr"),h=t("../../../comFrame/utils/ComFun"),f=t("../../../GameDataCenter"),y=cc._decorator,_=y.ccclass,g=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameNativeNode=null,e.gameNativeIcon=null,e.resultNativeAd=null,e.nativeAd=null,e.addDeskNode=null,e.moreNode=null,e._loadInsert=!1,e._preSceneName="startScene",e._showInsertAdTime=0,e._gameCD=!1,e._isFirstShortcut=!1,e}return i(e,t),e.prototype.start=function(){a.default.on(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.on(c.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this),a.default.on(c.EGameEvent.SHOW_INSERTAD,this.showInsertAd.bind(this),this),a.default.on(c.EGameEvent.SHOW_ADD_Desktop,this.checkAddDesktop.bind(this),this),a.default.on(c.EGameEvent.HIDE_ADD_Desktop,this.hideAddDesktop.bind(this),this),u.default.onRegisterBtnEvent(this.addDeskNode,this.onClickAddDesk.bind(this),this),this.addDeskNode.active=!1,this.moreNode.active=!1,this._gameCD=!0,this.showBoxPortalAd()},e.prototype.onDestroy=function(){a.default.off(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.off(c.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this),a.default.off(c.EGameEvent.SHOW_INSERTAD,this.showInsertAd.bind(this),this),a.default.off(c.EGameEvent.SHOW_ADD_Desktop,this.checkAddDesktop.bind(this),this),a.default.off(c.EGameEvent.HIDE_ADD_Desktop,this.hideAddDesktop.bind(this),this),u.default.unRegisterBtnEvent(this.addDeskNode,this.onClickAddDesk.bind(this),this)},e.prototype.onShowUI=function(t){var e=this,o=t.ui;console.log("ad onShowUI",o),"None"!=o&&(["UIRoleGet","dialogueItem","floatBox","UIChapter","UISign","UITarget","UITask","UILockGet","UINewMusic"].indexOf(o)>-1?l.default.instance.showBanner(!0):l.default.instance.showBanner(),"UIGame"==o&&this._gameCD?this.checkAddDesktop():(this.addDeskNode.active=!1,this.gameNativeNode.active=!1),"UIResult"==o&&0==f.default.account.isPlayFirst&&this.resultNativeAd.onShow(function(t){if(t){e.resultNativeAd.node.y=-237;var o=cc.find("UIResult/ui/downNode/btns/back",cc.director.getScene().getChildByName("Canvas"));o&&(o.position=cc.v3(246,-78,0));var n=cc.find("UIResult/ui/downNode/btns/rePlay",cc.director.getScene().getChildByName("Canvas"));n&&(n.position=cc.v3(-246,-78,0));var i=cc.find("UIResult/ui/downNode/btns/next",cc.director.getScene().getChildByName("Canvas"));i&&(i.position=cc.v3(-246,-78,0))}}))},e.prototype.checkAddDesktop=function(){var t=this;this._gameCD=!0,this.addDeskNode.active=!1,d.default.sdkManager.checkAddDesktop(function(e){void 0===e&&(e=!1),t.addDeskNode.active=!e}),this.UIGameShowNativeIcon()},e.prototype.hideAddDesktop=function(){this._gameCD=!1,this.addDeskNode.active=!1,this.gameNativeNode.active=!1},e.prototype.showScene=function(){},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui);var e=t.ui;console.log("ad onShowUI",e),"None"!=e&&("UIGame"==e&&(this._gameCD=!0),["dialogueItem","UIDress","UITask"].indexOf(e)>-1&&p.default.getInstance().onShowInsertAd(),"UIResult"==e&&this.resultNativeAd.onClose(),["floatBox","FoodSupply","PotBox","UIMystery"].indexOf(e)>-1&&this.showInsertAd())},e.prototype.showInsertAd=function(){var t=this;console.log("vivo showInsertAd"),h.default.getLocalTime(0)-this._showInsertAdTime>20&&this.nativeAd.onShow(function(e){t._showInsertAdTime=h.default.getLocalTime(0),e||p.default.getInstance().onShowInsertAd()})},e.prototype.onClickAddDesk=function(){var t=this;d.default.sdkManager.onAddDesktop(function(e){void 0===e&&(e=!1),t.addDeskNode.active=!e})},e.prototype.showBoxPortalAd=function(){if(qg.createBoxPortalAd){var t=qg.createBoxPortalAd({posId:"6d02c0a2db7f4eb8af17d580b0b4b423",image:"",marginTop:100});t.onError(function(t){console.log("\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),t.onClose(function(){console.log("close"),t.isDestroyed||t.show()}),t.show().then(function(){console.log("show success")})}else console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},e.prototype.showBoxBanner=function(){var t=null;qg.createBoxBannerAd?((t=qg.createBoxBannerAd({posId:"e4a1a30c6f7342b6b8d89b1796e01edc"})).onError(function(t){console.log("\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),t.show().then(function(){console.log("show success")})):console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},e.prototype.UIGameShowNativeIcon=function(){var t=this;this.gameNativeNode.active=!0,0==this._loadInsert?this.gameNativeIcon.onShow(function(e){t._loadInsert=e,t.gameNativeNode.active=t._loadInsert}):this.gameNativeNode.active=this._loadInsert},r([g({type:cc.Node,tooltip:"gameNativeNode"})],e.prototype,"gameNativeNode",void 0),r([g({type:s.default,tooltip:"gameNativeIcon"})],e.prototype,"gameNativeIcon",void 0),r([g({type:s.default,tooltip:"resultNativeAd"})],e.prototype,"resultNativeAd",void 0),r([g({type:s.default,tooltip:"nativeAd"})],e.prototype,"nativeAd",void 0),r([g({type:cc.Node,tooltip:"\u6dfb\u52a0\u684c\u9762"})],e.prototype,"addDeskNode",void 0),r([g({type:cc.Node,tooltip:"\u66f4\u591a\u7cbe\u5f69"})],e.prototype,"moreNode",void 0),r([_],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../GameController":"GameController","../../../GameDataCenter":"GameDataCenter","../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/sdk/InsertAdMgr":"InsertAdMgr","../../../comFrame/utils/ComFun":"ComFun","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","./NativeAd":"NativeAd"}],WXMsgNode:[function(t,e,o){"use strict";cc._RF.push(e,"2750bf3LjJArYLVsJuqI1XC","WXMsgNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/sdk/AdMgr"),c=t("../../../comFrame/utils/ComFun"),s=t("../../../data/ConstantCf"),l=t("../../others/UIHelp"),d=t("./WXSubNode"),u=["\u6613\u70ca\u5343\u73ba","\u5468\u6770\u4f26","\u6797\u4fca\u6770","\u8fea\u4e3d\u70ed\u5df4","\u9e7f\u6657","Angelababy","\u6768\u5e42","\u5510\u5ae3","\u80e1\u6b4c","\u738b\u4fca\u51ef","\u5f20\u5b66\u53cb","\u859b\u4e4b\u8c26","\u8d75\u4e3d\u9896","\u9648\u4f1f\u9706","\u5f20\u827a\u5174","\u6731\u4e00\u9f99","\u738b\u4e00\u535a","\u674e\u6613\u5cf0","\u9648\u8d6b"],p=cc._decorator,h=p.ccclass,f=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msgNode=null,e.nameLab=null,e.desLab=null,e.wxSubNode=null,e._adPosData=null,e}return i(e,t),e.prototype.start=function(){l.default.onRegisterBtnEvent(this.msgNode,this.onClick.bind(this))},e.prototype.onShow=function(){var t=this;a.default.instance.adSdk.isOpenMisTouch(s.EMisTouchIds.WX_TOPTIPS)&&(this.node.active||a.default.instance.getShuffleAdData(0).then(function(e){var o=e[0];o?(t.node.active=!0,t._adPosData=o,t.nameLab.string=c.default.getRandList(u,1)[0],t.desLab.string="\u9080\u8bf7\u4f60\u4e00\u8d77\u73a9 "+o.title,cc.Tween.stopAllByTarget(t.msgNode),t.msgNode.y=t.msgNode.height,cc.tween(t.msgNode).to(.5,{y:0}).delay(2).to(.5,{y:t.msgNode.height}).call(function(){t.onHide()}).start()):t.onHide()}))},e.prototype.onHide=function(){this.node.active=!1},e.prototype.onClick=function(){var t=this;this._adPosData&&a.default.instance.navigateToProgram(this._adPosData.originData).then(function(){}).catch(function(){t.wxSubNode.onShow(3)})},r([f(cc.Node)],e.prototype,"msgNode",void 0),r([f(cc.Label)],e.prototype,"nameLab",void 0),r([f(cc.Label)],e.prototype,"desLab",void 0),r([f({type:d.default,tooltip:"WXSubNode"})],e.prototype,"wxSubNode",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/utils/ComFun":"ComFun","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","./WXSubNode":"WXSubNode"}],WXSubNode:[function(t,e,o){"use strict";cc._RF.push(e,"8b35dXiru1Ak65IC6HhHyEi","WXSubNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/sdk/AdMgr"),c=t("../../../comFrame/utils/ComFun"),s=t("../../../data/ConstantCf"),l=t("../../../GameController"),d=t("../../others/UIHelp"),u=t("./FriendPlayCard"),p=[3,2],h=new cc.Size(200,280),f=cc._decorator,y=f.ccclass,_=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeFriendPlayBtn=null,e.closeFriendChallengeBtn=null,e.yesFriendChallengeBtn=null,e.friendPlayNode=null,e.friendChallenge=null,e.challengeGameIcon=null,e.challengeGameNameLab=null,e.friendPlayCardPrefab=null,e.listNode=null,e._isMissTouchCloseFriendPlay=!1,e._challengeGameData=null,e._adPosIndex=0,e._allAdPosDatas=[],e}return i(e,t),e.prototype.start=function(){d.default.onRegisterBtnEvent(this.closeFriendPlayBtn,this.onCloseFriendPlay.bind(this)),d.default.onRegisterBtnEvent(this.closeFriendChallengeBtn,this.onCloseFriendChallenge.bind(this)),d.default.onRegisterBtnEvent(this.yesFriendChallengeBtn,this.onOkFriendChallenge.bind(this))},e.prototype.onShow=function(t){var e=this;if(t==s.EMainSubMsgType.FriendPlayList){if(!a.default.instance.adSdk.isOpenMisTouch(s.EMisTouchIds.WX_FRIENDPLAY))return!1;this._isMissTouchCloseFriendPlay=a.default.instance.adSdk.isOpenMisTouch(s.EMisTouchIds.CLOSE_BTN),this.friendPlayNode.active=!0}else if(t==s.EMainSubMsgType.FriendChallenge){if(!a.default.instance.adSdk.isOpenMisTouch(s.EMisTouchIds.WX_FRIENDCHALLENGE))return!1;this.friendChallenge.active=!0}return this.node.active||(this.node.active=!0,l.default.sdkManager.postMessage({messageType:s.EMainSubMsgType.None})),a.default.instance.getShuffleAdData(0).then(function(o){if(t==s.EMainSubMsgType.FriendPlayList)e._allAdPosDatas=o,e.beginScrollList();else if(t==s.EMainSubMsgType.FriendChallenge){var n=o[0];if(!n)return void e.onHide(t);e._challengeGameData=n,e.challengeGameNameLab.string=n.title,d.default.onLoadHttpImage(e.challengeGameIcon,c.default.getRandList(n.icons,1)[0])}l.default.sdkManager.postMessage({messageType:t,data:o})}),!0},e.prototype.onHide=function(t){t==s.EMainSubMsgType.FriendPlayList?(this.friendPlayNode.active=!1,this._isMissTouchCloseFriendPlay?this.onShow(s.EMainSubMsgType.FriendChallenge):l.default.sdkManager.postMessage({messageType:t})):t==s.EMainSubMsgType.FriendChallenge&&(this.friendChallenge.active=!1,l.default.sdkManager.postMessage({messageType:t}),this._isMissTouchCloseFriendPlay&&(this._isMissTouchCloseFriendPlay=!1,this.friendPlayNode.active=!0))},e.prototype.onCloseFriendPlay=function(){this.onHide(s.EMainSubMsgType.FriendPlayList)},e.prototype.onCloseFriendChallenge=function(){this.onHide(s.EMainSubMsgType.FriendChallenge)},e.prototype.onOkFriendChallenge=function(){this.onHide(s.EMainSubMsgType.FriendChallenge),this._challengeGameData&&a.default.instance.navigateToProgram(this._challengeGameData.originData)},e.prototype.getOneAdPosData=function(){var t=this._allAdPosDatas[this._adPosIndex];return t?this._adPosIndex++:(this._adPosIndex=0,t=this._allAdPosDatas[this._adPosIndex]),t},e.prototype.beginScrollList=function(t){var e=this;if(void 0===t&&(t=!1),t)l.default.sdkManager.postMessage({messageType:s.EMainSubMsgType.FriendPlayListScroll}),cc.Tween.stopAllByTarget(this.listNode),cc.tween(this.listNode).by(.2,{x:-(h.width+20)}).call(function(){var t=e.listNode.x,o=p[0];e.listNode.children.sort(function(t,e){return t.x==e.x?e.y-t.y:t.x-e.x});for(var n=0;n<p[1];n++){var i=n,r=e.getPlayAdItem(n);r.init(e.getOneAdPosData()),r.node.x=10-t+(o+.5)*h.width+20*o,r.node.y=-(10+(i+.5)*h.height+20*i)}}).delay(2).call(function(){e.beginScrollList(!0)}).start();else{for(var o=this.listNode.x,n=0;n<(p[0]+1)*p[1];n++){var i=this.getPlayAdItem(n);i.init(this.getOneAdPosData());var r=Math.floor(n/p[1]),a=n-r*p[1];i.node.x=10-o+(r+.5)*h.width+20*r,i.node.y=-(10+(a+.5)*h.height+20*a)}this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.beginScrollList(!0)},2)}},e.prototype.getPlayAdItem=function(t){var e=this.listNode.children[t];return e||((e=cc.instantiate(this.friendPlayCardPrefab)).parent=this.listNode),e.getComponent(u.default)},r([_(cc.Node)],e.prototype,"closeFriendPlayBtn",void 0),r([_(cc.Node)],e.prototype,"closeFriendChallengeBtn",void 0),r([_(cc.Node)],e.prototype,"yesFriendChallengeBtn",void 0),r([_(cc.Node)],e.prototype,"friendPlayNode",void 0),r([_(cc.Node)],e.prototype,"friendChallenge",void 0),r([_(cc.Sprite)],e.prototype,"challengeGameIcon",void 0),r([_(cc.Label)],e.prototype,"challengeGameNameLab",void 0),r([_(cc.Prefab)],e.prototype,"friendPlayCardPrefab",void 0),r([_(cc.Node)],e.prototype,"listNode",void 0),r([y],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../GameController":"GameController","../../../comFrame/sdk/AdMgr":"AdMgr","../../../comFrame/utils/ComFun":"ComFun","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","./FriendPlayCard":"FriendPlayCard"}],WaitMng:[function(t,e,o){"use strict";cc._RF.push(e,"fb0b4nyJUtG96qbR/UsHTkf","WaitMng"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./LoadAni"),i=t("./LoadHelper"),r=function(){function t(){this._waitStep=0,this._loadAni=null}return t.prototype.init=function(){var t=this;return new Promise(function(e,o){t._loadAni?e():i.default.loadPrefab("prefabs/common/loadAni").then(function(o){var i=cc.instantiate(o);cc.game.addPersistRootNode(i),t._loadAni=i.getComponent(n.default),t._loadAni.onHide(),e()}).catch(function(t){o(t)})})},t.prototype.showWait=function(){this._loadAni&&(this._waitStep++,this._loadAni.onShow())},t.prototype.stopWait=function(){this._loadAni&&(this._waitStep--,this._waitStep<=0&&(this._waitStep=0,this._loadAni.onHide()))},t}();o.default=new r,cc._RF.pop()},{"./LoadAni":"LoadAni","./LoadHelper":"LoadHelper"}],WxAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"46cc6I1FDNMzKnv3VLlplQO","WxAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../data/ConstantCf"),s=t("../../../GameController"),l=t("../../others/UIHelp"),d=t("./CenterPage"),u=t("./MoreGameList"),p=t("./PosAdItem"),h=t("./WXMsgNode"),f=t("./WXSubNode"),y=cc._decorator,_=y.ccclass,g=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moreGameBtnNode=null,e.downRowList=null,e.moreGameList=null,e.centerPage=null,e.wxSubNode=null,e.wxMsgNode=null,e.centerMinRowList=null,e.friendSubNode=null,e.rpGameBtnNode=null,e.rpGameUINode=null,e._isFirstMain=!1,e}return i(e,t),e.prototype.start=function(){var t=this;a.default.on(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),l.default.onRegisterBtnEvent(this.moreGameBtnNode,this.onShowMoreGame.bind(this)),l.default.onRegisterBtnEvent(this.rpGameBtnNode,this.onShowRpGame.bind(this)),this.moreGameBtnNode.active=!1,this.rpGameBtnNode.active=!1,this.node.on(p.NavigateFail,function(e){e.stopPropagation(),e.getUserData().isOk||t.onShowAdPage(!0)},this),this.friendSubNode.active=!1,s.default.sdkManager.postMessage({messageType:c.EMainSubMsgType.None}),this.schedule(function(){t.friendSubNode.active=!1},.1)},e.prototype.onDestroy=function(){a.default.off(c.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(c.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this)},e.prototype.onShowUI=function(){},e.prototype.onHideUI=function(){},e.prototype.onShowAdPage=function(t){void 0===t&&(t=!1)},e.prototype.onShowMoreGame=function(){},e.prototype.onShowRpGame=function(){},e.prototype.showRpGameBtn=function(t){void 0===t&&(t=!1)},r([g(cc.Node)],e.prototype,"moreGameBtnNode",void 0),r([g({type:cc.Node,tooltip:"\u5e95\u90e8\u6a2a\u5411\u5bfc\u51fa\u4f4d\u5217\u8868"})],e.prototype,"downRowList",void 0),r([g({type:u.default,tooltip:"\u66f4\u591a\u6e38\u620f\u663e\u793a"})],e.prototype,"moreGameList",void 0),r([g({type:d.default,tooltip:"\u4e2d\u95f4\u63a8\u8350\u9875\u663e\u793a"})],e.prototype,"centerPage",void 0),r([g({type:f.default,tooltip:"WXSubNode"})],e.prototype,"wxSubNode",void 0),r([g({type:h.default,tooltip:"WXMsgNode"})],e.prototype,"wxMsgNode",void 0),r([g({type:cc.Node,tooltip:"\u4e2d\u95f4\u6a2a\u5411\u5bfc\u51fa\u4f4d\u5217\u8868"})],e.prototype,"centerMinRowList",void 0),r([g(cc.Node)],e.prototype,"friendSubNode",void 0),r([g(cc.Node)],e.prototype,"rpGameBtnNode",void 0),r([g(cc.Node)],e.prototype,"rpGameUINode",void 0),r([_],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../GameController":"GameController","../../../comFrame/event/EventMng":"EventMng","../../../data/ConstantCf":"ConstantCf","../../others/UIHelp":"UIHelp","./CenterPage":"CenterPage","./MoreGameList":"MoreGameList","./PosAdItem":"PosAdItem","./WXMsgNode":"WXMsgNode","./WXSubNode":"WXSubNode"}],WxAdVideoMgr:[function(t,e,o){"use strict";cc._RF.push(e,"83dbd+RhWxBAYKLinIt/liw","WxAdVideoMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./reward/RewardAdVivo"),i=t("./reward/RewardAdWx"),r=t("./reward/RewardAdOppo"),a=t("./reward/RewardAdBaidu"),c=t("./reward/RewardAdTest"),s=t("../utils/ComFun"),l=t("../../data/Config"),d=t("./reward/RewardAdTT"),u=t("./reward/RewardAdQQYYW"),p=t("./reward/RewardAdXM"),h=t("./reward/RewardAdAndroid"),f=function(){function t(){this._rewardAd=null,this._adUnitIds=[]}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.onLoadVideoAd=function(t){if(console.log("RewardAdIdStr  : ",t),t&&""!=t&&(this._adUnitIds=t.split(",")),this._adUnitIds.length>0){console.log("this._adUnitIds   : ",this._adUnitIds);var e=this.getRewardAd();e&&e.onLoadRewardAd(this._adUnitIds[s.default.randomNum(0,this._adUnitIds.length-1)])}},t.prototype.onShowVideoAd=function(t,e,o){var n=this.getRewardAd();n&&n.showRewardAd(t,e,o)},t.prototype.getRewardAd=function(){if(!this._rewardAd)switch(l.default.ModelAPI){case l.EAPIModel.WeChat:this._rewardAd=new i.default;break;case l.EAPIModel.QQ:this._rewardAd=new u.default;break;case l.EAPIModel.OPPO:this._rewardAd=new r.default;break;case l.EAPIModel.BAIDU:this._rewardAd=new a.default;break;case l.EAPIModel.VIVO:this._rewardAd=new n.default;break;case l.EAPIModel.TT:this._rewardAd=new d.default;break;case l.EAPIModel.XM:this._rewardAd=new p.default;break;case l.EAPIModel.Android:this._rewardAd=new h.default;break;default:this._rewardAd=new c.default}return this._rewardAd},t}();o.default=f,cc._RF.pop()},{"../../data/Config":"Config","../utils/ComFun":"ComFun","./reward/RewardAdAndroid":"RewardAdAndroid","./reward/RewardAdBaidu":"RewardAdBaidu","./reward/RewardAdOppo":"RewardAdOppo","./reward/RewardAdQQYYW":"RewardAdQQYYW","./reward/RewardAdTT":"RewardAdTT","./reward/RewardAdTest":"RewardAdTest","./reward/RewardAdVivo":"RewardAdVivo","./reward/RewardAdWx":"RewardAdWx","./reward/RewardAdXM":"RewardAdXM"}],WxSubscribeNode:[function(t,e,o){"use strict";cc._RF.push(e,"86dfbZ7/T5Ne4wneD6o4sBg","WxSubscribeNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/ComFun"),c=t("../../GameController"),s=t("../../logic/others/TipsMng"),l=t("../../logic/others/ServerCtr"),d=t("../../data/Config"),u=t("../../logic/others/GameCtr"),p=t("../../GameDataCenter"),h=cc._decorator,f=h.ccclass,y=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moduleIds=[],e.selectToggle=null,e._subscribeIds=[],e}return i(e,t),e.prototype.onLoad=function(){if(d.default.ModelAPI==d.EAPIModel.WeChat&&d.default.playCf.subscribeTempIds)for(var t=0;t<this.moduleIds.length;t++){var e=d.default.playCf.subscribeTempIds[this.moduleIds[t]];e&&""!=e&&this._subscribeIds.push(e)}this.node.active=this._subscribeIds.length>0},e.prototype.onSubscribe=function(t){if(console.log("\u5f00\u59cb\u8ba2\u9605\u6d88\u606f"),u.default.isNeedTimeUpdate(p.default.account.lastWxSubscribeTime)){var e=function(){t&&t()},o=function(t){t&&t.length>0?l.default.sendWxSubscribe(t).then(function(){s.default.showTips("\u8ba2\u9605\u6210\u529f\uff01"),p.default.account.lastWxSubscribeTime=u.default.getCurServerTime(),c.default.sendEvent("\u8ba2\u9605\u6210\u529f")}).catch(function(t){s.default.showTips(t)}):console.log("\u65e0\u8ba2\u9605\u6210\u529f\u6d88\u606f\uff01"),e()};if(this._subscribeIds.length>0){if(d.default.ModelAPI==d.EAPIModel.WeChat){var n=c.default.sdkManager.getUserInfo().systemInfo;if(a.default.compareVersion(n.SDKVersion,"2.4.4")<0)return console.log("\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301\u8ba2\u9605\u6d88\u606f",n.SDKVersion),void e();var i=this._subscribeIds;return void wx.requestSubscribeMessage({tmplIds:i,success:function(t){console.log(t);for(var e="",n=[],r=0;r<i.length;r++){var a=i[r],c=t[a];if(c&&""!=c)switch(c){case"accept":n.push(a),e="\u8ba2\u9605\u6388\u6743\u6210\u529f\uff01";break;case"reject":e="\u8ba2\u9605\u5df2\u62d2\u7edd\uff01";break;case"ban":e="\u8ba2\u9605\u88ab\u540e\u53f0\u5c01\u7981\uff01";break;default:e="\u5f02\u5e38\u72b6\u6001:"+c}else e="\u8fd4\u56de\u5f02\u5e38";""!=e&&s.default.showTips(e)}o(n)},fail:function(t){console.log(t),s.default.showTips(t.errMsg+", errCode="+t.errCode),e()}})}if(d.default.ModelAPI==d.EAPIModel.TT)return void window.tt.requestSubscribeMessage({tmplIds:this._subscribeIds,success:function(t){console.log("\u8ba2\u9605\u6210\u529f: "+t);for(var e="",n=[],i=0;i<this._subscribeIds.length;i++){var r=this._subscribeIds[i],a=t[r];if(a&&""!=a)switch(a){case"accept":n.push(r),e="\u8ba2\u9605\u6388\u6743\u6210\u529f\uff01";break;case"reject":e="\u8ba2\u9605\u5df2\u62d2\u7edd\uff01";break;case"ban":e="\u8ba2\u9605\u88ab\u540e\u53f0\u5c01\u7981\uff01";break;default:e="\u5f02\u5e38\u72b6\u6001:"+a}else e="\u8fd4\u56de\u5f02\u5e38";""!=e&&s.default.showTips(e)}o(n)},fail:function(t){console.log("\u8ba2\u9605\u5931\u8d25: "+t),s.default.showTips(t.errMsg+", errCode="+t.errCode),e()},complete:function(t){console.log("\u5b8c\u6210: "+t)}})}t&&t()}else t&&t()},r([y({type:[cc.Integer],tooltip:"\u6a21\u677fid"})],e.prototype,"moduleIds",void 0),r([y({type:cc.Toggle,tooltip:"\u590d\u9009\u6846"})],e.prototype,"selectToggle",void 0),r([f],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../GameController":"GameController","../../GameDataCenter":"GameDataCenter","../../data/Config":"Config","../../logic/others/GameCtr":"GameCtr","../../logic/others/ServerCtr":"ServerCtr","../../logic/others/TipsMng":"TipsMng","../utils/ComFun":"ComFun"}],XMAdNode:[function(t,e,o){"use strict";cc._RF.push(e,"1df11YrVUtDZLMgrzNLvunh","XMAdNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../comFrame/event/EventMng"),c=t("../../../comFrame/sdk/AdMgr"),s=t("../../../data/ConstantCf"),l=t("../../../GameDataCenter"),d=cc._decorator,u=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isFirstMain=!1,e._preSceneName="startScene",e._isFirstShortcut=!1,e}return i(e,t),e.prototype.start=function(){a.default.on(s.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.on(s.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.on(s.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this)},e.prototype.onDestroy=function(){a.default.off(s.EGameEvent.UI_SHOW,this.onShowUI.bind(this),this),a.default.off(s.EGameEvent.UI_HIDE,this.onHideUI.bind(this),this),a.default.off(s.EGameEvent.SCENE_SWITCH,this.showScene.bind(this),this)},e.prototype.onShowUI=function(t){var e=t.ui;if(console.log("ad onShowUI",e),"None"!=e&&!l.default.account.isPlayFirst){["UIReady","UIPlay","UISceneUse","UIGame","UIShop","UIRank","UIWorldRank","UIRoleGet","UISceneGet","UIPlayHelp","UIPause","UIAddDesk","UITurntable","UISign","UICenterTips","UISupply","UIMusicPackExtend","UIMusicExtend","UIMusicPackGet","UIMusicGet","UIAllMusic"].indexOf(e)>-1?c.default.instance.showBanner(!0):c.default.instance.showBanner();var o={UIReady:["UIReady/downNode"],UIPlay:["PlayNode/uiNode/downNode"],UIShop:["UIShop/mListNode"],UIAllMusic:["UIAllMusic/mListNode"]};if(o[e])for(var n=cc.director.getScene().getChildByName("Canvas"),i=0;i<o[e].length;i++){var r=o[e][i],a=cc.find(r,n);a&&(a.getComponent(cc.Widget).bottom=200,a.getComponent(cc.Widget).updateAlignment())}["UISceneUse"].indexOf(e)>-1&&this.showInsertAd()}},e.prototype.onHideUI=function(t){console.log("ad onHideUI",t.ui)},e.prototype.showScene=function(t){var e=t.sceneName;"playScene"==this._preSceneName&&"mainScene"==e&&this.createShortcut(),this._preSceneName=e},e.prototype.createShortcut=function(){this._isFirstShortcut?qg.getShortcut().hasInstalled({success:function(t){t?console.log("\u5df2\u521b\u5efa"):(console.log("\u672a\u521b\u5efa"),qg.getShortcut().install({success:function(){console.log("\u521b\u5efa\u6210\u529f")}}))}}):this._isFirstShortcut=!0},e.prototype.showInsertAd=function(){console.log("showInsertAd");var t=qg.createInterstitialAd({adUnitId:"12345"});t.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(t))}),t.show()},r([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../GameDataCenter":"GameDataCenter","../../../comFrame/event/EventMng":"EventMng","../../../comFrame/sdk/AdMgr":"AdMgr","../../../data/ConstantCf":"ConstantCf"}],XmlHttp:[function(t,e,o){"use strict";cc._RF.push(e,"2b1ffz64VtCMr6xpb6D3QbU","XmlHttp"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.isEmpty=function(t){return void 0===t||null==t||"string"==typeof t&&t.length<=0},t.prototype.parseParams=function(t){try{var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(o+"="+t[o]);return e.join("&")}catch(n){return""}},t.prototype.request=function(t,e,o,n,i,r){void 0===n&&(n=""),void 0===i&&(i=null),void 0===r&&(r="POST");var a=cc.loader.getXMLHttpRequest(),c="";e&&("POST"==r?c=JSON.stringify(e):(c=this.parseParams(e),console.log("paramStr:",c),t+="?"+c)),cc.log(c),a.open(r,t,!0),console.log("requst:",t),n&&a.setRequestHeader("Authorization",n),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.timeout=1e4;var s=null!=i,l=function(t){s&&!cc.isValid(i)||(o&&o(t),o=null)};a.onreadystatechange=function(){a.readyState!=XMLHttpRequest.DONE&&4!=a.readyState||(200==Number(a.status)||0==Number(a.status)?(console.log(a.responseText),l(a.responseText)):(console.error(a),l(a.responseText)))},a.ontimeout=function(){l()},a.onerror=function(){l()},a.send(c)},t.prototype.downloadFile=function(t,e,o){void 0===o&&(o="GET");var n=cc.loader.getXMLHttpRequest();n.open(o,t,!0),console.log("requst:",t),n.timeout=1e4,n.onreadystatechange=function(){n.readyState!=XMLHttpRequest.DONE&&4!=n.readyState||(200==Number(n.status)||0==Number(n.status)?(e&&e(n.response),e=null):(console.error(n),e&&e(),e=null))},n.ontimeout=function(){e&&e(),e=null},n.onerror=function(){e&&e(),e=null},n.send("")},t}();o.default=new n,cc._RF.pop()},{}],ZIndexSet:[function(t,e,o){"use strict";cc._RF.push(e,"9c616v316RDRIigImvch7yL","ZIndexSet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zIndex=0,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=this.zIndex},r([s({tooltip:"\u8bbe\u7f6e\u7684zIndex"})],e.prototype,"zIndex",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],barrageCtr:[function(t,e,o){"use strict";cc._RF.push(e,"a8417tb8HtJloCvMSyVxUZQ","barrageCtr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.desLab=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showAct=function(t,e){this.desLab.string=t,this.node.opacity=255,cc.tween(this.node).by(8,{position:cc.v3(-1550,0,0)}).call(function(){e&&e()}).start()},r([s({type:cc.Label,tooltip:"\u6587\u672clab"})],e.prototype,"desLab",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],bottomNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"6c199tXKatEEIx8Kwbg9slT","bottomNativeAd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./NativeAd"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nativeAd=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.active=!1},e.prototype.start=function(){},e.prototype.onDestroy=function(){this.nativeAd&&this.nativeAd.destroyNativeAd()},r([l({type:a.default,tooltip:"nativeAd"})],e.prototype,"nativeAd",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./NativeAd":"NativeAd"}],effectPlayCf:[function(t,e,o){"use strict";cc._RF.push(e,"4e4b0DHSP9Lda5qKTQe8WqW","effectPlayCf");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../data/Config"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spineNode=null,e}return i(e,t),e.prototype.onLoad=function(){this.playSpinAction(),this.spineNode.on(dragonBones.EventObject.COMPLETE,this.onComplete.bind(this),this)},e.prototype.playSpinAction=function(){this.spineNode.playAnimation("newAnimation",1)},e.prototype.onComplete=function(){this.unscheduleAllCallbacks(),this.scheduleOnce(this.playSpinAction.bind(this),a.default.playCf.effectPlayTime)},r([l({type:dragonBones.ArmatureDisplay,tooltip:"\u9aa8\u9abc\u52a8\u753b"})],e.prototype,"spineNode",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../data/Config":"Config"}],floatTool:[function(t,e,o){"use strict";function n(t){var e,o={times:1,num:0};if(e=t,Math.floor(e)===e)return o.num=t,o;var n=t+"",i=n.indexOf("."),r=n.substr(i+1).length,a=Math.pow(10,r),c=t>=0?1:-1,s=parseInt(t.toString().replace(/[^0-9]/g,""))*c;return o.times=a,o.num=s,o}function i(t,e,o){var r=n(t),a=n(e),c=r.num,s=a.num,l=r.times,d=a.times,u=l>d?l:d;switch(o){case"add":return(l===d?c+s:l>d?c+s*(l/d):c*(d/l)+s)/u;case"subtract":return(l===d?c-s:l>d?c-s*(l/d):c*(d/l)-s)/u;case"multiply":return c*s/(l*d);case"divide":return i(c/s,d/l,"multiply")}}cc._RF.push(e,"9c964IOvLdNvoj16OJ9N/dj","floatTool"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.add=function(t){for(var e=t[0],o=1;o<t.length;++o)e=i(e,t[o],"add");return e},t.prototype.subtract=function(t){for(var e=t[0],o=1;o<t.length;++o)e=i(e,t[o],"subtract");return e},t.prototype.multiply=function(t){for(var e=t[0],o=1;o<t.length;++o)e=i(e,t[o],"multiply");return e},t.prototype.divide=function(t){for(var e=t[0],o=1;o<t.length;++o)e=i(e,t[o],"divide");return e},t}();o.default=new r,cc._RF.pop()},{}],starParticle:[function(t,e,o){"use strict";cc._RF.push(e,"fc3ccghGTVE+50+tJa0ouNw","starParticle"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._starPrefab=null,this._starPool=new cc.NodePool("tipsNodes"),this._bShowAct=!1,this._starRootNode=null}return t.prototype.loadTipsPrefab=function(t){var e=this;cc.loader.loadRes("prefabs/ui/effect/xingxing/Prefeb/xingxing",cc.Prefab,function(o,n){o||(e._starPrefab=n,t&&t())})},t.prototype.showTipsAct=function(){var t=this;if(!this._bShowAct){this._bShowAct=!0;var e=function(){var e=t._starPool.get();e||(e=cc.instantiate(t._starPrefab)),e.parent=t._starRootNode,cc.Tween.stopAllByTarget(e),e.y=-cc.winSize.height/2;var o=e.getComponentInChildren(cc.ParticleSystem);o&&(o.resetSystem(),cc.tween(e).to(3,{y:cc.winSize.height/2}).call(function(){o.stopSystem(),t._bShowAct=!1}).start())};this._starRootNode||(this._starRootNode=new cc.Node("starRootNode"),cc.game.addPersistRootNode(this._starRootNode),this._starRootNode.position=new cc.Vec3(.5*cc.winSize.width,.5*cc.winSize.height,0)),this._starPrefab?e():this.loadTipsPrefab(function(){e()})}},t.prototype.showStarParticle=function(){this.showTipsAct()},t}();o.default=new n,cc._RF.pop()},{}]},{},["GameController","GameDataCenter","EventConst","ViewZOrder","EventMng","IDataBase","IDataLocal","IDataModel","XmlHttp","AdMgr","AdShareMgr","AdShareShowState","AldSdk","BannerAd","InsertAdMgr","MisTouchSet","WxAdVideoMgr","WxSubscribeNode","BannerAdAndroid","BannerAdBL","BannerAdBaidu","BannerAdBase","BannerAdOppo","BannerAdQQ","BannerAdQQYYW","BannerAdQTT","BannerAdTT","BannerAdTest","BannerAdUC","BannerAdVivo","BannerAdWx","BannerAdXM","InsertAdBase","InsertAdOppo","InsertAdVivo","NativeAdBase","NativeAdOppo","NativeAdVivo","SdkAndroid","SdkAndroidJK","SdkAndroidJKHW","SdkAndroidJKVIVO","SdkAndroidZQ","SdkBL","SdkBaidu","SdkBase","SdkH5","SdkOppo","SdkQQ","SdkQTT","SdkTT","SdkUC","SdkVivo","SdkWx","SdkXM","RewardAdAndroid","RewardAdBL","RewardAdBaidu","RewardAdBase","RewardAdOppo","RewardAdQQ","RewardAdQQYYW","RewardAdQTT","RewardAdTT","RewardAdTest","RewardAdUC","RewardAdVivo","RewardAdWx","RewardAdXM","BaiduRecommendBtn","PlatformNodeChange","AddPrefabNode","AudioStateNode","BaseCellComponent","BaseScrollViewComponent","FixPhone","MeshMask","ShaderAni","UIBase","UIMng","ZIndexSet","UIActBase","UIActDown","UIActLeft","UIActScale","UIActUp","ComFun","Log","MaskPlus","MusicCtr","SingletonFactory","CfgMng","Config","ConstantCf","AdSdkBaidu","AdSdkBase","AdSdkOV","AdSdkOppo","AdSdkQQ","AdSdkTT","AdSdkVivo","AdSdkWX","AccountModel","ActivityModel","AndroidCtr","AudioCtr","BarrageMng","BlurMask","CutToAnimation","GameCtr","GuideMng","LineItem","RippleAnimation","ServerCtr","StartAnimation","StripItem","TipsMng","UIHelp","UVAnimation","effectPlayCf","floatTool","starParticle","MainScene","StartScene","AdCtr","AndroidAdNode","BaiduAdNode","CenterPage","ColAdList","CustomAdPos","FriendPlayCard","LevelPosAd","MainPosAdNode","MinRowAdList","MoreGameList","NativeAd","OppoAdNode","PosAdItem","QQAdNode","RowAdList","RpGameUI","TTAdNode","UIAdFullPage","UIAdPage","VivoAdNode","WXMsgNode","WXSubNode","WxAdNode","XMAdNode","bottomNativeAd","ActivityBtnState","AddHandAni","DiamondNumUpdate","DragonBonePlay","GoldNumUpdate","HandAni","LoadAni","LoadHelper","LoadSceneAni","PowerNumUpdate","ResNumUpdate","RewardItem","SceneIcon","SpriteNumNode","StripCtr","TipsCtr","TopResNode","WaitMng","barrageCtr","UIExcharge","UIGuide","UICircle","UIFriend","UIInvite","UIMain","UIMap","UISupply","CircleItem","CircleLine","ClubItem","RoleItem","SocialBase","UIPause","UIPrompt","LoginNode"]);